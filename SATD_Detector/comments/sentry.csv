file path,line #,comment,satd
sentry/conftest.py,18,XXX(dramer): Kombu throws a warning due to transaction.commit_manually,
sentry/conftest.py,19,being used,
sentry/conftest.py,22,always install plugins for the tests,
sentry/conftest.py,25,add custom test markers,
sentry/conftest.py,37,"Sentry's pytest plugin explicitly doesn't load plugins, so let's load all of them",
sentry/conftest.py,38,and ignore the fact that we're not *just* testing our own,
sentry/conftest.py,39,Note: We could manually register/configure INSTALLED_APPS by traversing our entry points,
sentry/conftest.py,40,"or package directories, but this is easier assuming Sentry doesn't change APIs.",
sentry/conftest.py,41,Note: Order of operations matters here.,
sentry/conftest.py,57,this isn't the real secret,
sentry/conftest.py,64,TODO(joshuarli): six 1.12.0 adds ensure_binary: six.ensure_binary(item.location[0]),
sentry/setup.py,1,!/usr/bin/env python,
sentry/setup.py,17,add sentry to path so we can import sentry.utils.distutils,
sentry/setup.py,40,override django version in requirements file if DJANGO_VERSION is set,
sentry/setup.py,50,If we are not a light build we want to also execute build_assets as,
sentry/setup.py,51,part of our source build pipeline.,
sentry/setup.py,112,TODO: This can be removed once the getsentry tests no longer check for this app,
sentry/docker/,1,flake8: noqa,
sentry/docker/,4,"This file is just Python, with a touch of Django which means",
sentry/docker/,5,you can inherit and tweak settings to your hearts content.,
sentry/docker/,7,"For Docker, the following environment variables are supported:",
sentry/docker/,8,SENTRY_POSTGRES_HOST,
sentry/docker/,9,SENTRY_POSTGRES_PORT,
sentry/docker/,10,SENTRY_DB_NAME,
sentry/docker/,11,SENTRY_DB_USER,
sentry/docker/,12,SENTRY_DB_PASSWORD,
sentry/docker/,13,SENTRY_RABBITMQ_HOST,
sentry/docker/,14,SENTRY_RABBITMQ_USERNAME,
sentry/docker/,15,SENTRY_RABBITMQ_PASSWORD,
sentry/docker/,16,SENTRY_RABBITMQ_VHOST,
sentry/docker/,17,SENTRY_REDIS_HOST,
sentry/docker/,18,SENTRY_REDIS_PASSWORD,
sentry/docker/,19,SENTRY_REDIS_PORT,
sentry/docker/,20,SENTRY_REDIS_DB,
sentry/docker/,21,SENTRY_MEMCACHED_HOST,
sentry/docker/,22,SENTRY_MEMCACHED_PORT,
sentry/docker/,23,SENTRY_FILESTORE_DIR,
sentry/docker/,24,SENTRY_SERVER_EMAIL,
sentry/docker/,25,SENTRY_EMAIL_HOST,
sentry/docker/,26,SENTRY_EMAIL_PORT,
sentry/docker/,27,SENTRY_EMAIL_USER,
sentry/docker/,28,SENTRY_EMAIL_PASSWORD,
sentry/docker/,29,SENTRY_EMAIL_USE_TLS,
sentry/docker/,30,SENTRY_ENABLE_EMAIL_REPLIES,
sentry/docker/,31,SENTRY_SMTP_HOSTNAME,
sentry/docker/,32,SENTRY_MAILGUN_API_KEY,
sentry/docker/,33,SENTRY_SINGLE_ORGANIZATION,
sentry/docker/,34,SENTRY_SECRET_KEY,
sentry/docker/,57,You should not change this setting after your database has been created,
sentry/docker/,58,unless you have altered all schemas first,
sentry/docker/,61,"If you're expecting any kind of real traffic on Sentry, we highly recommend",
sentry/docker/,62,configuring the CACHES and Redis settings,
sentry/docker/,64,,
sentry/docker/,65,General,
sentry/docker/,66,,
sentry/docker/,68,Instruct Sentry that this install intends to be run by a single organization,
sentry/docker/,69,and thus various UI optimizations should be enabled.,
sentry/docker/,72,,
sentry/docker/,73,Redis,
sentry/docker/,74,,
sentry/docker/,76,Generic Redis configuration used as defaults for various things including:,
sentry/docker/,77,"Buffers, Quotas, TSDB",
sentry/docker/,106,,
sentry/docker/,107,Cache,
sentry/docker/,108,,
sentry/docker/,110,Sentry currently utilizes two separate mechanisms. While CACHES is not a,
sentry/docker/,111,"requirement, it will optimize several high throughput patterns.",
sentry/docker/,124,A primary cache is required for things such as processing events,
sentry/docker/,127,,
sentry/docker/,128,Queue,
sentry/docker/,129,,
sentry/docker/,131,See https://docs.getsentry.com/on-premise/server/queue/ for more,
sentry/docker/,132,information on configuring your queue broker and workers. Sentry relies,
sentry/docker/,133,on a Python framework called Celery to manage queues.,
sentry/docker/,152,,
sentry/docker/,153,Rate Limits,
sentry/docker/,154,,
sentry/docker/,156,Rate limits apply to notification handlers and are enforced per-project,
sentry/docker/,157,automatically.,
sentry/docker/,161,,
sentry/docker/,162,Update Buffers,
sentry/docker/,163,,
sentry/docker/,165,Buffers (combined with queueing) act as an intermediate layer between the,
sentry/docker/,166,database and the storage API. They will greatly improve efficiency on large,
sentry/docker/,167,numbers of the same events being sent to the API in a short amount of time.,
sentry/docker/,168,"(read: if you send any kind of real data to Sentry, you should enable buffers)",
sentry/docker/,172,,
sentry/docker/,173,Quotas,
sentry/docker/,174,,
sentry/docker/,176,Quotas allow you to rate limit individual projects or the Sentry install as,
sentry/docker/,177,a whole.,
sentry/docker/,181,,
sentry/docker/,182,TSDB,
sentry/docker/,183,,
sentry/docker/,185,The TSDB is used for building charts as well as making things like per-rate,
sentry/docker/,186,alerts possible.,
sentry/docker/,190,,
sentry/docker/,191,Digests,
sentry/docker/,192,,
sentry/docker/,194,The digest backend powers notification summaries.,
sentry/docker/,198,,
sentry/docker/,199,Web Server,
sentry/docker/,200,,
sentry/docker/,202,"If you're using a reverse SSL proxy, you should enable the X-Forwarded-Proto",
sentry/docker/,203,header and set `SENTRY_USE_SSL=1`,
sentry/docker/,213,"'workers': 1,  # the number of web workers",
sentry/docker/,216,,
sentry/docker/,217,Mail Server,
sentry/docker/,218,,
sentry/docker/,232,The email address to send on behalf of,
sentry/docker/,235,"If you're using mailgun for inbound mail, set your API key and configure a",
sentry/docker/,236,route to forward to /api/hooks/mailgun/inbound/,
sentry/docker/,239,"If you specify a MAILGUN_API_KEY, you definitely want EMAIL_REPLIES",
sentry/docker/,248,"If this value ever becomes compromised, it's important to regenerate your",
sentry/docker/,249,SENTRY_SECRET_KEY. Changing this value will result in all current sessions,
sentry/docker/,250,being invalidated.,
sentry/src/bitfield/types.py,118,TODO: change to bitarray?,
sentry/src/bitfield/types.py,207,NOQA,
sentry/src/bitfield/types.py,239,NOQA,
sentry/src/bitfield/types.py,255,We need to register adapters in Django 1.8 in order to prevent,
sentry/src/bitfield/types.py,256,"""ProgrammingError: can't adapt type""",
sentry/src/bitfield/models.py,10,"Count binary capacity. Truncate ""0b"" prefix from binary form.",
sentry/src/bitfield/models.py,11,Twice faster than bin(i)[2:] or math.floor(math.log(i)),
sentry/src/bitfield/models.py,48,NOQA,
sentry/src/bitfield/models.py,51,NOQA,
sentry/src/bitfield/models.py,54,NOQA,
sentry/src/bitfield/models.py,77,Update flags from class in case they've changed.,
sentry/src/bitfield/models.py,89,Get only integer keys in correct range,
sentry/src/bitfield/models.py,95,Fill list with values from dict or with empty values,
sentry/src/bitfield/models.py,136,Regression for #1425: fix bad data that was created resulting,
sentry/src/bitfield/models.py,137,in negative values for flags.  Compute the value that would,
sentry/src/bitfield/models.py,138,have been visible ot the application to preserve compatibility.,
sentry/src/bitfield/models.py,147,Ensure flags are consistent for unpickling,
sentry/src/bitfield/__init__.py,3,NOQA,
sentry/src/,32,HACK(dcramer): work around MRO issue with plugin metaclass,
sentry/src/,35,"TODO(dcramer): The following is a possible ""better implementation"" of the",
sentry/src/,36,"core issue implementation, though it would need a compat layer to push",
sentry/src/,37,it upstream,
sentry/src/,46,TODO(dcramer): we could proactively refresh the token if we knew,
sentry/src/,47,about expires,
sentry/src/,58,refresh token,
sentry/src/,1,Port of https://github.com/samuelmeuli/anonymize-ip to Python 2,
sentry/src/,47,IP address to be anonymized,
sentry/src/,52,IPv4,
sentry/src/,57,IPv6,
sentry/src/,62,Invalid address,
sentry/src/,88,Test that mask only contains valid numbers,
sentry/src/,93,Test that IP address does not get anonymized completely,
sentry/src/,99,Test that IP address is changed by anonymization,
sentry/src/,107,Test that mask only contains valid numbers,
sentry/src/,112,Test that IP address does not get anonymized completely,
sentry/src/,120,Test that IP address is changed by anonymization,
sentry/src/,162,"TODO(dcramer): we'd like this to be the event culprit, but Sentry",
sentry/src/,163,does not currently retain it,
sentry/src/,172,They can be the same if there is no culprit,
sentry/src/,173,So we set culprit to an empty string instead of duplicating the text,
sentry/src/,197,Make sure it's an absolute uri since we're sending this,
sentry/src/,198,outside of Sentry into Slack,
sentry/src/,253,Apparently we've stored some bad data from before we used `URLField`.,
sentry/src/,20,http://victorops.force.com/knowledgebase/articles/Integration/Alert-Ingestion-API-Documentation/,
sentry/src/,61,TODO(dcramer): half of this plugin is for the issue tracking integration,
sentry/src/,62,(which is a singular entry) and the other half is generic GitHub. It'd be nice,
sentry/src/,63,"if plugins were entirely generic, and simply registered the various hooks.",
sentry/src/,170,TODO: support multiple identities via a selection input in the form?,
sentry/src/,208,XXX: get_option may need tweaked in Sentry so that it can be pre-fetched in bulk,
sentry/src/,306,TODO(dcramer): get_or_create would be a useful native solution,
sentry/src/,368,TODO(dcramer): let's make this core functionality and move the actual database,
sentry/src/,369,updates into Sentry core,
sentry/src/,414,use config name because that is kept in sync via webhooks,
sentry/src/,432,(not currently used by sentry),
sentry/src/,437,use config name because that is kept in sync via webhooks,
sentry/src/,462,add in integrations that might have been set up for org,
sentry/src/,463,by users w diff permissions,
sentry/src/,487,check that user actually has access to add,
sentry/src/,495,TODO(jess): figure out way to migrate from github --> github apps,
sentry/src/,512,there isn't a webhook to delete for integrations,
sentry/src/,525,use config name because that is kept in sync via webhooks,
sentry/src/,20,return api request that fetches last ~30 commits,
sentry/src/,21,see https://developer.github.com/v3/repos/commits/#list-commits-on-a-repository,
sentry/src/,22,using end_sha as parameter,
sentry/src/,26,see https://developer.github.com/v3/repos/commits/#compare-two-commits,
sentry/src/,27,where start sha is oldest and end is most recent,
sentry/src/,31,see https://developer.github.com/v3/pulls/#list-commits-on-a-pull-request,
sentry/src/,32,Max: 250 Commits,
sentry/src/,76,TODO(jess): remove this whenever it's out of preview,
sentry/src/,100,Generate the JWT,
sentry/src/,102,issued at time,
sentry/src/,104,JWT expiration time (10 minute maximum),
sentry/src/,106,Integration's GitHub identifier,
sentry/src/,116,TODO(jess): remove this whenever it's out of preview,
sentry/src/,126,TODO(jess): remove this whenever it's out of preview,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,4,we keep this as a raw string as order matters for hmac signing,
sentry/src/,7,NOQA,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,53,https://developer.github.com/v3/activity/events/types/#installationevent,
sentry/src/,57,TODO(jess): handle uninstalls,
sentry/src/,71,https://developer.github.com/v3/activity/events/types/#installationrepositoriesevent,
sentry/src/,100,TODO(jess): what do we want to do when they're removed?,
sentry/src/,101,maybe signify that we've lost access but not deleted?,
sentry/src/,120,"We need to track GitHub's ""full_name"" which is the repository slug.",
sentry/src/,121,This is needed to access the API since `external_id` isn't sufficient.,
sentry/src/,136,try to figure out who anonymous emails are,
sentry/src/,139,bot users don't have usernames,
sentry/src/,163,"even if we can't find a user, set to none so we",
sentry/src/,164,don't re-query,
sentry/src/,189,"TODO(dcramer): we need to deal with bad values here, but since",
sentry/src/,190,"its optional, lets just throw it out for now",
sentry/src/,247,https://developer.github.com/v3/activity/events/types/#pushevent,
sentry/src/,266,https://developer.github.com/v3/activity/events/types/#pullrequestevent,
sentry/src/,268,TODO(maxbittker) handle is_apps correctly (What does this comment mean?),
sentry/src/,280,"We need to track GitHub's ""full_name"" which is the repository slug.",
sentry/src/,281,This is needed to access the API since `external_id` isn't sufficient.,
sentry/src/,291,"The value of the merge_commit_sha attribute changes depending on the state of the pull request. Before a pull request is merged, the merge_commit_sha attribute holds the SHA of the test merge commit. After a pull request is merged, the attribute changes depending on how the pull request was merged:",
sentry/src/,292,"- If the pull request was merged as a merge commit, the attribute represents the SHA of the merge commit.",
sentry/src/,293,"- If the pull request was merged via a squash, the attribute represents the SHA of the squashed commit on the base branch.",
sentry/src/,294,"- If the pull request was rebased, the attribute represents the commit that the base branch was updated to.",
sentry/src/,295,https://developer.github.com/v3/pulls/#get-a-single-pull-request,
sentry/src/,352,https://developer.github.com/webhooks/,
sentry/src/,426,non-integration version,
sentry/src/,3,from rest_framework.response import Response,
sentry/src/,4,from sentry.exceptions import PluginError,
sentry/src/,5,from sentry.plugins.bases.issue2 import IssueGroupActionEndpoint,
sentry/src/,6,from six.moves.urllib.parse import urlencode,
sentry/src/,8,class GitlabIssueSearchEndpoint(IssueGroupActionEndpoint):,
sentry/src/,9,"def get(self, request, group, **kwargs):",
sentry/src/,10,field = request.GET.get('autocomplete_field'),
sentry/src/,11,query = request.GET.get('autocomplete_query'),
sentry/src/,12,if field != 'issue_id' or not query:,
sentry/src/,13,return Response({'issue_id': []}),
sentry/src/,15,"repo = self.get_option('repo', group.project)",
sentry/src/,16,client = self.plugin.get_client(group.project),
sentry/src/,17,"response = client.search_issues(repo, query)",
sentry/src/,19,issues = [{,
sentry/src/,20,"'text': '(#%s) %s' % (i['number'], i['title']),",
sentry/src/,21,'id': i['number'],
sentry/src/,22,"} for i in response.get('items', [])]",
sentry/src/,24,return Response({field: issues}),
sentry/src/,39,parse out the repo name and the instance,
sentry/src/,81,https://docs.microsoft.com/en-us/rest/api/vsts/git/commits/get%20changes#versioncontrolchangetype,
sentry/src/,43,TODO(dcramer): Both Account and Project can query the API an access,
sentry/src/,44,"token, and could likely be moved to the 'Create Issue' form",
sentry/src/,40,"XXX: Link is not yet used, as we can't explicitly bind it to Sentry.",
sentry/src/,41,if link:,
sentry/src/,42,data.append({,
sentry/src/,43,"'op': 'add',",
sentry/src/,44,"'path': FIELD_MAP['link'],",
sentry/src/,45,'value': {,
sentry/src/,46,"'rel': 'Hyperlink',",
sentry/src/,47,"'url': link,",
sentry/src/,48,},
sentry/src/,49,}),
sentry/src/,62,"XXX: Link is not yet used, as we can't explicitly bind it to Sentry.",
sentry/src/,69,TODO(dcramer): this is problematic when the link already exists,
sentry/src/,125,"TODO(dcramer): VSTS doesn't provide a way to search, so we're",
sentry/src/,126,making the assumption that a user has 100 or less projects today.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,17,see https://pushover.net/api,
sentry/src/,18,We can no longer send JSON because pushover disabled incoming,
sentry/src/,19,JSON data: http://updates.pushover.net/post/39822700181/,
sentry/src/,77,TODO: This should eventually just be event.title in line with other plugins.,
sentry/src/,78,"However, we should notify users first, since PD alert routing may be",
sentry/src/,79,based off the message field. We default to the title now because it's,
sentry/src/,80,"possible for `event.message` to be """" and the description",
sentry/src/,81,is a required field for the PD payload.,
sentry/src/,6,https://v2.developer.pagerduty.com/docs/events-api,
sentry/src/,153,TODO(dcramer): add caching,
sentry/src/,79,use labels that are more applicable to asana,
sentry/src/,210,check to make sure the current user has access to the workspace,
sentry/src/,80,1 - token disabled,
sentry/src/,81,2 - token required (should never happen),
sentry/src/,82,3 - invalid authorization (should never happen),
sentry/src/,83,4 - invalid token,
sentry/src/,88,9 - server is busy,
sentry/src/,93,7 - incorrect index,
sentry/src/,94,10 - data channel missing,
sentry/src/,95,11 - invalid data channel,
sentry/src/,214,http://dev.splunk.com/view/event-collector/SP-CAAAE6M,
sentry/src/,236,limit splunk to 50 requests/second,
sentry/src/,260,https://docs.splunk.com/Documentation/Splunk/7.2.3/Data/TroubleshootHTTPEventCollector,
sentry/src/,264,Splunk cloud instances certifcates dont play nicely,
sentry/src/,292,If we get a ReadTimeout we don't need to raise an error here.,
sentry/src/,293,Just log and return.,
sentry/src/,122,use config name because that is kept in sync via webhooks,
sentry/src/,76,returns unidiff file,
sentry/src/,90,return api request that fetches last ~30 commits,
sentry/src/,91,see https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/commits/%7Brevision%7D,
sentry/src/,92,using end_sha as parameter,
sentry/src/,98,where start_sha is oldest and end_sha is most recent,
sentry/src/,99,see,
sentry/src/,100,https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/commits/%7Brevision%7D,
sentry/src/,115,move page forward,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,23,Bitbucket Cloud IP range:,
sentry/src/,24,https://confluence.atlassian.com/bitbucket/manage-webhooks-735643732.html#Managewebhooks-trigger_webhookTriggeringwebhooks,
sentry/src/,25,Bitbucket Cloud IP range:,
sentry/src/,26,https://confluence.atlassian.com/bitbucket/manage-webhooks-735643732.html#Managewebhooks-trigger_webhookTriggeringwebhooks,
sentry/src/,29,"Not documented in the webhook docs, but defined here:",
sentry/src/,30,https://bitbucket.org/blog/new-ip-addresses-bitbucket-cloud,
sentry/src/,44,captures content between angle brackets,
sentry/src/,52,captures content before angle bracket,
sentry/src/,57,https://confluence.atlassian.com/bitbucket/event-payloads-740262817.html#EventPayloads-Push,
sentry/src/,81,"TODO(dcramer): we need to deal with bad values here, but since",
sentry/src/,82,"its optional, lets just throw it out for now",
sentry/src/,48,"number of requests, number of seconds (window)",
sentry/src/,76,https://segment.com/docs/spec/track/,
sentry/src/,127,"TODO(dcramer): we currently only support authenticated events, as the",
sentry/src/,128,value of anonymous errors/crashes/etc is much less meaningful in the,
sentry/src/,129,context of Segment,
sentry/src/,131,we currently only support errors,
sentry/src/,135,we avoid instantiating interfaces here as they're only going to be,
sentry/src/,136,used if there's a User present,
sentry/src/,15,NOQA,
sentry/src/,72,The token is sensitive so we should mask the value by only sending back the first 5 characters,
sentry/src/,139,used for boards and lists but not cards (shortLink used as ID for cards),
sentry/src/,241,the old version of the plugin stores the url in the issue,
sentry/src/,251,TODO(Steve): figure out why we sometimes get a string and sometimes a dict,
sentry/src/,254,the old version of the plugin stores the url in the issue,
sentry/src/,28,A list of common builtin custom field types for JIRA for easy reference.,
sentry/src/,70,"mostly the same as parent class, but change ``` to {code}",
sentry/src/,83,set up some defaults for form fields,
sentry/src/,86,override defaults based on field configuration,
sentry/src/,105,TODO: Implement timetracking (currently unsupported alltogether),
sentry/src/,108,TODO: Implement worklogs and attachments someday,
sentry/src/,120,"break this out, since multiple field types could additionally",
sentry/src/,121,be configured to use a custom property instead of a default.,
sentry/src/,136,still no issue type? just use the first one.,
sentry/src/,166,check if the issuetype was passed as a GET parameter,
sentry/src/,181,make sure default issue type is actually,
sentry/src/,182,one that is allowed for project,
sentry/src/,210,title is renamed to summary before sending to JIRA,
sentry/src/,214,apply ordering to fields based on some known built-in JIRA fields.,
sentry/src/,215,otherwise weird ordering occurs.,
sentry/src/,220,build up some dynamic fields based on required shit.,
sentry/src/,223,don't overwrite the fixed fields for the form.,
sentry/src/,232,"whenever priorities are available, put the available ones in the list.",
sentry/src/,233,allowedValues for some reason doesn't pass enough info.,
sentry/src/,327,its the JSON version of the autocompleter,
sentry/src/,332,some reason JIRA complains if this key is in the URL.,
sentry/src/,336,"for whatever reason, the create meta api returns an",
sentry/src/,337,"invalid path, so let's just use the correct, documented one here:",
sentry/src/,338,https://docs.atlassian.com/jira/REST/cloud/#api/2/user,
sentry/src/,339,"also, only pass path so saved instance url will be used",
sentry/src/,344,its the stupid XML version of the API.,
sentry/src/,348,for some reason its a list.,
sentry/src/,371,"if JIRA user doesn't have proper permission for user api,",
sentry/src/,372,try the assignee api instead,
sentry/src/,411,protect against mis-configured plugin submitting a form without an,
sentry/src/,412,issuetype assigned.,
sentry/src/,444,custom multi-picker,
sentry/src/,472,"something fishy is going on with this field, working on some JIRA",
sentry/src/,473,"instances, and some not.",
sentry/src/,474,testing against 5.1.5 and 5.1.4 does not convert (perhaps is no longer included,
sentry/src/,475,"in the projectmeta API call, and would normally be converted in the",
sentry/src/,476,above clean method.),
sentry/src/,497,Don't make people update password every time,
sentry/src/,637,XXX(dcramer): Sentry doesn't expect GroupMeta referenced here so we,
sentry/src/,638,need to populate the cache,
sentry/src/,60,We saw an empty JSON response come back from the API :(,
sentry/src/,64,"XXX(dcramer): document how this is possible, if it even is",
sentry/src/,96,check if it looks like an issue id,
sentry/src/,104,Steve(XXX): Might consider moving this method to the base plugin API client,
sentry/src/,33,https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs.html#SQS.Queue.send_message,
sentry/src/,34,boto3's send_message doesn't return success/fail or http codes,
sentry/src/,35,success is a boolean based on whether there was an exception or not,
sentry/src/,107,TODO(dcramer): Amazon doesnt support payloads larger than 256kb,
sentry/src/,108,We could support this by simply trimming it and allowing upload,
sentry/src/,109,to S3,
sentry/src/,124,need a MessageGroupId for FIFO queues,
sentry/src/,125,"note that if MessageGroupId is specified for non-FIFO, this will fail",
sentry/src/,130,"if content based de-duplication is not enabled, we need to provide a",
sentry/src/,131,MessageDeduplicationId,
sentry/src/,136,If there's an issue with the user's token then we can't do,
sentry/src/,137,anything to recover. Just log and continue.,
sentry/src/,111,This drives the `Link` UI,
sentry/src/,140,"Handle the incoming search terms, make requests and build responses",
sentry/src/,151,TODO: Something about the search API won't allow an explicit number search.,
sentry/src/,152,Should it switch the search mechanism from search_stories(text) to get_story(id)?,
sentry/src/,30,returns [SearchResults] https://clubhouse.io/api/rest/v2/#SearchResults,
sentry/src/,31,containing a list of [StorySearch] results https://clubhouse.io/api/rest/v2/#StorySearch,
sentry/src/,56,make sure this exists and is valid,
sentry/src/,12,see https://en.wikipedia.org/wiki/Percent-encoding,
sentry/src/,17,see,
sentry/src/,18,https://developer.atlassian.com/static/connect/docs/latest/concepts/understanding-jwt.html#qsh,
sentry/src/,26,don't include jwt query param,
sentry/src/,39,https://developer.atlassian.com/static/connect/docs/latest/concepts/authentication.html,
sentry/src/,40,Extract the JWT token from the request's jwt query,
sentry/src/,41,parameter or the authorization header.,
sentry/src/,45,"Decode the JWT token, without verification. This gives",
sentry/src/,46,"you a header JSON object, a claims JSON object, and a signature.",
sentry/src/,48,"Extract the issuer ('iss') claim from the decoded, unverified",
sentry/src/,49,claims object. This is the clientKey for the tenant - an identifier,
sentry/src/,50,for the Atlassian application making the call,
sentry/src/,52,"Look up the sharedSecret for the clientKey, as stored",
sentry/src/,53,by the add-on during the installation handshake,
sentry/src/,57,Verify the signature with the sharedSecret and,
sentry/src/,58,the algorithm specified in the header's alg field.,
sentry/src/,60,Verify the query has not been tampered by Creating a Query Hash,
sentry/src/,61,and comparing it against the qsh claim on the verified token.,
sentry/src/,63,TODO: probably shouldn't need to hardcode get... for post maybe,
sentry/src/,64,the secret should just be a hidden field in the form ?,
sentry/src/,66,"qsh = get_query_hash(request.path, request.method, request.GET)",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,16,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,17,1.10. So until then these should be run manually.,
sentry/src/,18,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,19,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,20,this is even more important.,
sentry/src/,21,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,44,"check if user exists, and then try to get refs based on version",
sentry/src/,74,create deploy associated with release via ReleaseDeploysEndpoint,
sentry/src/,43,"This could raise, but should have been checked with validate_phone first",
sentry/src/,49,XXX: can likely remove the dedupe here after notify_users has test coverage;,
sentry/src/,50,"in theory only cleaned data would make it to the plugin via the form,",
sentry/src/,51,and cleaned numbers are deduped already.,
sentry/src/,97,TODO: Ping Twilio and check credentials (?),
sentry/src/,149,This doesn't depend on email permission... stuff.,
sentry/src/,183,TODO: Use API client with raise_error,
sentry/src/,24,"Twilio doesn't accept the json headers, so set this to False",
sentry/src/,25,https://www.twilio.com/docs/usage/your-request-to-twilio#post,
sentry/src/,6,NOQA,
sentry/src/,8,NOQA,
sentry/src/,23,This module is potentially imported before Django is installed,
sentry/src/,24,during a setup.py run,
sentry/src/,27,Intentionally strip all GET/POST/COOKIE values out of repr() for HttpRequest,
sentry/src/,28,and subclass WSGIRequest. This prevents sensitive information from getting,
sentry/src/,29,logged. This was yanked out of Django master anyhow.,
sentry/src/,30,https://code.djangoproject.com/ticket/12098,
sentry/src/,44,This module is potentially imported before Django is installed,
sentry/src/,45,during a setup.py run,
sentry/src/,48,Backported from 1.8.15: https://github.com/django/django/blob/1.8.15/django/http/cookie.py#L91,
sentry/src/,49,See https://www.djangoproject.com/weblog/2016/sep/26/security-releases/ for more context.,
sentry/src/,61,Assume an empty name per,
sentry/src/,62,https://bugzilla.mozilla.org/show_bug.cgi?id=169091,
sentry/src/,66,unquote using Python's algorithm.,
sentry/src/,74,Prevent exposing any Django SETTINGS on our debug error page,
sentry/src/,75,This information is not useful for Sentry development,
sentry/src/,76,and poses a significant security risk if this is exposed by accident,
sentry/src/,77,"in any production system if, by change, it were deployed",
sentry/src/,78,with DEBUG=True.,
sentry/src/,56,XXX: Deprecated: use GroupStatus instead,
sentry/src/,65,TODO(dcramer): remove in 9.0,
sentry/src/,69,Normalize counts to the 15 minute marker. This value MUST be less than 60. A,
sentry/src/,70,"value of 0 would store counts for every minute, and is the lowest level of",
sentry/src/,71,accuracy provided.,
sentry/src/,84,Maximum number of results we are willing to fetch when calculating rollup,
sentry/src/,85,Clients should adapt the interval width based on their display width.,
sentry/src/,89,Team slugs which may not be used. Generally these are top level URL patterns,
sentry/src/,90,which we don't want to worry about conflicts on.,
sentry/src/,192,Default alerting threshold values,
sentry/src/,193,"500%, 25 events",
sentry/src/,194,"1000%, 25 events",
sentry/src/,196,Default sort option for the group stream,
sentry/src/,199,Setup languages for only available locales,
sentry/src/,204,TODO(dcramer): We eventually want to make this user-editable,
sentry/src/,217,TODO(dcramer): once this is more flushed out we want this to be extendable,
sentry/src/,232,methods as defined by http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html + PATCH,
sentry/src/,235,See https://github.com/getsentry/relay/blob/master/relay-general/src/protocol/constants.rs,
sentry/src/,244,TODO: translate this,
sentry/src/,246,Maximum length of a symbol,
sentry/src/,249,Known debug information file mimetypes,
sentry/src/,262,"Maximum number of release files that can be ""skipped"" (i.e., maximum paginator offset)",
sentry/src/,263,inside release files API endpoints.,
sentry/src/,264,"If this number is too large, it may cause problems because of inefficient",
sentry/src/,265,LIMIT-OFFSET database queries.,
sentry/src/,266,These problems should be solved after we implement artifact bundles workflow.,
sentry/src/,269,to go from an integration id (in _platforms.json) to the platform,
sentry/src/,270,"data, such as documentation url or humanized name.",
sentry/src/,271,"example: java-logback -> {""type"": ""framework"",",
sentry/src/,272,"""link"": ""https://docs.getsentry.com/hosted/clients/java/modules/logback/"",",
sentry/src/,273,"""id"": ""java-logback"",",
sentry/src/,274,"""name"": ""Logback""}",
sentry/src/,297,special cases where the marketing slug differs from the integration id,
sentry/src/,298,"(in _platforms.json). missing values (for example: ""java"") should assume",
sentry/src/,299,the marketing slug is the same as the integration id:,
sentry/src/,300,"javascript, node, python, php, ruby, go, swift, objc, java, perl, elixir",
sentry/src/,332,to go from a marketing page slug like /for/android/ to the integration id,
sentry/src/,333,"(in _platforms.json), for looking up documentation urls, etc.",
sentry/src/,342,special cases where the integration sent with the SDK differ from,
sentry/src/,343,the integration id (in _platforms.json),
sentry/src/,344,"{PLATFORM: {INTEGRATION_SENT: integration_id, ...}, ...}",
sentry/src/,347,TODO: add more special cases...,
sentry/src/,351,"to go from event data to the integration id (in _platforms.json),",
sentry/src/,352,for example an event like:,
sentry/src/,353,"{""platform"": ""java"",",
sentry/src/,354,"""sdk"": {""name"": ""sentry-java"",",
sentry/src/,355,"""integrations"": [""java.util.logging""]}} -> java-logging",
sentry/src/,359,check special cases,
sentry/src/,366,"try <platform>-<integration>, for example ""java-log4j""",
sentry/src/,371,"try sdk name, for example ""sentry-java"" -> ""java"" or ""raven-java:log4j"" -> ""java-log4j""",
sentry/src/,376,"try platform name, for example ""java""",
sentry/src/,481,We need to limit the range of valid timestamps of an event because that,
sentry/src/,482,timestamp is used to control data retention.,
sentry/src/,484,30 days,
sentry/src/,41,Call each receiver with whatever arguments it can accept.,
sentry/src/,42,"Return a list of tuple pairs [(receiver, response), ... ].",
sentry/src/,64,DEPRECATED,
sentry/src/,68,Organization Onboarding Signals,
sentry/src/,110,experiments,
sentry/src/,66,This really should not happen.,
sentry/src/,20,Synthetic events no longer get a culprit,
sentry/src/,59,"If this frame has a platform, we use it instead of the one that",
sentry/src/,60,was passed in (as that one comes from the exception which might,
sentry/src/,61,not necessarily be the same platform).,
sentry/src/,69,"function and fileloc might be unicode here, so let it coerce",
sentry/src/,70,to a unicode string if needed.,
sentry/src/,1,TODO RaduW 8.06.2019 remove the sentry.filters package and rename this module to filters,
sentry/src/,78,all boolean filters,
sentry/src/,122,special handling for legacy browser state,
sentry/src/,187,************* local host filter *************,
sentry/src/,206,************* browser extensions filter *************,
sentry/src/,212,Random plugins/extensions,
sentry/src/,214,See: http://blog.errorception.com/2012/03/tale-of-unfindable-js-error.html,
sentry/src/,224,Facebook borked,
sentry/src/,226,"ISP ""optimizing"" proxy - `Cache-Control: no-transform` seems to",
sentry/src/,227,reduce this. (thanks @acdha),
sentry/src/,228,See http://stackoverflow.com/questions/4113268,
sentry/src/,231,See,
sentry/src/,232,https://groups.google.com/a/chromium.org/forum/#!topic/chromium-discuss/7VU0_VvC7mE,
sentry/src/,234,See http://toolbar.conduit.com/Debveloper/HtmlAndGadget/Methods/JSInjection.aspx,
sentry/src/,236,Google Search app (iOS),
sentry/src/,237,See: https://github.com/getsentry/raven-js/issues/756,
sentry/src/,239,Dragon Web Extension from Nuance Communications,
sentry/src/,240,See: https://forum.sentry.io/t/error-in-raven-js-plugin-setsuspendstate/481/,
sentry/src/,242,lastpass,
sentry/src/,244,google translate,
sentry/src/,245,see https://medium.com/@amir.harel/a-b-target-classname-indexof-is-not-a-function-at-least-not-mine-8e52f7be64ca,
sentry/src/,256,Facebook flakiness,
sentry/src/,258,Facebook blocked,
sentry/src/,260,Woopra flakiness,
sentry/src/,263,Chrome extensions,
sentry/src/,265,Firefox extensions,
sentry/src/,267,Safari extensions,
sentry/src/,269,Cacaoweb,
sentry/src/,271,Other,
sentry/src/,274,Kaspersky Protection browser extension,
sentry/src/,276,Google ad server (see http://whois.domaintools.com/2mdn.net),
sentry/src/,288,get exception value,
sentry/src/,297,get exception source,
sentry/src/,315,************* legacy browsers filter *************,
sentry/src/,353,"IE Desktop and IE Mobile use the same engines, therefore we can treat them as one",
sentry/src/,359,handle old style config,
sentry/src/,501,list all browser specific sub filters that should be called,
sentry/src/,513,************* web crawler filter *************,
sentry/src/,515,"not all of these agents are guaranteed to execute JavaScript, but to avoid",
sentry/src/,516,"overhead of identifying which ones do, and which ones will over time we simply",
sentry/src/,517,target all of the major ones,
sentry/src/,521,Google spiders (Adsense and others),
sentry/src/,522,https://support.google.com/webmasters/answer/1061943?hl=en,
sentry/src/,527,Bing search,
sentry/src/,530,Baidu search,
sentry/src/,532,Yahoo,
sentry/src/,534,Sogou,
sentry/src/,536,facebook,
sentry/src/,538,Alexa,
sentry/src/,540,Generic bot,
sentry/src/,542,Generic spider,
sentry/src/,544,Slack - see https://api.slack.com/robots,
sentry/src/,546,Google indexing bot,
sentry/src/,548,Pingdom,
sentry/src/,550,Lytics,
sentry/src/,18,COMPAT,
sentry/src/,19,NOQA,
sentry/src/,20,NOQA,
sentry/src/,21,NOQA,
sentry/src/,22,NOQA,
sentry/src/,23,NOQA,
sentry/src/,24,NOQA,
sentry/src/,28,NOQA,
sentry/src/,202,TODO: Detect AWS Lambda for Python,
sentry/src/,307,"If AspNetCore is used, do not show this suggestion at all,",
sentry/src/,308,because the (hopefully visible) suggestion to use the,
sentry/src/,309,AspNetCore SDK is more specific.,
sentry/src/,383,"If an SDK is both outdated and entirely deprecated, we want to inform",
sentry/src/,384,the user of both. It's unclear if they would want to upgrade the SDK,
sentry/src/,385,or migrate to the new one.,
sentry/src/,410,TODO(markus): Maybe we want to suggest people to upgrade their module?,
sentry/src/,411,,
sentry/src/,412,"E.g. ""please upgrade Django so you can get the Django",
sentry/src/,413,"integration""",
sentry/src/,21,Importing for backwards compatible API,
sentry/src/,22,NOQA,
sentry/src/,27,TODO(dcramer): we want to change these to be constants so they are easier,
sentry/src/,28,to translate/link again,
sentry/src/,29,the maximum number of remote resources (i.e. sourc eifles) that should be,
sentry/src/,30,fetched,
sentry/src/,33,UrlResult.body **must** be bytes,
sentry/src/,36,In case SSL is unavailable (light builds) we can't import this here.,
sentry/src/,151,lock down domains that are problematic,
sentry/src/,192,Only need to even attempt to read the response body if we,
sentry/src/,193,got a 200 OK,
sentry/src/,219,We want size in megabytes to format nicely,
sentry/src/,232,TODO(dcramer): we want to be less aggressive on disabling domains,
sentry/src/,244,we only want to close StringIO,
sentry/src/,1,"TODO: We should make the API a class, and UDP/HTTP just inherit from it",
sentry/src/,2,This will make it so we can more easily control logging with various,
sentry/src/,3,metadata (rather than generic log messages which aren't useful).,
sentry/src/,82,user-agent (i.e. raven-python),
sentry/src/,84,protocol version,
sentry/src/,86,project instance,
sentry/src/,115,"Make sure the key even looks valid first, since it's",
sentry/src/,116,possible to get some garbage input here causing further,
sentry/src/,117,issues trying to query it from cache or the database.,
sentry/src/,126,a secret key may not be present which will be validated elsewhere,
sentry/src/,147,we might be passed some subclasses of dict that fail dumping,
sentry/src/,155,"Attachments will be empty or None if the ""event-attachments"" feature",
sentry/src/,156,is turned off. For native crash reports it will still contain the,
sentry/src/,157,crash dump (e.g. minidump) so we can load it during processing.,
sentry/src/,201,default client to user agent,
sentry/src/,221,We don't use an origin here,
sentry/src/,230,"Minidump requests are always ""trusted"".  We at this point only",
sentry/src/,231,use is_public to identify requests that have an origin set (via,
sentry/src/,232,CORS),
sentry/src/,240,"In the case of security reports, the origin is not available at the",
sentry/src/,241,"dispatch() stage, as we need to parse it out of the request body, so",
sentry/src/,242,we do our own CORS check once we have parsed it.,
sentry/src/,260,This error should be caught as it suggests that there's a,
sentry/src/,261,bug somewhere in the client's code.,
sentry/src/,275,This error should be caught as it suggests that there's a,
sentry/src/,276,bug somewhere in the client's code.,
sentry/src/,288,This error should be caught as it suggests that there's a,
sentry/src/,289,bug somewhere in the client's code.,
sentry/src/,298,This error should be caught as it suggests that there's a,
sentry/src/,299,bug somewhere in the client's code.,
sentry/src/,311,This error should be caught as it suggests that there's a,
sentry/src/,312,bug somewhere in the client's code.,
sentry/src/,95,Timeout for cached group crash report counts,
sentry/src/,96,one day,
sentry/src/,121,XXX(markus): We should figure out if we could run normalization,
sentry/src/,122,after event processing again. Right now we duplicate code between here,
sentry/src/,123,and event normalization,
sentry/src/,191,"There are two common cases: Storing crash reports is disabled, or is",
sentry/src/,192,"unbounded. In both cases, there is no need in caching values or querying",
sentry/src/,193,the database.,
sentry/src/,201,Fall-through if max_crashreports was bumped to get a more accurate number.,
sentry/src/,216,times_seen is likely an F-object that needs the value extracted,
sentry/src/,222,Calculate the score manually when coercing to an int.,
sentry/src/,223,This is used within create_or_update and friends,
sentry/src/,294,if not explicitly specified try to get the grouping from project_config,
sentry/src/,298,if we still don't have a grouping also try the project,
sentry/src/,322,"To support testing, we can either accept a built interface instance, or the raw data in",
sentry/src/,323,which case we build the instance ourselves,
sentry/src/,341,Construct a faux Http interface based on the little information we have,
sentry/src/,342,"This is a bit weird, since we don't have nearly enough",
sentry/src/,343,"information to create an Http interface, but",
sentry/src/,344,this automatically will pick up tags for the User-Agent,
sentry/src/,345,which is actually important here for CSP,
sentry/src/,448,Normalize if needed,
sentry/src/,478,At this point we want to normalize the in_app values in case the,
sentry/src/,479,clients did not set this appropriately so far.,
sentry/src/,491,The active grouping config was put into the event in the,
sentry/src/,492,normalize step before.  We now also make sure that the,
sentry/src/,493,fingerprint was set to `'{{ default }}' just in case someone,
sentry/src/,494,removed it from the payload.  The call to get_hashes will then,
sentry/src/,495,look at `grouping_config` to pick the right parameters.,
sentry/src/,500,Here we try to use the grouping config that was requested in the,
sentry/src/,501,event.  If that config has since been deleted (because it was an,
sentry/src/,502,experimental grouping config) we fall back to the default.,
sentry/src/,513,The group gets the same metadata as the event when it's flushed but,
sentry/src/,514,additionally the `last_received` key is set.  This key is used by,
sentry/src/,515,_save_aggregate.,
sentry/src/,567,store a reference to the group id to guarantee validation of isolation,
sentry/src/,568,XXX(markus): No clue what this does,
sentry/src/,601,"Load attachments first, but persist them at the very last after",
sentry/src/,602,posting to eventstream to make sure all counters and eventstream are,
sentry/src/,603,incremented for sure.,
sentry/src/,646,Do this last to ensure signals get emitted even if connection to the,
sentry/src/,647,file store breaks temporarily.,
sentry/src/,681,Pull the toplevel data we're interested in,
sentry/src/,706,Some of the data that are toplevel attributes are duplicated,
sentry/src/,707,"into tags (logger, level, environment, transaction).  These are",
sentry/src/,708,different from legacy attributes which are normalized into tags,
sentry/src/,709,"ahead of time (site, server_name).",
sentry/src/,748,dont allow a conflicting 'release' tag,
sentry/src/,758,dont allow a conflicting 'dist' tag,
sentry/src/,778,XXX: We ought to inline or remove this one for sure,
sentry/src/,788,plugins should not override user provided tags,
sentry/src/,796,XXX: We ought to inline or remove this one for sure,
sentry/src/,803,Get rid of ephemeral interface data,
sentry/src/,811,we want to freeze not just the metadata and type in but also the,
sentry/src/,812,derived attributes.  The reason for this is that we push this,
sentry/src/,813,data into kafka for snuba processing and our postprocessing,
sentry/src/,814,picks up the data right from the snuba topic.  For most usage,
sentry/src/,815,however the data is dynamically overridden by Event.title and,
sentry/src/,816,Event.location (See Event.as_dict),
sentry/src/,833,XXX: This is possibly unnecessarily detached from,
sentry/src/,834,"_get_or_create_release_many, but we do not want to destroy order of",
sentry/src/,835,execution right now,
sentry/src/,861,XXX: validate whether anybody actually uses those metrics,
sentry/src/,913,Write the event to Nodestore,
sentry/src/,928,We are choosing to skip consuming the event back,
sentry/src/,929,in the eventstream if it's flagged as raw.,
sentry/src/,930,This means that we want to publish the event,
sentry/src/,931,"through the event stream, but we don't care",
sentry/src/,932,about post processing and handling the commit.,
sentry/src/,1013,why???,
sentry/src/,1056,attempt to find a matching hash,
sentry/src/,1067,XXX(dcramer): this has the opportunity to create duplicate groups,
sentry/src/,1068,it should be resolved by the hash merging function later but this,
sentry/src/,1069,should be better tested/reviewed,
sentry/src/,1071,it's possible the release was deleted between,
sentry/src/,1072,"when we queried for the release and now, so",
sentry/src/,1073,make sure it still exists,
sentry/src/,1103,If all hashes are brand new we treat this event as new,
sentry/src/,1107,XXX: There is a race condition here wherein another process could,
sentry/src/,1108,"create a new group that is associated with one of the new hashes,",
sentry/src/,1109,"add some event(s) to it, and then subsequently have the hash",
sentry/src/,1110,"""stolen"" by this process. This then ""orphans"" those events from",
sentry/src/,1111,"their ""siblings"" in the group we've created here. We don't have a",
sentry/src/,1112,"way to fix this, since we can't update the group on those hashes",
sentry/src/,1113,without filtering on `group_id` (which we can't do due to query,
sentry/src/,1114,"planner weirdness.) For more context, see 84c6f75a and d0e22787,",
sentry/src/,1115,as well as GH-5085.,
sentry/src/,1137,we only mark it as a regression if the event's release is newer than,
sentry/src/,1138,the release which we originally marked this as resolved,
sentry/src/,1148,"we now think its a regression, rely on the database to validate that",
sentry/src/,1149,no one beat us to this,
sentry/src/,1154,ensure we cant update things if the status has been set to,
sentry/src/,1155,ignored,
sentry/src/,1159,add to the regression window to account for races here,
sentry/src/,1165,explicitly set last_seen here as ``is_resolved()`` looks,
sentry/src/,1166,at the value,
sentry/src/,1176,resolutions are only valid if the state of the group is still,
sentry/src/,1177,resolved -- if it were to change the resolution should get removed,
sentry/src/,1184,delete() API does not return affected rows,
sentry/src/,1189,if we had to remove the GroupResolution (i.e. we beat the,
sentry/src/,1190,the queue to handling this) then we need to also record,
sentry/src/,1191,the corresponding event,
sentry/src/,1197,"XXX: handle missing data, as its not overly important",
sentry/src/,1268,The setting is both an organization and project setting. The project,
sentry/src/,1269,"setting strictly overrides the organization setting, unless set to the",
sentry/src/,1270,default.,
sentry/src/,1275,The number of crash reports is cached per group,
sentry/src/,1278,Only fetch the number of stored crash reports if there is a crash report,
sentry/src/,1279,"in the list of attachments. Otherwise, we won't require this number.",
sentry/src/,1287,"If the attachment is a crash report (e.g. minidump), we need to honor",
sentry/src/,1288,"the store_crash_reports setting. Otherwise, we assume that the client",
sentry/src/,1289,has already verified PII and just store the attachment.,
sentry/src/,1297,"Check if we have exceeded the stored crash reports count. If so, we",
sentry/src/,1298,persist the current maximum (not the actual number!) into the cache. Next,
sentry/src/,1299,"time when loading from the cache, we will validate that this number has",
sentry/src/,1300,"not changed, or otherwise re-fetch from the database.",
sentry/src/,1340,Enusre the _metrics key exists. This is usually created during,
sentry/src/,1341,and prefilled with ingestion sizes.,
sentry/src/,1345,Capture the actual size that goes into node store.,
sentry/src/,24,Note: This logic is duplicated in Relay store.,
sentry/src/,18,now kill off autodiscover since it would reset the registry,
sentry/src/,22,copy over the autodiscovery,
sentry/src/,25,clear the default site registry to avoid leaking an insecure admin,
sentry/src/,28,rebind our admin site to maintain compatibility,
sentry/src/,20,"binary didn't exist, wasn't on path, etc",
sentry/src/,47,One of these environment variables are guaranteed to exist,
sentry/src/,48,from our official docker images.,
sentry/src/,49,"SENTRY_VERSION is from a tagged release, and SENTRY_BUILD is from a",
sentry/src/,50,a git based image.,
sentry/src/,58,This triggers monkey patches,
sentry/src/,18,monkey patch django.,
sentry/src/,19,This patch make sure that we use real threads to get the ident which,
sentry/src/,20,is going to happen if we are using gevent or eventlet.,
sentry/src/,21,-- patch taken from gunicorn,
sentry/src/,7,Add the project to the python path,
sentry/src/,10,Configure the application only if it seemingly isnt already configured,
sentry/src/,41,"In our case, we're shipping with uwsgi, so it's safer to assume",
sentry/src/,42,that wsgi.file_wrapper does exist. It'd be exceptional otherwise.,
sentry/src/,47,Run WSGI handler for the application,
sentry/src/,233,See #20078: we don't want to allow any lookups involving passwords.,
sentry/src/,242,It's an error for a user to have add permission but NOT change,
sentry/src/,243,"permission for users. If we allowed such users to add users, they",
sentry/src/,244,"could create superusers, which would mean they would essentially have",
sentry/src/,245,"the permission to change users. To avoid the problem entirely, we",
sentry/src/,246,disallow users from adding users if they don't have change,
sentry/src/,247,permission.,
sentry/src/,250,Raise Http404 in debug mode so that the user gets a helpful,
sentry/src/,251,error message.,
sentry/src/,313,We should allow further modification of the user just added i.e. the,
sentry/src/,314,'Save' button should behave like the 'Save and continue editing',
sentry/src/,315,button except in two scenarios:,
sentry/src/,316,* The user has pressed the 'Save and add another' button,
sentry/src/,317,* We are adding a user in a popup,
sentry/src/,6,Guide Schema,
sentry/src/,7,"id (text, required): unique id",
sentry/src/,8,required_targets (list): An empty list will cause the guide to be shown regardless,
sentry/src/,9,of page/targets presence.,
sentry/src/,10,steps (list): List of steps,
sentry/src/,12,Step Schema,
sentry/src/,13,"title (text, required): Title text. Tone should be active.",
sentry/src/,14,"message (text, optional): Message text. Should help illustrate how to do a task, not",
sentry/src/,15,just literally what the button does.,
sentry/src/,16,"target (text, optional): step is tied to an anchor target. If the anchor doesn't exist,",
sentry/src/,17,the step will not be shown. if the anchor exists but is of type,
sentry/src/,18,"""invisible"", it will not be pinged but will be scrolled to.",
sentry/src/,19,otherwise the anchor will be pinged and scrolled to. If you'd like,
sentry/src/,20,your step to show always or have a step is not tied to a specific,
sentry/src/,21,"element but you'd still like it to be shown, set this as None.",
sentry/src/,25,Get the ExportedData object,
sentry/src/,35,Create a temporary file,
sentry/src/,38,Process the query based on its type,
sentry/src/,47,Create a new File object and attach it to the ExportedData,
sentry/src/,102,Iterate through all the GroupTagValues,
sentry/src/,112,TODO(python3): Remove next line once the 'csv' module has been updated to Python 3,
sentry/src/,113,See associated comment in './utils.py',
sentry/src/,116,"Since the next offset will pass the limit, write the remainder and quit",
sentry/src/,125,TODO(Leander): Implement processing for Discover,
sentry/src/,16,The download is being prepared,
sentry/src/,17,The download is ready for the user,
sentry/src/,18,The download has been deleted,
sentry/src/,12,Adapted into contextmanager from 'src/sentry/api/endpoints/organization_events.py',
sentry/src/,49,"TODO(python3): For now, this function must be run to ensure only utf-8 is passed into the 'csv' module",
sentry/src/,50,"It can be removed once converted to Python 3, See https://docs.python.org/2/library/csv.html",
sentry/src/,51,This function was adapted from https://stackoverflow.com/questions/13101653/python-convert-complex-dictionary-of-strings-from-unicode-to-ascii,
sentry/src/,62,Example: Discover_2020-July-21_27.csv,
sentry/src/,67,"Example: 12:21 PM on July 21, 2020 (UTC)",
sentry/src/,79,"If a file is present, remove it",
sentry/src/,88,"The following condition should never be true, but it's a safeguard in case someone manually calls this method",
sentry/src/,23,"Ensure the tag key exists, as it may have been deleted",
sentry/src/,31,Check data export permissions,
sentry/src/,39,Ignore the download parameter unless we have a file to stream,
sentry/src/,33,Ensure new data-export features are enabled,
sentry/src/,37,Get environment_id and limit if available,
sentry/src/,44,Validate the data export payload,
sentry/src/,50,"Validate the project field, if provided",
sentry/src/,51,A PermissionDenied error will be raised in `_get_projects_by_id` if the request is invalid,
sentry/src/,54,Coerce the query into a set,
sentry/src/,63,Ensure discover features are enabled if necessary,
sentry/src/,70,"If this user has sent a sent a request with the same payload and organization,",
sentry/src/,71,we return them the latest one that is NOT complete (i.e. don't start another),
sentry/src/,90,This will handle invalid JSON requests,
sentry/src/,94,We explicitly use a named cursor here so that we can read a,
sentry/src/,95,"large quantity of rows from postgres incrementally, without",
sentry/src/,96,having to pull all rows into memory at once.,
sentry/src/,141,"If we retrieved less rows than the batch size, there are",
sentry/src/,142,no more rows remaining to delete and we can exit the,
sentry/src/,143,loop.,
sentry/src/,51,we cant serialize weakrefs,
sentry/src/,56,Django decided that it shouldnt let us hash objects even though they have,
sentry/src/,57,"memory addresses. We need that behavior, so let's revert.",
sentry/src/,82,XXX(dcramer): this is how Django determines this (copypasta from Model),
sentry/src/,91,this case can come up from pickling,
sentry/src/,52,TODO(mark) Remove these compatibility aliases once getsentry doesn't use them.,
sentry/src/,76,We don't need to further mutate if we're unique at this point,
sentry/src/,80,"We want to sanely generate the shortest unique slug possible, so",
sentry/src/,81,"we try different length endings until we get one that works, or bail.",
sentry/src/,83,"At most, we have 27 attempts here to derive a unique slug",
sentry/src/,85,"(36^2) possibilities, 2 attempts",
sentry/src/,86,"(36^3) possibilities, 3 attempts",
sentry/src/,87,"(36^5) possibilities, 20 attempts",
sentry/src/,88,"(36^12) possibilities, 1 final attempt",
sentry/src/,98,"If at this point, we've exhausted all possibilities, we'll just end up hitting",
sentry/src/,99,"an IntegrityError from database, which is ok, and unlikely to happen",
sentry/src/,83,XXX(dcramer): we want to support column shortcut on create so,
sentry/src/,84,"we can do create_or_update(..., {'project': 1})",
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,61,"XXX(dcramer): we prefer values_list, but we cant disable values as Django uses it",
sentry/src/,62,internally,
sentry/src/,63,"def values(self, *args, **kwargs):",
sentry/src/,64,raise NotImplementedError('Use ``values_list`` instead [performance].'),
sentry/src/,80,: Model fields for which we should build up a cache to be used with,
sentry/src/,81,: Model.objects.get_from_cache(fieldname=value)`.,
sentry/src/,82,:,
sentry/src/,83,: Note that each field by its own needs to be a potential primary key,
sentry/src/,84,": (uniquely identify a row), so for example organization slug is ok,",
sentry/src/,85,: project slug is not.,
sentry/src/,139,we cant serialize weakrefs,
sentry/src/,188,store pointers,
sentry/src/,197,Ensure we don't serialize the database into the cache,
sentry/src/,200,store actual object,
sentry/src/,212,Kill off any keys which are no longer valid,
sentry/src/,234,remove pointers,
sentry/src/,239,remove actual object,
sentry/src/,278,We store everything by key references (vs instances),
sentry/src/,282,Kill __exact since it's the default behavior,
sentry/src/,297,Ensure we're pushing it into the cache,
sentry/src/,303,If we didn't look up by pk we need to hit the reffed,
sentry/src/,304,key,
sentry/src/,350,Kill __exact since it's the default behavior,
sentry/src/,389,If we didn't look up by pk we need to hit the reffed key,
sentry/src/,431,This model ultimately does not exist,
sentry/src/,433,Ensure we're pushing it into the cache,
sentry/src/,440,"XXX: Should use set_many here, but __post_save code is too complex",
sentry/src/,104,TODO: Look for date/time/datetime objects within the structure?,
sentry/src/,12,Adapted from django-pgfields,
sentry/src/,13,https://github.com/lukesneeringer/django-pgfields/blob/master/django_pg/models/fields/array.py,
sentry/src/,16,Arrays in PostgreSQL are arrays of a particular type.,
sentry/src/,17,Save the subtype in our field class.,
sentry/src/,22,"Set ""null"" to True. Arrays don't have nulls, but null=True",
sentry/src/,23,in the ORM amounts to nothing in SQL (whereas null=False,
sentry/src/,24,corresponds to `NOT NULL`),
sentry/src/,14,Adapted from django-pgfields,
sentry/src/,15,https://github.com/lukesneeringer/django-pgfields/blob/master/django_pg/models/fields/uuid.py,
sentry/src/,24,"If the `auto_add` argument is specified as True, substitute an",
sentry/src/,25,appropriate callable which requires no arguments and will return,
sentry/src/,26,a UUID.,
sentry/src/,30,If the `auto_add` arguments is specified as a string,
sentry/src/,31,parse out and import the callable.,
sentry/src/,37,Save the `auto_add` and `coerce_to` rules.,
sentry/src/,41,"If `auto_add` is enabled, it should imply that the field",
sentry/src/,42,"is not editable, and should not show up in ModelForms.",
sentry/src/,46,Blank values shall be nulls.,
sentry/src/,57,Enforce CHAR(32) for unsupported engines,
sentry/src/,60,Now pass the rest of the work to CharField.,
sentry/src/,72,"If the value is None, return None.",
sentry/src/,80,"If we already have a UUID, pass it through.",
sentry/src/,84,Convert our value to a UUID.,
sentry/src/,90,"If the `auto_add` option was set, and there is no value",
sentry/src/,91,"on the model instance, then generate a UUID using the given",
sentry/src/,92,callable.,
sentry/src/,96,Save the UUID to the model instance,
sentry/src/,100,This is the standard case; just use the superclass logic.,
sentry/src/,133,Register the UUID type with psycopg2.,
sentry/src/,42,ref version is used to discredit a previous ref,
sentry/src/,43,"(this does not mean the Event is mutable, it just removes ref checking",
sentry/src/,44,in the case of something changing on the data model),
sentry/src/,54,downgrade this into a normal dict in case it's a shim dict.,
sentry/src/,55,This is needed as older workers might not know about newer,
sentry/src/,56,collection types.  For instance we have events where this is a,
sentry/src/,57,CanonicalKeyDict,
sentry/src/,64,If there is a legacy pickled version that used to have data as a,
sentry/src/,65,"duplicate, reject it.",
sentry/src/,140,"We never loaded any data for reading or writing, so there",
sentry/src/,141,is nothing to save.,
sentry/src/,145,"We can't put our wrappers into the nodestore, so we need to",
sentry/src/,146,ensure that the data is converted into a plain old dict,
sentry/src/,181,"If value is a string, we assume this is a value we've loaded from the",
sentry/src/,182,"database, it should be decompressed/unpickled, and we should end up",
sentry/src/,183,with a dict.,
sentry/src/,188,TODO this is a bit dangerous as a failure to read/decode the,
sentry/src/,189,node_id will end up with this record being replaced with an,
sentry/src/,190,"empty value under a new key, potentially orphaning an",
sentry/src/,191,original value in nodestore. OTOH if we can't decode the info,
sentry/src/,192,"here, the node was already effectively orphaned.",
sentry/src/,199,"If the value is now empty, that means that it only had the",
sentry/src/,200,"node_id in it, which means that we should be looking to *load*",
sentry/src/,201,the event body from nodestore. If it does have other stuff in,
sentry/src/,202,"it, that means we got an event body with a precomputed id in",
sentry/src/,203,"it, and we want to *save* the rest of the body to nodestore.",
sentry/src/,207,"Either we were passed a null/empty value in the constructor, or",
sentry/src/,208,we failed to decode the value from the database so we have no id,
sentry/src/,209,"to load data from, and no data to save.",
sentry/src/,228,save ourselves some storage,
sentry/src/,84,we want full on classes for these,
sentry/src/,15,This is required to support BigAutoField (or anything similar),
sentry/src/,44,save ourselves some storage,
sentry/src/,46,enforce six.text_type strings to guarantee consistency,
sentry/src/,49,db values need to be in unicode,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,9,NOQA,
sentry/src/,10,NOQA,
sentry/src/,11,NOQA,
sentry/src/,12,NOQA,
sentry/src/,35,"We always need the citext extension installed for Postgres,",
sentry/src/,36,"and for tests, it's not always guaranteed that we will have",
sentry/src/,37,run full migrations which installed it.,
sentry/src/,12,"elif isinstance(exc, psycopg2.OperationalError):",
sentry/src/,13,exc_msg = six.text_type(exc),
sentry/src/,14,"if ""can't fetch default_isolation_level"" in exc_msg:",
sentry/src/,15,return True,
sentry/src/,16,"elif ""can't set datestyle to ISO"" in exc_msg:",
sentry/src/,17,return True,
sentry/src/,18,return True,
sentry/src/,8,"Some of these imports are unused, but they are inherited from other engines",
sentry/src/,9,and should be available as part of the backend ``base.py`` namespace.,
sentry/src/,26,"In psycopg2 2.7+, behavior was introduced where a",
sentry/src/,27,NULL byte in a parameter would start raising a ValueError.,
sentry/src/,28,psycopg2 chose to do this rather than let Postgres silently,
sentry/src/,29,"truncate the data, which is it's behavior when it sees a",
sentry/src/,30,"NULL byte. But for us, we'd rather remove the null value so it's",
sentry/src/,31,somewhat legible rather than error. Considering this is better,
sentry/src/,32,"behavior than the database truncating, seems good to do this",
sentry/src/,33,rather than attempting to sanitize all data inputs now manually.,
sentry/src/,38,Another hack.  postgres does not accept lone surrogates,
sentry/src/,39,in utf-8 mode.  If we encounter any lone surrogates in,
sentry/src/,40,our string we need to remove it.,
sentry/src/,104,"We're overriding this internal method that's present in Django 1.11+, because",
sentry/src/,105,things were shuffled around since 1.10 resulting in not constructing a django CursorWrapper,
sentry/src/,106,"with our CursorWrapper. We need to be passing our wrapped cursor to their wrapped cursor,",
sentry/src/,107,not the other way around since then we'll lose things like __enter__ due to the way this,
sentry/src/,108,wrapper is working (getattr on self.cursor).,
sentry/src/,122,connection was already closed by something,
sentry/src/,123,like pgbouncer idle timeout.,
sentry/src/,7,Remove HOST() lookups for GenericIPAddressField,
sentry/src/,21,"Version 1 format: (1, TYPE, [...REST...])",
sentry/src/,22,"Insert: (1, 'insert', {",
sentry/src/,23,...event json...,
sentry/src/,24,"}, {",
sentry/src/,25,...state for post-processing...,
sentry/src/,26,}),
sentry/src/,27,,
sentry/src/,28,"Mutations that *should be ignored*: (1, ('delete_groups'|'unmerge'|'merge'), {...})",
sentry/src/,29,,
sentry/src/,30,"In short, for protocol version 1 only messages starting with (1, 'insert', ...)",
sentry/src/,31,should be processed.,
sentry/src/,33,"Version 2 format: (2, TYPE, [...REST...])",
sentry/src/,34,"Insert: (2, 'insert', {",
sentry/src/,35,...event json...,
sentry/src/,36,"}, {",
sentry/src/,37,...state for post-processing...,
sentry/src/,38,}),
sentry/src/,39,"Delete Groups: (2, '(start_delete_groups|end_delete_groups)', {",
sentry/src/,40,"'transaction_id': uuid,",
sentry/src/,41,"'project_id': id,",
sentry/src/,42,"'group_ids': [id2, id2, id3],",
sentry/src/,43,"'datetime': timestamp,",
sentry/src/,44,}),
sentry/src/,45,"Merge: (2, '(start_merge|end_merge)', {",
sentry/src/,46,"'transaction_id': uuid,",
sentry/src/,47,"'project_id': id,",
sentry/src/,48,"'previous_group_ids': [id2, id2],",
sentry/src/,49,"'new_group_id': id,",
sentry/src/,50,"'datetime': timestamp,",
sentry/src/,51,}),
sentry/src/,52,"Unmerge: (2, '(start_unmerge|end_unmerge)', {",
sentry/src/,53,"'transaction_id': uuid,",
sentry/src/,54,"'project_id': id,",
sentry/src/,55,"'previous_group_id': id,",
sentry/src/,56,"'new_group_id': id,",
sentry/src/,57,"'hashes': [hash2, hash2]",
sentry/src/,58,"'datetime': timestamp,",
sentry/src/,59,}),
sentry/src/,60,"Delete Tag: (2, '(start_delete_tag|end_delete_tag)', {",
sentry/src/,61,"'transaction_id': uuid,",
sentry/src/,62,"'project_id': id,",
sentry/src/,63,"'tag': 'foo',",
sentry/src/,64,"'datetime': timestamp,",
sentry/src/,65,}),
sentry/src/,70,"Beware! Changing this protocol (introducing a new version, or the message",
sentry/src/,71,format/fields themselves) requires consideration of all downstream,
sentry/src/,72,consumers. This includes the post-processing forwarder code!,
sentry/src/,75,These keys correspond to tags that are typically prefixed with `sentry:`,
sentry/src/,76,and will wreak havok in the UI if both the `sentry:`-prefixed and,
sentry/src/,77,non-prefixed variations occur in a response.,
sentry/src/,88,type: float,
sentry/src/,116,TODO(mitsuhiko): We do not want to send this incorrect,
sentry/src/,117,message but this is what snuba needs at the moment.,
sentry/src/,226,"Optional[Mapping[str, str]]",
sentry/src/,238,"Optional[Mapping[str, str]]",
sentry/src/,245,TODO remove this once the unified dataset is available.,
sentry/src/,246,Inserting into both events and transactions datasets lets us,
sentry/src/,247,simulate what is currently happening via kafka when both the events,
sentry/src/,248,and transactions consumers are running.,
sentry/src/,277,type: float,
sentry/src/,62,type: float,
sentry/src/,27,The ``SYNCHRONIZED`` state represents that the local offset is equal to,
sentry/src/,28,the remote offset. The local consumer should be paused to avoid advancing,
sentry/src/,29,further beyond the remote consumer.,
sentry/src/,32,The ``LOCAL_BEHIND`` state represents that the remote offset is greater,
sentry/src/,33,than the local offset. The local consumer should be unpaused to avoid,
sentry/src/,34,falling behind the remote consumer.,
sentry/src/,37,The ``REMOTE_BEHIND`` state represents that the local offset is greater,
sentry/src/,38,than the remote offset. The local consumer should be paused to avoid,
sentry/src/,39,advancing further beyond the remote consumer.,
sentry/src/,42,The ``UNKNOWN`` state represents that we haven't received enough data to,
sentry/src/,43,know the current offset state.,
sentry/src/,56,from state -> set(to states),
sentry/src/,92,local == remote,
sentry/src/,35,Set of logical (not literal) offsets that don't follow normal numeric,
sentry/src/,36,comparison rules and should be ignored.,
sentry/src/,37,https://github.com/confluentinc/confluent-kafka-python/blob/443177e1c83d9b66ce30f5eb8775e062453a738b/tests/test_enums.py#L22-L25,
sentry/src/,56,NOTE: The commit log consumer group should not be persisted into the,
sentry/src/,57,``__consumer_offsets`` topic since no offsets are committed by this,
sentry/src/,58,consumer. The group membership metadata messages will be published,
sentry/src/,59,initially but as long as this group remains a single consumer it will,
sentry/src/,60,be deleted after the consumer is closed.,
sentry/src/,61,It is very important to note that the ``group.id`` **MUST** be unique to,
sentry/src/,62,this consumer process!!! This ensures that it is able to consume from all,
sentry/src/,63,partitions of the commit log topic and get a comprehensive view of the,
sentry/src/,64,state of the consumer groups it is tracking.,
sentry/src/,77,The commit log consumer must start consuming from the beginning of,
sentry/src/,78,the commit log topic to ensure that it has a comprehensive view of,
sentry/src/,79,all active partitions.,
sentry/src/,224,noqa,
sentry/src/,226,not helpful,
sentry/src/,245,It only makes sense to manipulate the consumer if we've got an,
sentry/src/,246,assignment. (This block should only be entered at startup if the,
sentry/src/,247,remote offsets are retrieved from the commit log before the local,
sentry/src/,248,consumer has received its assignment.),
sentry/src/,251,"TODO: This will be called from the commit log consumer thread, so need",
sentry/src/,252,"to verify that calling the ``consumer.{pause,resume}`` methods is",
sentry/src/,253,thread safe!,
sentry/src/,272,Since ``auto.offset.reset`` is set to ``error`` to force human,
sentry/src/,273,"interaction on an offset reset, we have to explicitly specify the",
sentry/src/,274,starting offset if no offset has been committed for this topic during,
sentry/src/,275,the ``__consumer_offsets`` topic retention period.,
sentry/src/,302,Setting the local offsets will either cause the partition to be,
sentry/src/,303,paused (if the remote offset is unknown or the local offset is,
sentry/src/,304,not trailing the remote offset) or resumed.,
sentry/src/,316,TODO: This should probably also be removed from the state manager.,
sentry/src/,20,"The insert message formats for Version 1 and 2 are essentially unchanged,",
sentry/src/,21,so this function builds a handler function that can deal with both.,
sentry/src/,25,nothing to do,
sentry/src/,31,This data is already normalized as we're currently in the,
sentry/src/,32,ingestion pipeline and the event was in store,
sentry/src/,33,normalization just a few seconds ago. Running it through,
sentry/src/,34,Rust (re)normalization here again would be too slow.,
sentry/src/,37,"Optional[Mapping[str, str]]",
sentry/src/,42,Polling the producer is required to ensure callbacks are fired. This,
sentry/src/,43,means that the latency between a message being delivered (or failing,
sentry/src/,44,to be delivered) and the corresponding callback being fired is,
sentry/src/,45,roughly the same as the duration of time that passes between publish,
sentry/src/,46,"calls. If this ends up being too high, the publisher should be moved",
sentry/src/,47,into a background thread that can poll more frequently without,
sentry/src/,48,interfering with request handling. (This does `poll` does not act as,
sentry/src/,49,a heartbeat for the purposes of any sort of session expiration.),
sentry/src/,50,Note that this call to poll() is *only* dealing with earlier,
sentry/src/,51,asynchronous produce() calls from the same process.,
sentry/src/,70,flush() is a convenience method that calls poll() until len() is zero,
sentry/src/,3,noqa,
sentry/src/,97,"TODO(markus): We need to get away from sequential IDs, they",
sentry/src/,98,are risking collision when using Relay.,
sentry/src/,26,Confusing legacy name for RediscClusterCache,
sentry/src/,9,noqa,
sentry/src/,29,The endpoint is accessible if any of the User's Orgs have the feature,
sentry/src/,30,flag enabled.,
sentry/src/,39,The Org in scope for the request must have the feature flag enabled.,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,7,The feature flag system provides a way to turn on or off features of Sentry.,
sentry/src/,8,,
sentry/src/,9,Registering a new feature:,
sentry/src/,10,,
sentry/src/,11,- Determine what scope your feature falls under. By convention we have a,
sentry/src/,12,organizations and project scope which map to the OrganizationFeature and,
sentry/src/,13,ProjectFeature feature objects. Scoping will provide the feature with,
sentry/src/,14,context.,
sentry/src/,15,,
sentry/src/,16,Organization and Project scoped features will automatically be added into,
sentry/src/,17,the Organization and Project serialized representations.,
sentry/src/,18,,
sentry/src/,19,"Additional feature contexts can be found under the features.base module,",
sentry/src/,20,but you will typically deal with the organization or project.,
sentry/src/,21,,
sentry/src/,22,NOTE: There is no currently established convention for features which do not,
sentry/src/,23,fall under these scopes. Use your best judgment for these.,
sentry/src/,24,,
sentry/src/,25,- Set a default for your features.,
sentry/src/,26,,
sentry/src/,27,Feature defaults are configured in the sentry.conf.server.SENTRY_FEATURES,
sentry/src/,28,"module variable. This is the DEFAULT value for a feature, the default may be",
sentry/src/,29,overridden by the logic in the exposed feature.manager.FeatureManager,
sentry/src/,30,instance. See the ``has`` method here for a detailed understanding of how,
sentry/src/,31,the default values is overridden.,
sentry/src/,32,,
sentry/src/,33,- Use your feature.,
sentry/src/,34,,
sentry/src/,35,You can check if a feature is enabled using the following call:,
sentry/src/,36,,
sentry/src/,37,">>> features.has('organization:my-feature', organization, actor=user)",
sentry/src/,38,,
sentry/src/,39,"NOTE: The second parameter is used to provide the feature context, again",
sentry/src/,40,"organization and project are the most common, but it is possible that",
sentry/src/,41,other Feature objects may require more arguments.,
sentry/src/,42,,
sentry/src/,43,NOTE: The actor kwarg should be passed when it's expected that the handler,
sentry/src/,44,needs context of the user.,
sentry/src/,45,,
sentry/src/,46,"NOTE: Features that require Snuba to function, add to the",
sentry/src/,47,`requires_snuba` tuple.,
sentry/src/,49,NOQA,
sentry/src/,51,Unscoped features,
sentry/src/,55,Organization scoped features,
sentry/src/,56,NOQA,
sentry/src/,57,NOQA,
sentry/src/,58,NOQA,
sentry/src/,59,NOQA,
sentry/src/,60,NOQA,
sentry/src/,61,NOQA,
sentry/src/,62,NOQA,
sentry/src/,63,NOQA,
sentry/src/,64,NOQA,
sentry/src/,65,NOQA,
sentry/src/,66,NOQA,
sentry/src/,67,NOQA,
sentry/src/,68,NOQA,
sentry/src/,69,NOQA,
sentry/src/,70,NOQA,
sentry/src/,71,NOQA,
sentry/src/,72,NOQA,
sentry/src/,73,NOQA,
sentry/src/,74,NOQA,
sentry/src/,75,NOQA,
sentry/src/,76,NOQA,
sentry/src/,77,NOQA,
sentry/src/,78,NOQA,
sentry/src/,79,NOQA,
sentry/src/,80,NOQA,
sentry/src/,81,NOQA,
sentry/src/,82,NOQA,
sentry/src/,83,NOQA,
sentry/src/,84,NOQA,
sentry/src/,85,NOQA,
sentry/src/,86,NOQA,
sentry/src/,87,NOQA,
sentry/src/,88,NOQA,
sentry/src/,89,NOQA,
sentry/src/,90,NOQA,
sentry/src/,91,NOQA,
sentry/src/,92,NOQA,
sentry/src/,93,NOQA,
sentry/src/,94,NOQA,
sentry/src/,96,Project scoped features,
sentry/src/,97,NOQA,
sentry/src/,98,NOQA,
sentry/src/,99,NOQA,
sentry/src/,100,NOQA,
sentry/src/,101,NOQA,
sentry/src/,102,NOQA,
sentry/src/,103,NOQA,
sentry/src/,104,NOQA,
sentry/src/,105,NOQA,
sentry/src/,107,Project plugin features,
sentry/src/,108,NOQA,
sentry/src/,110,"This is a gross hardcoded list, but there's no",
sentry/src/,111,other sensible way to manage this right now without augmenting,
sentry/src/,112,features themselves in the manager with detections like this.,
sentry/src/,123,NOTE: Don't add features down here! Add them to their specific group and sort,
sentry/src/,124,them alphabetically! The order features are registered is not important.,
sentry/src/,126,expose public api,
sentry/src/,72,Check plugin feature handlers,
sentry/src/,81,Features are by default disabled if no plugin or default enables them,
sentry/src/,19,these are not modules but things like __rust_maybe_catch_panic,
sentry/src/,231,Update the platform,
sentry/src/,236,Remove rust_info from messages,
sentry/src/,241,Extend the stacktrace,
sentry/src/,7,Try to load bindings with libyaml if available,
sentry/src/,6,Absolute paths where iOS mounts application files.,
sentry/src/,12,Locations which usually contain MacOS apps.,
sentry/src/,15,Paths which usually contain linux system or third party libraries.,
sentry/src/,18,Regex matching the Windows folder on any drive.,
sentry/src/,21,Regex matching well-known iOS and macOS frameworks (and our own).,
sentry/src/,36,TODO(ja): Translate these rules to grouping enhancers,
sentry/src/,43,"Check for common iOS and MacOS support frameworks, like Swift.",
sentry/src/,47,Check for iOS app bundles in well known locations. These are definitely,
sentry/src/,48,"not third-party, as they contain the application.",
sentry/src/,52,Check for app locations in the iOS simulator,
sentry/src/,59,Check for OS-specific rules,
sentry/src/,68,Everything else we don't know is considered third_party,
sentry/src/,72,TODO(ja): Improve reprocessing heuristics,
sentry/src/,84,Support frameworks have been bundled with iOS apps at times. These are,
sentry/src/,85,considered optional.,
sentry/src/,89,"Bundled frameworks on iOS are considered optional, even though they live",
sentry/src/,90,"in the application folder. They are not considered third party, however.",
sentry/src/,94,"All other images, whether from the app bundle or not, are considered",
sentry/src/,95,required.,
sentry/src/,17,We cache a NoneType for missing imports to avoid repeated lookups,
sentry/src/,43,this causes a Runtime error with model conflicts,
sentry/src/,44,module = loader.find_module(module_name).load_module(module_name),
sentry/src/,34,The maximum amount of recipients to display in human format.,
sentry/src/,37,"The fake TLD used to construct email addresses when one is required,",
sentry/src/,38,for example by automatically generated SSO accounts.,
sentry/src/,47,CSS media query support is inconistent when the DOCTYPE declaration is,
sentry/src/,48,"missing, so we force it to HTML5 here.",
sentry/src/,71,This unsign is identical to subclass except for the lowercasing,
sentry/src/,72,See: https://github.com/django/django/blob/1.6.11/django/core/signing.py#L165-L172,
sentry/src/,110,The email address is likely malformed or something,
sentry/src/,114,Slightly modified version of Django's,
sentry/src/,115,`django.core.mail.message:make_msgid` because we need,
sentry/src/,116,to override the domain. If we ever upgrade to,
sentry/src/,117,"django 1.8, we can/should replace this.",
sentry/src/,134,cache the domain_from_email calculation,
sentry/src/,135,"This is just a tuple of (email, email-domain)",
sentry/src/,202,The list-id-namespace that will be used when generating the list-id,
sentry/src/,203,string. This should be a domain name under the control of the,
sentry/src/,204,generator (see RFC 2919.),
sentry/src/,207,A mapping of classes to functions that accept an instance of that,
sentry/src/,208,"class, returning a tuple of values that will be used to generate the",
sentry/src/,209,list label. Returned values must be valid RFC 2822 dot-atom-text,
sentry/src/,210,values.,
sentry/src/,274,The object that generated this message,
sentry/src/,275,The object this message is replying about,
sentry/src/,322,Every message sent needs a unique message id,
sentry/src/,26,Reexport sentry_sdk just in case we ever have to write another shim like we,
sentry/src/,27,did for raven,
sentry/src/,28,NOQA,
sentry/src/,78,"if the relation fails to query or is missing completely, lets handle",
sentry/src/,79,it gracefully,
sentry/src/,101,TODO(mattrobenolt): handle an upstream Sentry,
sentry/src/,139,Upstream should get the event first because it is most isolated from,
sentry/src/,140,the this sentry installation.,
sentry/src/,143,TODO(mattrobenolt): Bring this back safely.,
sentry/src/,144,from sentry import options,
sentry/src/,145,install_id = options.get('sentry:install-id'),
sentry/src/,146,if install_id:,
sentry/src/,147,"event.setdefault('tags', {})['install-id'] = install_id",
sentry/src/,202,XXX(dcramer): this is duplicated in organizationContext.jsx on the frontend,
sentry/src/,40,TODO remove this when Snuba accepts more than 500 issues,
sentry/src/,47,Global Snuba request option override dictionary. Only intended,
sentry/src/,48,to be used with the `options_override` contextmanager below.,
sentry/src/,49,NOT THREAD SAFE!,
sentry/src/,54,There are several cases here where we support both a top level column name and,
sentry/src/,55,"a tag with the same name. Existing search patterns expect to refer to the tag,",
sentry/src/,56,so we support <real_column_name>.name to refer to the top level column name.,
sentry/src/,62,This maps the public column aliases to the discover dataset column names.,
sentry/src/,63,Longer term we would like to not expose the transactions dataset directly,
sentry/src/,64,to end users and instead have all ad-hoc queries go through the discover,
sentry/src/,65,dataset.,
sentry/src/,75,Store the internal field names to save work later on.,
sentry/src/,76,Add `group_id` to the events dataset list as we don't want to publically,
sentry/src/,77,"expose that field, but it is used by eventstore and other internals.",
sentry/src/,233,Our calls to snuba frequently fail due to network issues. We want to,
sentry/src/,234,automatically retry most requests. Some of our POSTs and all of our DELETEs,
sentry/src/,235,"do cause mutations, but we have other things in place to handle duplicate",
sentry/src/,236,mutations.,
sentry/src/,294,The assumption here is that a list that follows a string means,
sentry/src/,295,the string is a function name,
sentry/src/,322,"If we are given a set of project ids, use those directly.",
sentry/src/,325,Otherwise infer the project_ids from any related models,
sentry/src/,340,"any project will do, as they should all be from the same organization",
sentry/src/,378,"convert to naive UTC datetimes, as Snuba only deals in UTC",
sentry/src/,379,and this avoids offset-naive and offset-aware issues,
sentry/src/,416,if `shrink_time_window` pushed `start` after `end` it means the user queried,
sentry/src/,417,"a Group for T1 to T2 when the group was only active for T3 to T4, so the query",
sentry/src/,418,wouldn't return any results anyway,
sentry/src/,421,TODO (alexh) this is a quick emergency fix for an occasion where a search,
sentry/src/,422,"results in only 1 django candidate, which is then passed to snuba to",
sentry/src/,423,check and we raised because of it. Remove this once we figure out why the,
sentry/src/,424,candidate was returned from django at all if it existed only outside the,
sentry/src/,425,time range of the query,
sentry/src/,440,TODO name these things the same,
sentry/src/,490,"TODO: instead of having events be the default, make dataset required.",
sentry/src/,492,will be clamped to project retention,
sentry/src/,493,Snuba has end exclusive but our UI wants it generally to be inclusive.,
sentry/src/,494,This shows up in unittests: https://github.com/getsentry/sentry/pull/15939,
sentry/src/,495,We generally however require that the API user is aware of the exclusive,
sentry/src/,496,end.,
sentry/src/,576,No need to submit to the thread pool if we're just performing a,
sentry/src/,577,single query,
sentry/src/,605,"Forward and reverse translation maps from model ids to snuba keys, per column",
sentry/src/,649,"Validate and scrub response, and translate snuba keys back to IDs",
sentry/src/,673,"At leaf level, just return the aggregations from the first data row",
sentry/src/,675,"Special case, if there is only one aggregate, just return the raw value",
sentry/src/,719,IN conditions are detected as a function but aren't really.,
sentry/src/,726,Nested function,
sentry/src/,734,No function name found,
sentry/src/,736,"Condition is [col, operator, value]",
sentry/src/,745,Nested conditions,
sentry/src/,801,Don't mutate in case we have a default order passed.,
sentry/src/,842,Ignore Nullable part,
sentry/src/,848,Check for array,
sentry/src/,856,The following are functions for resolving information from sentry models,
sentry/src/,857,"about projects, environments, and issues (groups). Having this snuba",
sentry/src/,858,"implementation have to know about these relationships is not ideal, and",
sentry/src/,859,many of these relationships (eg environment id->name) will have already,
sentry/src/,860,"been queried and exist somewhere in the call stack, but for now, lookup",
sentry/src/,861,is implemented here for simplicity.,
sentry/src/,884,Helper lambdas to compose translator functions,
sentry/src/,904,GroupRelease -> Release translation is a special case because the,
sentry/src/,905,translation relies on both the Group and Release value in the result row.,
sentry/src/,906,,
sentry/src/,907,"We create a map of {grouprelease_id: (group_id, version), ...} and the corresponding",
sentry/src/,908,"reverse map of {(group_id, version): grouprelease_id, ...}",
sentry/src/,909,"NB this does depend on `issue` being defined in the query result, and the correct",
sentry/src/,910,"set of issues being resolved, which is outside the control of this function.",
sentry/src/,926,The translate map may not have every combination of issue/release,
sentry/src/,927,returned by the query.,
sentry/src/,955,Extra reverse translator for time column.,
sentry/src/,962,Extra reverse translator for bucketed_end column.,
sentry/src/,12,joins to an absolute url are willing by default,
sentry/src/,27,Exclude empty path segments as some repository integrations,
sentry/src/,28,start their paths with `/` which we want to ignore.,
sentry/src/,61,Get distinct file names and bail if there are no files.,
sentry/src/,67,build a single query to get all of the commit file that might match the first n frames,
sentry/src/,76,find commits that match the run time path the best.,
sentry/src/,82,reset matches for better match.,
sentry/src/,86,skip 1-score matches when file change is longer than 1 token,
sentry/src/,89,we want a list of unique commits that tie for longest match,
sentry/src/,106,extract the unique committers and return their serialized sentry accounts,
sentry/src/,119,"organize them by this heuristic (first frame is worth 5 points, second is worth 4, etc.)",
sentry/src/,137,"given a release version + project, return the previous",
sentry/src/,138,`limit` releases (includes the release specified by `version`),
sentry/src/,190,Java stackframes don't have an absolute path in the filename key.,
sentry/src/,191,That property is usually just the basename of the file. In the future,
sentry/src/,192,"the Java SDK might generate better file paths, but for now we use the module",
sentry/src/,193,path to approximate the file path so that we can intersect it with commit,
sentry/src/,194,file paths.,
sentry/src/,200,"Replace the last module segment with the filename, as the",
sentry/src/,201,terminal element in a module path is the class,
sentry/src/,206,TODO(maxbittker) return this set instead of annotated frames,
sentry/src/,207,"XXX(dcramer): frames may not define a filepath. For example, in Java its common",
sentry/src/,208,to only have a module name/path,
sentry/src/,30,http://en.wikipedia.org/wiki/Median_absolute_deviation,
sentry/src/,32,"XXX(dcramer): Celery docs suggest it should be app.conf.beat_schedule, which",
sentry/src/,33,"was likely a change in 4.x. This code is intended to support ""any celery"" and be",
sentry/src/,34,"adopted into sentry-sdk core, thus we support it here.",
sentry/src/,46,Celery signals fail to propagate if they error and we dont want to break things with our,
sentry/src/,47,instrumentation,
sentry/src/,48,"XXX(dcramer): This appears to be specific to the 3.x series we're running, and doesn't have",
sentry/src/,49,the same behavior in 4.x,
sentry/src/,79,HACK:,
sentry/src/,17,TODO: we should make smart savepoints (only executing the savepoint server,
sentry/src/,18,side if we execute a query),
sentry/src/,13,default is no-op,
sentry/src/,104,"NOTE: Before editing this data, make sure you understand the context",
sentry/src/,105,in which its being used. It is NOT only used for local development and,
sentry/src/,106,has production consequences.,
sentry/src/,107,* bin/load-mocks to generate fake data for local testing,
sentry/src/,108,"* When a new project is created, a fake event is generated as a ""starter""",
sentry/src/,109,event so it's not an empty project.,
sentry/src/,110,"* When a user clicks Test Configuration from notification plugin settings page,",
sentry/src/,111,a fake event is generated to go through the pipeline.,
sentry/src/,126,Verify by checking if the file is within our folder explicitly,
sentry/src/,127,avoids being able to have a name that invokes traversing directories.,
sentry/src/,138,"XXX: At this point, it's assumed that `json_path` was safely found",
sentry/src/,139,within `samples_root` due to the check above and cannot traverse,
sentry/src/,140,into paths.,
sentry/src/,152,Transaction events need timestamp data set to something current.,
sentry/src/,164,XXX: Message is a legacy alias for logentry. Do not overwrite if set.,
sentry/src/,40,"[started, finished/cancelled]",
sentry/src/,69,This method can only be called once (the second invocation will raise,
sentry/src/,70,a ``RuntimeError``) so if we've gotten this far we can be reasonably,
sentry/src/,71,confident that the start time hasn't been set.,
sentry/src/,77,Futures can only be marked as cancelled if they are neither,
sentry/src/,78,running or finished (we have to duplicate this check that is also,
sentry/src/,79,performed in the superclass to ensure the timing is set before,
sentry/src/,80,callbacks are invoked.) As long as the future is in the correct,
sentry/src/,81,"state, this call is guaranteed to succeed. This method can be",
sentry/src/,82,"called multiple times, but we only record the first time the",
sentry/src/,83,future was cancelled.,
sentry/src/,90,"This method always overwrites the result, so we always overwrite",
sentry/src/,91,"the timing, even if another timing was already recorded.",
sentry/src/,96,XXX: This makes the potentially unsafe assumption that,
sentry/src/,97,``set_exception`` will always continue to call this function.,
sentry/src/,99,"This method always overwrites the result, so we always overwrite",
sentry/src/,100,"the timing, even if another timing was already recorded.",
sentry/src/,138,TODO: The ``Future`` implementation here could be replaced with a,
sentry/src/,139,lock-free future for efficiency.,
sentry/src/,42,"we assume that if encryption is not configured, it was never",
sentry/src/,43,configured,
sentry/src/,15,30 days,
sentry/src/,79,"If no event is specified, return the latest requests/errors for all event types",
sentry/src/,120,Don't store the org id for internal apps because it will always be the org that owns the app anyway,
sentry/src/,124,We need both the error ID and project ID to link the error,
sentry/src/,133,If it's an error add it to the error buffer,
sentry/src/,1,NOTE: This is run external to sentry as well as part of the setup,
sentry/src/,2,process.  Thus we do not want to import non stdlib things here.,
sentry/src/,16,Also see INTEGRATION_DOC_FOLDER in setup.py,
sentry/src/,21,"We cannot leverage six here, so we need to vendor",
sentry/src/,22,bits that we need.,
sentry/src/,24,NOQA,
sentry/src/,34,NOQA,
sentry/src/,66,"XXX: ideally, we use six.text_type here, but we can't use six.",
sentry/src/,67,NOQA,
sentry/src/,142,We use listdir() here as integration_id comes from user data,
sentry/src/,143,and using os.path.join() would allow directory traversal vulnerabilities,
sentry/src/,144,which we don't want.,
sentry/src/,77,Check for blacklisted counters after the constant time,
sentry/src/,78,compare,
sentry/src/,106,"Frontend expects the matrix to be serialized as 1/0, not True/False",
sentry/src/,32,TODO(tkaemming): This will be removed from the message in the future,
sentry/src/,33,when it's added to the API payload separately.,
sentry/src/,51,Maybe log if `category` was passed and isn't a subclass of,
sentry/src/,52,`type(message)`?,
sentry/src/,94,Maintains all unique warnings seen since system startup.,
sentry/src/,104,Make this act like the standard library ``warnings`` module.,
sentry/src/,51,Skip directories,
sentry/src/,41,TODO (alex) could use unicode ellipsis: u'\u2026',
sentry/src/,51,Invalid literal for int().,
sentry/src/,52,Fail silently.,
sentry/src/,102,check if this is this a delimiter,
sentry/src/,117,in some cases we get a different exception,
sentry/src/,128,"Unicode characters or some stuff, ignore it.",
sentry/src/,160,must be a string type,
sentry/src/,162,cannot start or end with a dot,
sentry/src/,164,can only contain valid characters,
sentry/src/,191,Check for `CodecInfo._is_text_encoding`.,
sentry/src/,192,"If this attribute exists, we can assume we can operate",
sentry/src/,193,with this encoding value safely. This attribute was,
sentry/src/,194,"introduced into 2.7.12, so versions prior to this will",
sentry/src/,195,"raise, but this is the best we can do.",
sentry/src/,201,`undefined` is special a special encoding in python that 100% of,
sentry/src/,202,"the time will raise, so ignore it.",
sentry/src/,47,"Ensure values are unique, do not contain already present values, and are not missing",
sentry/src/,48,values specified in select_related,
sentry/src/,41,blue,
sentry/src/,42,blue_dark,
sentry/src/,43,green,
sentry/src/,44,green_dark,
sentry/src/,45,yellow_orange,
sentry/src/,46,red,
sentry/src/,47,red_dark,
sentry/src/,48,pink,
sentry/src/,49,purple,
sentry/src/,50,purple_dark,
sentry/src/,51,teal,
sentry/src/,52,gray,
sentry/src/,114,default to mm if including in emails,
sentry/src/,77,"If we want to wrap in metrics, we need to make sure it's some callable,",
sentry/src/,78,and within our list of exposed attributes. Then we can safely wrap,
sentry/src/,79,in our metrics decorator.,
sentry/src/,264,"When deciding how to handle attribute accesses, we have three",
sentry/src/,265,different possible outcomes:,
sentry/src/,266,"1. If this is defined as a method on the base implementation, we are",
sentry/src/,267,able delegate it to the backends based on the selector function.,
sentry/src/,268,"2. If this is defined as an attribute on the base implementation, we",
sentry/src/,269,are able to (immediately) return that as the value. (This also,
sentry/src/,270,"mirrors the behavior of ``LazyServiceWrapper``, which will cache",
sentry/src/,271,"any attribute access during ``expose``, so we can't delegate",
sentry/src/,272,attribute access anyway.),
sentry/src/,273,"3. If this isn't defined at all on the base implementation, we let",
sentry/src/,274,the ``AttributeError`` raised by ``getattr`` propagate (mirroring,
sentry/src/,275,normal attribute access behavior for a missing/invalid name.),
sentry/src/,283,If there is no context object already set in the thread local,
sentry/src/,284,"state, we are entering the delegator for the first time and need",
sentry/src/,285,to create a new context.,
sentry/src/,287,avoids a circular import,
sentry/src/,291,"If this thread already has an active backend for this base class,",
sentry/src/,292,we can safely call that backend synchronously without delegating.,
sentry/src/,297,Binding the call arguments to named arguments has two benefits:,
sentry/src/,298,1. These values always be passed in the same form to the selector,
sentry/src/,299,"function and callback, regardless of how they were passed to",
sentry/src/,300,"the method itself (as positional arguments, keyword arguments,",
sentry/src/,301,etc.),
sentry/src/,302,2. This ensures that the given arguments are those supported by,
sentry/src/,303,"the base backend itself, which should be a common subset of",
sentry/src/,304,arguments that are supported by all backends.,
sentry/src/,311,Ensure that the primary backend is actually registered -- we,
sentry/src/,312,don't want to schedule any work on the secondaries if the primary,
sentry/src/,313,request is going to fail anyway.,
sentry/src/,320,Update the thread local state in the executor to the provided,
sentry/src/,321,context object. This allows the context to be propagated,
sentry/src/,322,across different threads.,
sentry/src/,326,Ensure that we haven't somehow accidentally entered a context,
sentry/src/,327,where the backend we're calling has already been marked as,
sentry/src/,328,"active (or worse, some other backend is already active.)",
sentry/src/,332,Mark the backend as active.,
sentry/src/,337,"If this isn't the primary backend, we log any unexpected",
sentry/src/,338,exceptions so that they don't pass by unnoticed. (Any,
sentry/src/,339,exceptions raised by the primary backend aren't logged,
sentry/src/,340,"here, since it's assumed that the caller will log them",
sentry/src/,341,from the calling thread.),
sentry/src/,356,Enqueue all of the secondary backend requests first since these,
sentry/src/,357,are non-blocking queue insertions. (Since the primary backend,
sentry/src/,358,"executor queue insertion can block, if that queue was full the",
sentry/src/,359,secondary requests would have to wait unnecessarily to be queued,
sentry/src/,360,until the after the primary request can be enqueued.),
sentry/src/,361,NOTE: If the same backend is both the primary backend *and* in,
sentry/src/,362,"the secondary backend list -- this is unlikely, but possible --",
sentry/src/,363,this means that one of the secondary requests will be queued and,
sentry/src/,364,executed before the primary request is queued.  This is such a,
sentry/src/,365,strange usage pattern that I don't think it's worth optimizing,
sentry/src/,366,for.),
sentry/src/,386,The primary backend is scheduled last since it may block the,
sentry/src/,387,calling thread. (We don't have to protect this from ``KeyError``,
sentry/src/,388,since we already ensured that the primary backend exists.),
sentry/src/,74,if LOGIN_URL resolves force login_required to it instead of our own,
sentry/src/,75,XXX: this must be done as late as possible to avoid idempotent requirements,
sentry/src/,85,ensure type is coerced to string (to avoid lazy proxies),
sentry/src/,104,TODO(dcramer): deal with case when the user cannot create orgs,
sentry/src/,116,If there is a pending 2fa authentication bound to the session then,
sentry/src/,117,we need to go to the 2fa dialog.,
sentry/src/,121,If we have a different URL to go after the 2fa flow we want to go to,
sentry/src/,122,that now here.,
sentry/src/,146,TODO(dcramer): this needs to be bound based on SSO options (e.g. changing,
sentry/src/,147,or enabling SSO invalidates this),
sentry/src/,177,"First, assume username is an iexact match for username",
sentry/src/,181,"If not, we can take a stab at guessing it's an email address",
sentry/src/,183,email isn't guaranteed unique,
sentry/src/,215,TODO(dcramer): this needs to be bound based on MFA options,
sentry/src/,224,Check for expired passwords here after we cleared the 2fa flow.,
sentry/src/,225,While this means that users will have to pass 2fa before they can,
sentry/src/,226,figure out that their passwords are expired this is still the more,
sentry/src/,227,reasonable behavior.,
sentry/src/,228,,
sentry/src/,229,We also remember _after_2fa here so that we can continue the flow if,
sentry/src/,230,someone does it in the same browser.,
sentry/src/,234,"If this User has a nonce value, we need to bind into the session.",
sentry/src/,238,"If there is no authentication backend, just attach the first",
sentry/src/,239,one and hope it goes through.  This apparently is a thing we,
sentry/src/,240,"have been doing for a long time, just moved it to a more",
sentry/src/,241,reasonable place.,
sentry/src/,303,"TODO(joshuarli): When we're fully on Django 1.10, we should switch to",
sentry/src/,304,subclassing AllowAllUsersModelBackend (this isn't available in 1.9 and,
sentry/src/,305,simply overriding user_can_authenticate here is a lot less verbose than,
sentry/src/,306,conditionally importing).,
sentry/src/,53,format is Y-m-d,
sentry/src/,70,TODO(mitsuhiko): merge this code with coreapis date parser,
sentry/src/,91,Set of logical (not literal) offsets to not publish to the commit log.,
sentry/src/,92,https://github.com/confluentinc/confluent-kafka-python/blob/443177e1c83d9b66ce30f5eb8775e062453a738b/tests/test_enums.py#L22-L25,
sentry/src/,95,Set of error codes that can be returned by ``consumer.poll`` calls which,
sentry/src/,96,are generally able to be recovered from after a series of retries.,
sentry/src/,98,Local: Broker transport failure,
sentry/src/,123,in milliseconds,
sentry/src/,134,"(topic, partition) = [low, high]",
sentry/src/,137,"the total amount of time, in milliseconds, that it took to process",
sentry/src/,138,the messages in this batch (does not included time spent waiting for,
sentry/src/,139,new messages),
sentry/src/,186,overridden to reduce memory usage when there's a large backlog,
sentry/src/,244,set the deadline only after the first message for this batch is seen,
sentry/src/,284,"drop in-memory events, letting the next consumer take over where we left off",
sentry/src/,287,"tell the consumer to shutdown, and close the consumer",
sentry/src/,307,"No messages were processed, so there's nothing to do.",
sentry/src/,356,success,
sentry/src/,1,Avoid shadowing the standard library json module,
sentry/src/,44,Our variant of JSONEncoderForHTML that also accounts for apostrophes,
sentry/src/,45,See: https://github.com/simplejson/simplejson/blob/master/simplejson/encoder.py#L380-L386,
sentry/src/,47,Override JSONEncoder.encode because it has hacks for,
sentry/src/,48,performance that make things more complicated.,
sentry/src/,96,Legacy use. Do not use. Use dumps_htmlsafe,
sentry/src/,118,eliminate None values for serialization to compress the keyspace,
sentry/src/,119,and save (seriously) ridiculous amounts of bytes,
sentry/src/,120,,
sentry/src/,121,"Do not coerce empty arrays/dicts or other ""falsy"" values here to None,",
sentry/src/,122,but rather deal with them case-by-case before calling `prune_empty_keys`,
sentry/src/,123,"(e.g. in `Interface.to_json`). Rarely, but sometimes, there's a slight",
sentry/src/,124,semantic difference between empty containers and a missing value. One,
sentry/src/,125,"example would be `event.logentry.formatted`, where `{}` means ""this",
sentry/src/,126,"message has no params"" and `None` means ""this message is already",
sentry/src/,127,"formatted"".",
sentry/src/,38,Snippet originally from pysolr: https://github.com/toastdriven/pysolr,
sentry/src/,82,lowercase and strip the trailing slash from all origin values,
sentry/src/,83,filter out empty values,
sentry/src/,103,we need to coerce our unicode inputs into proper,
sentry/src/,104,idna/punycode encoded representation for normalization.,
sentry/src/,140,we always run a case insensitive check,
sentry/src/,143,Fast check,
sentry/src/,147,XXX: In some cases origin might be localhost (or something similar) which causes a string value,
sentry/src/,148,of 'null' to be sent as the origin,
sentry/src/,169,"We sometimes shove in some garbage input here, so just opting to ignore and carry on",
sentry/src/,176,Explicit hostname + port name,
sentry/src/,178,Wildcard hostname with explicit port,
sentry/src/,188,"We hit a bad uri, so ignore this value",
sentry/src/,191,scheme supports exact and any match,
sentry/src/,195,"domain supports exact, any, and prefix match",
sentry/src/,203,"path supports exact, any, and suffix match (with or without *)",
sentry/src/,220,"In some situation, an Origin header may be the literal value",
sentry/src/,221,"""null"". This means that the Origin header was stripped for",
sentry/src/,222,"privacy reasons, but we should ignore this value entirely.",
sentry/src/,223,"Behavior is specified in RFC6454. In either case, we should",
sentry/src/,224,"treat a ""null"" Origin as a nonexistent one and fallback to Referer.",
sentry/src/,245,Prioritize the decoder which supports the possible content type first.,
sentry/src/,252,Try another decoder,
sentry/src/,259,see https://en.wikipedia.org/wiki/Percent-encoding,
sentry/src/,7,Copyright (C) 2010 Daniele Varrazzo <daniele.varrazzo@gmail.com>,
sentry/src/,8,and licensed under the MIT license:,
sentry/src/,9,,
sentry/src/,10,"Permission is hereby granted, free of charge, to any person obtaining a copy",
sentry/src/,11,"of this software and associated documentation files (the ""Software""), to deal",
sentry/src/,12,"in the Software without restriction, including without limitation the rights",
sentry/src/,13,"to use, copy, modify, merge, publish, distribute, sublicense, and/or sell",
sentry/src/,14,"copies of the Software, and to permit persons to whom the Software is",
sentry/src/,15,"furnished to do so, subject to the following conditions:",
sentry/src/,16,,
sentry/src/,17,The above copyright notice and this permission notice shall be included in,
sentry/src/,18,all copies or substantial portions of the Software.,
sentry/src/,19,,
sentry/src/,20,"THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR",
sentry/src/,21,"IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,",
sentry/src/,22,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE,
sentry/src/,23,"AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER",
sentry/src/,24,"LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,",
sentry/src/,25,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN,
sentry/src/,26,THE SOFTWARE.,
sentry/src/,12,will raise a ValueError,
sentry/src/,7,noqa: E741,
sentry/src/,21,Default value to be returned when initializing,
sentry/src/,23,Types that do not need to be coerced,
sentry/src/,25,Types that are acceptable for coersion,
sentry/src/,35,Make sure convert was able to do the right thing,
sentry/src/,36,and give us the type we were expecting,
sentry/src/,125,make sure we create a fresh dict each time,
sentry/src/,154,Initialize singletons of each type for easy reuse,
sentry/src/,163,Mapping for basic types into what their Type is,
sentry/src/,175,noqa: B311,
sentry/src/,176,long was removed in Python 3,
sentry/src/,61,We want to error fast if it's an exact match,
sentry/src/,65,Check to make sure it's actually a range before,
sentry/src/,73,Ignore invalid values here,
sentry/src/,115,fnmatch raises a string when the pattern is bad.,
sentry/src/,116,Patterns come from end users and can be full of mistakes.,
sentry/src/,26,Support for slicing,
sentry/src/,64,we implement basic cursor pagination for columns that are not unique,
sentry/src/,89,"Need to bind value before yielding, because the caller",
sentry/src/,90,may mutate the value and we're left with a bad value.,
sentry/src/,91,This is commonly the case if iterating over and,
sentry/src/,92,"deleting, because a Model.delete() mutates the `id`",
sentry/src/,93,to `None` causing the loop to exit early.,
sentry/src/,138,"It's possible that we've exceeded the maxval, but instead",
sentry/src/,139,"of exploding on a ValueError, let's just cap it so we don't.",
sentry/src/,140,this could happen if new rows were added between calculating `count()`,
sentry/src/,141,and actually beginning iteration where we're iterating slightly more,
sentry/src/,142,than we thought.,
sentry/src/,4,NOQA,
sentry/src/,6,NOQA,
sentry/src/,1,!/usr/bin/env python,
sentry/src/,4,Backwards compatibility,
sentry/src/,5,NOQA,
sentry/src/,65,Preserve the order of iteration while prioritizing canonical keys,
sentry/src/,21,Do not import from sentry here!  Bad things will happen,
sentry/src/,26,[foo|bar|baz],
sentry/src/,45,handle named groups first,
sentry/src/,48,handle non-named groups,
sentry/src/,51,handle optional params,
sentry/src/,54,clean up any outstanding regex-y characters.,
sentry/src/,118,is an RST underline,
sentry/src/,121,Presently the only RST block we use is `caution` which,
sentry/src/,122,displays as a 'warning',
sentry/src/,125,Is a new parameter or other annotation,
sentry/src/,130,Adding to an existing parameter annotation,
sentry/src/,134,If we're indented at least 2 spaces assume,
sentry/src/,135,we're in the RST block,
sentry/src/,139,An un-indented non-empty line means we,
sentry/src/,140,have other content.,
sentry/src/,143,Normal text. We want empty lines here so we can,
sentry/src/,144,preserve paragraph breaks.,
sentry/src/,163,Handle inline formatting elements.,
sentry/src/,208,Split out the parameter type,
sentry/src/,294,Make sure everything is imported.,
sentry/src/,514,Enforce safe cascades into Group,
sentry/src/,526,Enforce safe cascades into Group,
sentry/src/,564,Don't want those,
sentry/src/,52,"This uses the standard library `warnings`, since this is provided for",
sentry/src/,53,plugin compatibility but isn't actionable by the system administrator.,
sentry/src/,69,"rb expects a dict of { host, port } dicts where the key is the host",
sentry/src/,70,ID. Coerce the configuration into the correct format if necessary.,
sentry/src/,96,see: https://github.com/Grokzen/redis-py-cluster/issues/287,
sentry/src/,104,_RedisCluster supports two configurations:,
sentry/src/,105,* Explicitly configured with is_redis_cluster. This mode is for real redis-cluster.,
sentry/src/,106,"* No is_redis_cluster, but only 1 host. This represents a singular node Redis running",
sentry/src/,107,in non-cluster mode.,
sentry/src/,111,"StrictRedisCluster expects a list of { host, port } dicts. Coerce the",
sentry/src/,112,configuration into the correct format if necessary.,
sentry/src/,114,TODO(joshuarli): modernize dict_six fixer,
sentry/src/,117,Redis cluster does not wait to attempt to connect. We'd prefer to not,
sentry/src/,118,make TCP connections on boot. Wrap the client in a lazy proxy object.,
sentry/src/,151,"TODO: This would probably be safer with a lock, but I'm not sure",
sentry/src/,152,that it's necessary.,
sentry/src/,165,TODO(epurkhiser): When migration of all rb cluster to true redis clusters has,
sentry/src/,166,"completed, remove the rb ``clusters`` module variable and rename",
sentry/src/,167,redis_clusters to clusters.,
sentry/src/,211,RedisCluster,
sentry/src/,214,RBCluster,
sentry/src/,234,Any connection issues should be caught here.,
sentry/src/,240,"NOTE: This assumes there is no routing magic going on here, and",
sentry/src/,241,all requests to this host are being served by the same database.,
sentry/src/,253,This changes the argument order of the ``Script.__call__`` method to,
sentry/src/,254,"encourage using the script with a specific Redis client, rather",
sentry/src/,255,than implicitly using the first client that the script was registered,
sentry/src/,256,with. (This can prevent lots of bizarre behavior when dealing with,
sentry/src/,257,clusters of Redis servers.),
sentry/src/,25,Only create a real AuditLogEntry record if we are passing an event type,
sentry/src/,26,"otherwise, we want to still log to our actual logging",
sentry/src/,67,100ms +/- 50ms of randomized jitter,
sentry/src/,3,Make sure to not import anything here.  We want modules below,
sentry/src/,4,sentry.utils to be able to import without having to pull in django,
sentry/src/,5,or other sources that might not exist.,
sentry/src/,19,valid values for outcome,
sentry/src/,66,This simply preserves old behavior. We never counted invalid events,
sentry/src/,67,"(too large, duplicate, CORS) toward regular `received` counts.",
sentry/src/,149,Send a snuba metrics payload.,
sentry/src/,25,NOQA,
sentry/src/,78,Next cursor for a prev-cursor simply starts from that prev cursors value,
sentry/src/,79,without an offset.,
sentry/src/,83,No results means no more next,
sentry/src/,87,Are there more results than whats on the current page?,
sentry/src/,90,Determine what our next cursor is by ensuring we have a unique offset,
sentry/src/,93,"value has not changed, page forward by adjusting the offset",
sentry/src/,98,We have an absolute value to page from. If any of the items in,
sentry/src/,99,the current result set come *after* or *before* (depending on the,
sentry/src/,100,is_desc flag) we will want to increment the offset to account for,
sentry/src/,101,moving past them.,
sentry/src/,102,,
sentry/src/,103,This is required to account for loss of precision in the key value.,
sentry/src/,107,If we have more results the last item in the results should be,
sentry/src/,108,"skipped, as we know we want to start from that item and do not",
sentry/src/,109,need to offset from it.,
sentry/src/,137,It's likely that there's a previous page if they passed us either,
sentry/src/,138,offset values,
sentry/src/,141,"If the cursor contains previous results, the first item is the item that",
sentry/src/,142,"indicates if we have more items later, and is *not* the first item in the",
sentry/src/,143,"list, that should be used for the value.",
sentry/src/,146,If we're paging back we need to calculate the key from the first result,
sentry/src/,147,with for_prev=True to ensure rounding of the key is correct.See,
sentry/src/,148,sentry.api.paginator.BasePaginator.get_item_key,
sentry/src/,151,Prev only has an offset if the cursor we were dealing with was a,
sentry/src/,152,previous cursor. Otherwise we'd be taking the offset while moving forward.,
sentry/src/,158,"Value has not changed, page back by adjusting the offset",
sentry/src/,163,"Just as in the next cursor builder, we may need to add an offset",
sentry/src/,164,if any of the results at the beginning are *before* or *after*,
sentry/src/,165,(depending on the is_desc flag).,
sentry/src/,166,,
sentry/src/,167,This is required to account for loss of precision in the key value.,
sentry/src/,171,"If we know there are more previous results, we need to move past",
sentry/src/,172,the item indicating that more items exist.,
sentry/src/,176,"Always move past the first item, this is the prev_value item and will",
sentry/src/,177,already be offset in the next query.,
sentry/src/,186,Note that the checks are reversed here as a prev query has,
sentry/src/,187,it's ordering reversed.,
sentry/src/,202,Compute values for next cursor,
sentry/src/,207,Compute values for prev cursor,
sentry/src/,213,A prev cursor with more results should have the first item chopped off,
sentry/src/,214,"as this is the item that indicates we have more items before, and",
sentry/src/,215,should not be included on this page.,
sentry/src/,218,For next page cursors we cut off the extra item that indicates there,
sentry/src/,219,are more items.,
sentry/src/,45,"x = (host, version)",
sentry/src/,51,"x = (host, version)",
sentry/src/,19,extract module path,
sentry/src/,20,catch strange entries,
sentry/src/,4,Vendored from newer Django:,
sentry/src/,5,https://github.com/django/django/blob/1.9.6/django/utils/decorators.py#L188-L197,
sentry/src/,10,no-op if we're not configured to do any autoreloading,
sentry/src/,17,"We may not be running within a uwsgi context, so just ignore.",
sentry/src/,19,Register hook with uwsgi's filemon to reload ourself on change,
sentry/src/,4,TODO: remove when we drop Python 2.7 compat,
sentry/src/,5,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,11,TODO: remove when we drop Python 2.7 compat,
sentry/src/,14,NOQA,
sentry/src/,38,https://github.com/pallets/werkzeug/blob/master/werkzeug/_compat.py,
sentry/src/,3,!!! This module may not reference any external packages !!!,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,1,NOTE: This is run external to sentry as well as part of the setup,
sentry/src/,2,process.  Thus we do not want to import non stdlib things here.,
sentry/src/,18,"We cannot leverage six here, so we need to vendor",
sentry/src/,19,bits that we need.,
sentry/src/,21,NOQA,
sentry/src/,35,"XXX: ideally, we use six.text_type here, but we can't use six.",
sentry/src/,36,NOQA,
sentry/src/,12,We just need its path via __file__,
sentry/src/,57,This requires some explanation.  Basically what we want to do,
sentry/src/,58,here is to control if we want to build in-place or into the,
sentry/src/,59,build-lib folder.  Traditionally this is set by the `inplace`,
sentry/src/,60,command line flag for build_ext.  However as we are a subcommand,
sentry/src/,61,we need to grab this information from elsewhere.,
sentry/src/,62,,
sentry/src/,63,An in-place build puts the files generated into the source,
sentry/src/,64,"folder, a regular build puts the files into the build-lib",
sentry/src/,65,folder.,
sentry/src/,66,,
sentry/src/,67,The following situations we need to cover:,
sentry/src/,68,,
sentry/src/,69,command                         default in-place,
sentry/src/,70,setup.py build_js               0,
sentry/src/,71,setup.py build_ext              value of in-place for build_ext,
sentry/src/,72,setup.py build_ext --inplace    1,
sentry/src/,73,pip install --editable .        1,
sentry/src/,74,setup.py install                0,
sentry/src/,75,setup.py sdist                  0,
sentry/src/,76,setup.py bdist_wheel            0,
sentry/src/,77,,
sentry/src/,78,The way this is achieved is that build_js is invoked by two,
sentry/src/,79,subcommands: bdist_ext (which is in our case always executed,
sentry/src/,80,due to a custom distribution) or sdist.,
sentry/src/,81,,
sentry/src/,82,Note: at one point install was an in-place build but it's not,
sentry/src/,83,quite sure why.  In case a version of install breaks again:,
sentry/src/,84,installations via pip from git URLs definitely require the,
sentry/src/,85,in-place flag to be disabled.  So we might need to detect,
sentry/src/,86,that separately.,
sentry/src/,87,,
sentry/src/,88,To find the default value of the inplace flag we inspect the,
sentry/src/,89,sdist and build_ext commands.,
sentry/src/,93,If we are not decided on in-place we are inplace if either,
sentry/src/,94,build_ext is inplace or we are invoked through the install,
sentry/src/,95,command (easiest check is to see if it's finalized).,
sentry/src/,99,"If we're coming from sdist, clear the hell out of the dist",
sentry/src/,100,folder first.,
sentry/src/,108,In place means build_lib is src.  We also log this.,
sentry/src/,112,Otherwise we fetch build_lib from the build command.,
sentry/src/,169,"if we were invoked from sdist, we need to inform sdist about",
sentry/src/,170,which files we just generated.  Otherwise they will be missing,
sentry/src/,171,in the manifest.  This adds the files for what webpack generates,
sentry/src/,172,plus our own assets.json file.,
sentry/src/,177,The path down from here only works for sdist:,
sentry/src/,179,Use the underlying file list so that we skip the file-exists,
sentry/src/,180,check which we do not want here.,
sentry/src/,184,We need to split off the local parts of the files relative to,
sentry/src/,185,the current folder.  This will chop off the right path for the,
sentry/src/,186,manifest.,
sentry/src/,15,Also see sentry.utils.integrationdocs.DOC_FOLDER,
sentry/src/,124,"By setting NODE_ENV=production, a few things happen",
sentry/src/,125,* React optimizes out certain code paths,
sentry/src/,126,* Webpack will add version strings to built/referenced assets,
sentry/src/,130,TODO: Our JS builds should not require 4GB heap space,
sentry/src/,42,noqa,
sentry/src/,50,just wait on all futures returned by the async operations of the admin_client,
sentry/src/,52,wait up to 5 seconds for the admin operation to finish,
sentry/src/,139,stop the consumer,
sentry/src/,142,noqa:,
sentry/src/,165,reuse whatever was already created (will ignore the settings),
sentry/src/,167,"first time the consumer is requested, create it using settings",
sentry/src/,172,simulate the event ingestion task,
sentry/src/,226,noqa,
sentry/src/,227,check if the condition is satisfied,
sentry/src/,230,we got what we were waiting for stop looping,
sentry/src/,235,timout without any success,
sentry/src/,19,set a class attribute on the invoking test context,
sentry/src/,16,HACK: Only needed for testing!,
sentry/src/,21,override docs which are typically synchronized from an upstream server,
sentry/src/,22,to ensure tests are consistent,
sentry/src/,31,only configure the db if its not already done,
sentry/src/,42,postgres requires running full migration all the time,
sentry/src/,43,since it has to install stored functions which come from,
sentry/src/,44,an actual migration.,
sentry/src/,48,Disable static compiling in tests,
sentry/src/,51,override a few things with our test specifics,
sentry/src/,53,Need a predictable key for tests that involve checking signatures,
sentry/src/,60,"This speeds up the tests considerably, pbkdf2 is by design, slow.",
sentry/src/,65,Replace real sudo middleware with our mock sudo middleware,
sentry/src/,66,to assert that the user is always in sudo mode,
sentry/src/,74,enable draft features,
sentry/src/,126,django mail uses socket.getfqdn which doesn't play nice if our,
sentry/src/,127,networking isn't stable,
sentry/src/,132,"Migrations for the ""sentry"" app take a long time to run, which makes test startup time slow in dev.",
sentry/src/,133,This is a hack to force django to sync the database state from the models rather than use migrations.,
sentry/src/,168,force celery registration,
sentry/src/,169,NOQA,
sentry/src/,171,disable DISALLOWED_IPS,
sentry/src/,230,TODO(dcramer): this only works if this is the correct tsdb backend,
sentry/src/,233,XXX(dcramer): only works with DummyNewsletter,
sentry/src/,3,"TODO(dcramer): this heavily inspired by pytest-selenium, and it's possible",
sentry/src/,4,we could simply inherit from the plugin at this point,
sentry/src/,23,"if we're not running in a PR, we kill the PERCY_TOKEN because its a push",
sentry/src/,24,"to a branch, and we dont want percy comparing things",
sentry/src/,25,we do need to ensure its run on master so that changes get updated,
sentry/src/,204,TODO(dcramer): ideally this would take the executing test package,
sentry/src/,205,into account for duplicate names,
sentry/src/,231,Recent changes to Chrome no longer allow us to explicitly set a cookie domain,
sentry/src/,232,"to be localhost. If no domain is specified, the cookie will be created on",
sentry/src/,233,the host of the current url that the browser has visited.,
sentry/src/,247,XXX(dcramer): the cookie store must be initialized via a URL,
sentry/src/,252,XXX(dcramer): PhantomJS does not let us add cookies with the native,
sentry/src/,253,selenium API because....,
sentry/src/,254,http://stackoverflow.com/questions/37103621/adding-cookies-working-with-firefox-webdriver-but-not-in-phantomjs,
sentry/src/,256,"TODO(dcramer): this should be escaped, but idgaf",
sentry/src/,265,XXX(dcramer): chromedriver (of certain versions) is complaining about this being,
sentry/src/,266,an invalid kwarg,
sentry/src/,293,xdist slave,
sentry/src/,306,Initialize Percy.,
sentry/src/,359,"dump console log to stdout, will be shown when test fails",
sentry/src/,364,Teardown Selenium.,
sentry/src/,379,bind webdriver to percy for snapshots,
sentry/src/,388,add environment details to the pytest-html plugin,
sentry/src/,417,add url to the html report,
sentry/src/,430,add screenshot to the html report,
sentry/src/,442,add page source to the html report,
sentry/src/,450,note that some drivers may not implement log types,
sentry/src/,1,Fixutres used to interact with a test Relay server,
sentry/src/,31,container not found,
sentry/src/,36,maybe the container is already stopped,
sentry/src/,40,could not remove the container nothing to do about it,
sentry/src/,71,NOTE: if we ever need to start the test relay server at various ports here's where we need to change,
sentry/src/,93,we have a config path for relay that is set up with the current live serve as upstream,
sentry/src/,94,check if we have the test relay docker container,
sentry/src/,108,Some structure similar to what the live_server fixture returns,
sentry/src/,113,cleanup,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,23,These chars cannot be used in Windows paths so replace them:,
sentry/src/,24,https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file#naming-conventions,
sentry/src/,143,XXX(dcramer): hack to prevent recursive imports,
sentry/src/,170,XXX(dcramer): ensure that your org slug doesnt match your team slug,
sentry/src/,171,and the same for your project slug,
sentry/src/,181,XXX: handle legacy team fixture,
sentry/src/,23,"This is a bit of an abstraction leak, but if an integer is provided",
sentry/src/,24,we use that value to determine placement rather than the cluster,
sentry/src/,25,router. This leaking allows us us to have more fine-grained control,
sentry/src/,26,when data is already placed within partitions where the router,
sentry/src/,27,"wouldn't have placed it based on the key hash, and maintain data",
sentry/src/,28,"locality and failure isolation within those partitions. (For example,",
sentry/src/,29,the entirety of a digest is bound to a specific partition by the,
sentry/src/,30,"*digest* key, even though a digest is composed of multiple values at",
sentry/src/,31,different keys that would otherwise be placed on different,
sentry/src/,32,partitions.),
sentry/src/,3,NOQA,
sentry/src/,44,"This reads a little strange, but remember that records are returned in",
sentry/src/,45,"reverse chronological order, and we query the database in chronological",
sentry/src/,46,order.,
sentry/src/,47,NOTE: This doesn't account for any issues that are filtered out later.,
sentry/src/,132,Reattach the group to the event.,
sentry/src/,164,"x = (group, records)",
sentry/src/,176,"x = (rule, groups)",
sentry/src/,188,XXX: This is a hack to allow generating a mock digest without actually,
sentry/src/,189,doing any real IO!,
sentry/src/,10,TODO(tkaemming): This should probably just be part of `build_digest`.,
sentry/src/,34,TODO(LB): I Know this is inefficient.,
sentry/src/,35,"In the case that ProjectOwnership does exist, I do the same query twice.",
sentry/src/,36,Once with this statement and again with the call to ProjectOwnership.get_actors(),
sentry/src/,37,Will follow up with another PR to reduce the number of queries.,
sentry/src/,86,TODO(LB): I Know this is inefficient.,
sentry/src/,87,ProjectOwnership.get_owners is O(n) queries and I'm doing that O(len(events)) times,
sentry/src/,88,I will create a follow-up PR to address this method's efficiency problem,
sentry/src/,89,Just wanted to make as few changes as possible for now.,
sentry/src/,9,NOQA,
sentry/src/,10,NOQA,
sentry/src/,61,The ``minimum_delay`` option defines the default minimum amount of,
sentry/src/,62,time (in seconds) to wait between scheduling digests for delivery,
sentry/src/,63,after the initial scheduling.,
sentry/src/,66,The ``maximum_delay`` option defines the default maximum amount of,
sentry/src/,67,time (in seconds) to wait between scheduling digests for delivery.,
sentry/src/,70,The ``increment_delay`` option defines how long each observation of,
sentry/src/,71,an event should delay scheduling (up until the ``maximum_delay``,
sentry/src/,72,after the last time a digest was processed.),
sentry/src/,75,The ``codec`` option provides the strategy for encoding and decoding,
sentry/src/,76,records in the timeline.,
sentry/src/,79,The ``capacity`` option defines the maximum number of items that,
sentry/src/,80,should be contained within a timeline. (Whether this is a hard or,
sentry/src/,81,soft limit is backend dependent -- see the ``truncation_chance`` option.),
sentry/src/,86,The ``truncation_chance`` option defines the probability that an,
sentry/src/,87,``add`` operation will trigger a truncation of the timeline to keep,
sentry/src/,88,it's size close to the defined capacity. A value of 1 will cause the,
sentry/src/,89,timeline to be truncated on every ``add`` operation (effectively,
sentry/src/,90,"making it a hard limit), while a lower probability will increase the",
sentry/src/,91,"chance of the timeline growing past it's intended capacity, but",
sentry/src/,92,increases the performance of ``add`` operations (by avoiding,
sentry/src/,93,"truncation, which is a potentially expensive operation, especially on",
sentry/src/,94,large data sets.),
sentry/src/,21,make this a generator,
sentry/src/,79,"Sets the time-to-live (in seconds) for records, timelines, and",
sentry/src/,80,"digests. This can (and should) be a relatively high value, since",
sentry/src/,81,"timelines, digests, and records should all be deleted after they have",
sentry/src/,82,been processed -- this is mainly to ensure stale data doesn't hang,
sentry/src/,83,around too long in the case of a configuration error. This should be,
sentry/src/,84,larger than the maximum scheduling delay to ensure data is not evicted,
sentry/src/,85,too early.,
sentry/src/,111,"Redis returns ""true"" and ""false"" as ""1"" and ""None"", so we just cast",
sentry/src/,112,them back to the appropriate boolean here.,
sentry/src/,125,TODO: check type,
sentry/src/,219,"If the record value is `None`, this means the record data was",
sentry/src/,220,missing (it was presumably evicted by Redis) so we don't need to,
sentry/src/,221,return it here.,
sentry/src/,18,Used for issues that may render the system inoperable or have effects on,
sentry/src/,19,data integrity (e.g. issues in the processing pipeline.),
sentry/src/,22,Used for issues that may cause the system to operate in a degraded (but,
sentry/src/,23,"still operational) state, as well as configuration options that are set",
sentry/src/,24,in unexpected ways or deprecated in future versions.,
sentry/src/,27,"Mapping of severity level to a priority score, where the greater the",
sentry/src/,28,"score, the more critical the issue. (The numeric values should only be",
sentry/src/,29,"used for comparison purposes, and are subject to change as levels are",
sentry/src/,30,modified.),
sentry/src/,15,"There is no queue, and celery is not running, so never show error",
sentry/src/,13,"There is no queue, and celery is not running, so never show error",
sentry/src/,7,NOQA,
sentry/src/,92,NOTE: Use `quotas.base._limit_from_settings` to map from settings,
sentry/src/,146,delta of seconds in the future to retry,
sentry/src/,148,human readable description,
sentry/src/,150,machine readable description,
sentry/src/,305,XXX(epurkhiser): Avoid excessive feature manager checks (which can be,
sentry/src/,306,expensive depending on feature handlers) for project rate limits.,
sentry/src/,307,This happens on /store.,
sentry/src/,353,"If there is only a single org, this one org should",
sentry/src/,354,be allowed to consume the entire quota.,
sentry/src/,358,"an account limit is enforced, which is set as a fixed value and cannot",
sentry/src/,359,utilize percentage based limits,
sentry/src/,23,: The ``grace`` period allows accommodating for clock drift in TTL,
sentry/src/,24,: calculation since the clock on the Redis instance used to store quota,
sentry/src/,25,: metrics may not be in sync with the computer running this code.,
sentry/src/,33,"Based on the `is_redis_cluster` flag, self.cluster is set two one of",
sentry/src/,34,the following two objects:,
sentry/src/,35,- false: `cluster` is a `RBCluster`. Call `get_local_client_for_key`,
sentry/src/,36,on the cluster to resolve a client to run a script or query a key.,
sentry/src/,37,- true: `cluster` is a `RedisCluster`. It automatically dispatches to,
sentry/src/,38,the correct node and can be used as a client directly.,
sentry/src/,55,new style redis cluster format which always has the organization id in,
sentry/src/,58,legacy key format,
sentry/src/,178,"kind of arbitrary, but seems like we don't want this to expire til we're",
sentry/src/,179,sure the window is over?,
sentry/src/,194,XXX: This is effectively deprecated and scheduled for removal. Event,
sentry/src/,195,ingestion quotas are now enforced in Relay. This function will be,
sentry/src/,196,deleted once the Python store endpoints are removed.,
sentry/src/,201,Relay supports separate rate limiting per data category and and can,
sentry/src/,202,handle scopes explicitly. This function implements a simplified logic,
sentry/src/,203,that treats all events the same and ignores transaction rate limits.,
sentry/src/,204,"Thus, we filter for (1) no categories, which implies this quota",
sentry/src/,205,"affects all data, and (2) quotas that specify `error` events.",
sentry/src/,212,"If there are no quotas to actually check, skip the trip to the database.",
sentry/src/,220,A zero-sized quota is the absolute worst-case. Do not call,
sentry/src/,221,"into Redis at all, and do not increment any keys, as one",
sentry/src/,222,quota has reached capacity (this is how regular quotas behave,
sentry/src/,223,as well).,
sentry/src/,236,limit=None is represented as limit=-1 in lua,
sentry/src/,7,NOQA,
sentry/src/,15,TODO(dcramer): it'd be nice if the initialize call wasn't a global,
sentry/src/,28,TypeError: 'NoneType' object is not callable,
sentry/src/,12,TODO(dcramer): it'd be nice if the initialize call wasn't a global,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-14 02:12,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-06 00:49,
sentry/src/,23,MEMBER_ACCEPT,
sentry/src/,26,We have a team in here rather than just the expected data,
sentry/src/,35,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,36,production. We set this to True for operations that we think are risky and want,
sentry/src/,37,someone from ops to run manually and monitor.,
sentry/src/,38,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,39,Some things you should always mark as dangerous:,
sentry/src/,40,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,41,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,42,this is even more important.,
sentry/src/,43,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,46,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,47,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,48,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,49,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2019-12-02 17:16,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,15,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,16,1.10. So until then these should be run manually.,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-04-08 01:07,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,15,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,16,1.10. So until then these should be run manually.,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,XXX: This is a gross hack. We missed removing this column a long time ago while,
sentry/src/,9,upgrading Django. Since different databases might be in different states depending,
sentry/src/,10,"on which path they take to get to Django migrations, it's safest to just check",
sentry/src/,11,"if the column exists for everyone, and remove it if so. This removal is safe,",
sentry/src/,12,since the column has been long removed from the Django model.,
sentry/src/,29,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,30,production. We set this to True for operations that we think are risky and want,
sentry/src/,31,someone from ops to run manually and monitor.,
sentry/src/,32,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,33,Some things you should always mark as dangerous:,
sentry/src/,34,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,35,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,36,1.10. So until then these should be run manually.,
sentry/src/,37,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,38,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,39,this is even more important.,
sentry/src/,40,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-05 22:26,
sentry/src/,30,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,31,production. We set this to True for operations that we think are risky and want,
sentry/src/,32,someone from ops to run manually and monitor.,
sentry/src/,33,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,34,Some things you should always mark as dangerous:,
sentry/src/,35,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,36,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,37,this is even more important.,
sentry/src/,38,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,41,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,42,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,43,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,44,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.10.8 on 2020-01-21 19:40,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,15,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,16,1.10. So until then these should be run manually.,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2019-12-04 19:46,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,15,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,16,1.10. So until then these should be run manually.,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,11,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,12,production. We set this to True for operations that we think are risky and want,
sentry/src/,13,someone from ops to run manually and monitor.,
sentry/src/,14,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,15,Some things you should always mark as dangerous:,
sentry/src/,16,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,17,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,18,1.10. So until then these should be run manually.,
sentry/src/,19,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,20,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,21,this is even more important.,
sentry/src/,22,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-11 21:30,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,21,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,22,production. We set this to True for operations that we think are risky and want,
sentry/src/,23,someone from ops to run manually and monitor.,
sentry/src/,24,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,25,Some things you should always mark as dangerous:,
sentry/src/,26,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,27,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,28,1.10. So until then these should be run manually.,
sentry/src/,29,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,30,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,31,this is even more important.,
sentry/src/,32,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,35,"We are running many updates, so we don't want to be in a transaction.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Hand,
sentry/src/,7,SearchVisitor.numeric_keys + SearchVisitor.date_keys,
sentry/src/,41,Aggregates are now fields,
sentry/src/,60,nothing to do! Already v2 :),
sentry/src/,67,Will become a string later via join,
sentry/src/,86,Order by,
sentry/src/,104,Conditions become a query now,
sentry/src/,127,Create the version 2 query,
sentry/src/,135,Set project_ids,
sentry/src/,140,This is DiscoverSavedQueryProject.set_projects,
sentry/src/,182,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,183,production. We set this to True for operations that we think are risky and want,
sentry/src/,184,someone from ops to run manually and monitor.,
sentry/src/,185,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,186,Some things you should always mark as dangerous:,
sentry/src/,187,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,188,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,189,1.10. So until then these should be run manually.,
sentry/src/,190,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,191,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,192,this is even more important.,
sentry/src/,193,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-10 21:37,
sentry/src/,11,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,12,production. We set this to True for operations that we think are risky and want,
sentry/src/,13,someone from ops to run manually and monitor.,
sentry/src/,14,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,15,Some things you should always mark as dangerous:,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,22,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,23,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,24,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,25,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-10 23:11,
sentry/src/,18,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,19,production. We set this to True for operations that we think are risky and want,
sentry/src/,20,someone from ops to run manually and monitor.,
sentry/src/,21,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,22,Some things you should always mark as dangerous:,
sentry/src/,23,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,24,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,25,this is even more important.,
sentry/src/,26,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,29,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,30,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,31,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,32,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-02 19:55,
sentry/src/,12,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,13,production. We set this to True for operations that we think are risky and want,
sentry/src/,14,someone from ops to run manually and monitor.,
sentry/src/,15,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,16,Some things you should always mark as dangerous:,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,23,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,24,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,25,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,26,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-20 02:02,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2019-12-03 18:03,
sentry/src/,11,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,12,production. We set this to True for operations that we think are risky and want,
sentry/src/,13,someone from ops to run manually and monitor.,
sentry/src/,14,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,15,Some things you should always mark as dangerous:,
sentry/src/,16,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,17,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,18,1.10. So until then these should be run manually.,
sentry/src/,19,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,20,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,21,this is even more important.,
sentry/src/,22,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-18 19:03,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,17,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,18,production. We set this to True for operations that we think are risky and want,
sentry/src/,19,someone from ops to run manually and monitor.,
sentry/src/,20,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,21,Some things you should always mark as dangerous:,
sentry/src/,22,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,23,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,24,1.10. So until then these should be run manually.,
sentry/src/,25,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,26,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,27,this is even more important.,
sentry/src/,28,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,512,migrations.AlterUniqueTogether(,
sentry/src/,513,"name='projectcficachefile',",
sentry/src/,514,"unique_together=set([]),",
sentry/src/,515,"),",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-12 21:02,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,28,NOTE: This migration previously was making changes that were only,
sentry/src/,29,applicable to the sentry.io SAAS project. We've changed this migration to,
sentry/src/,30,"be a no-op before it had been run, and will be moving the migration to",
sentry/src/,31,getsentry.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2019-11-25 14:20,
sentry/src/,26,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,27,production. We set this to True for operations that we think are risky and want,
sentry/src/,28,someone from ops to run manually and monitor.,
sentry/src/,29,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,30,Some things you should always mark as dangerous:,
sentry/src/,31,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,32,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,33,1.10. So until then these should be run manually.,
sentry/src/,34,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,35,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,36,this is even more important.,
sentry/src/,37,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-03 22:32,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-01-27 17:11,
sentry/src/,12,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,13,production. We set this to True for operations that we think are risky and want,
sentry/src/,14,someone from ops to run manually and monitor.,
sentry/src/,15,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,16,Some things you should always mark as dangerous:,
sentry/src/,17,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,18,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,19,1.10. So until then these should be run manually.,
sentry/src/,20,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,21,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,22,this is even more important.,
sentry/src/,23,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,3515,XXX(dcramer): these are manually generated and ported from South,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-14 16:07,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-27 03:34,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-04-01 01:34,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-03 22:58,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-04 02:54,
sentry/src/,13,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,14,production. We set this to True for operations that we think are risky and want,
sentry/src/,15,someone from ops to run manually and monitor.,
sentry/src/,16,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,17,Some things you should always mark as dangerous:,
sentry/src/,18,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,19,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,20,this is even more important.,
sentry/src/,21,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,24,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,25,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,26,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,27,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-13 20:05,
sentry/src/,13,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,14,production. We set this to True for operations that we think are risky and want,
sentry/src/,15,someone from ops to run manually and monitor.,
sentry/src/,16,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,17,Some things you should always mark as dangerous:,
sentry/src/,18,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,19,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,20,this is even more important.,
sentry/src/,21,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,24,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,25,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,26,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,27,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-13 01:06,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2019-12-30 20:52,
sentry/src/,30,Kill switch to skip this migration,
sentry/src/,33,Use 90 day retention if the option has not been set or set to 0,
sentry/src/,110,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,111,production. We set this to True for operations that we think are risky and want,
sentry/src/,112,someone from ops to run manually and monitor.,
sentry/src/,113,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,114,Some things you should always mark as dangerous:,
sentry/src/,115,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,116,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,117,1.10. So until then these should be run manually.,
sentry/src/,118,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,119,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,120,this is even more important.,
sentry/src/,121,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-06 21:02,
sentry/src/,30,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,31,production. We set this to True for operations that we think are risky and want,
sentry/src/,32,someone from ops to run manually and monitor.,
sentry/src/,33,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,34,Some things you should always mark as dangerous:,
sentry/src/,35,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,36,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,37,this is even more important.,
sentry/src/,38,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,41,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,42,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,43,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,44,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-27 21:40,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-03-30 21:35,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-17 00:30,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-24 23:19,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,8,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,9,production. We set this to True for operations that we think are risky and want,
sentry/src/,10,someone from ops to run manually and monitor.,
sentry/src/,11,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,12,Some things you should always mark as dangerous:,
sentry/src/,13,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,14,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,15,1.10. So until then these should be run manually.,
sentry/src/,16,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,17,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,18,this is even more important.,
sentry/src/,19,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-04-09 22:30,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,20,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,21,production. We set this to True for operations that we think are risky and want,
sentry/src/,22,someone from ops to run manually and monitor.,
sentry/src/,23,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,24,Some things you should always mark as dangerous:,
sentry/src/,25,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,26,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,27,1.10. So until then these should be run manually.,
sentry/src/,28,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,29,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,30,this is even more important.,
sentry/src/,31,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.9.13 on 2020-01-08 06:35,
sentry/src/,12,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,13,production. We set this to True for operations that we think are risky and want,
sentry/src/,14,someone from ops to run manually and monitor.,
sentry/src/,15,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,16,Some things you should always mark as dangerous:,
sentry/src/,17,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,18,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,19,1.10. So until then these should be run manually.,
sentry/src/,20,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,21,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,22,this is even more important.,
sentry/src/,23,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,40,BEGIN;,
sentry/src/,41,--,
sentry/src/,42,-- Add field requester to organizationaccessrequest,
sentry/src/,43,--,
sentry/src/,44,"ALTER TABLE ""sentry_organizationaccessrequest"" ADD COLUMN ""requester_id"" integer NULL;",
sentry/src/,45,"ALTER TABLE ""sentry_organizationaccessrequest"" ALTER COLUMN ""requester_id"" DROP DEFAULT;",
sentry/src/,46,"CREATE INDEX ""sentry_organizationaccessrequest_573f8683"" ON ""sentry_organizationaccessrequest"" (""requester_id"");",
sentry/src/,47,"ALTER TABLE ""sentry_organizationaccessrequest"" ADD CONSTRAINT ""sentry_organizationaccess_requester_id_73de4b1e_fk_auth_user_id"" FOREIGN KEY (""requester_id"") REFERENCES ""auth_user"" (""id"") DEFERRABLE INITIALLY DEFERRED;",
sentry/src/,49,COMMIT;,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-21 17:35,
sentry/src/,12,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,13,production. We set this to True for operations that we think are risky and want,
sentry/src/,14,someone from ops to run manually and monitor.,
sentry/src/,15,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,16,Some things you should always mark as dangerous:,
sentry/src/,17,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,18,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,19,this is even more important.,
sentry/src/,20,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,23,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,24,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,25,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,26,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-19 00:18,
sentry/src/,9,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,10,production. We set this to True for operations that we think are risky and want,
sentry/src/,11,someone from ops to run manually and monitor.,
sentry/src/,12,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,13,Some things you should always mark as dangerous:,
sentry/src/,14,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,15,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,16,this is even more important.,
sentry/src/,17,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,20,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,21,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,22,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,23,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-06 23:46,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-13 19:04,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-02-13 01:40,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.28 on 2020-03-11 15:29,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-01-24 19:19,
sentry/src/,15,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,16,production. We set this to True for operations that we think are risky and want,
sentry/src/,17,someone from ops to run manually and monitor.,
sentry/src/,18,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,19,Some things you should always mark as dangerous:,
sentry/src/,20,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,21,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,22,1.10. So until then these should be run manually.,
sentry/src/,23,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,24,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,25,this is even more important.,
sentry/src/,26,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-01-23 19:07,
sentry/src/,44,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,45,production. We set this to True for operations that we think are risky and want,
sentry/src/,46,someone from ops to run manually and monitor.,
sentry/src/,47,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,48,Some things you should always mark as dangerous:,
sentry/src/,49,"- Adding indexes to large tables. These indexes should be created concurrently,",
sentry/src/,50,unfortunately we can't run migrations outside of a transaction until Django,
sentry/src/,51,1.10. So until then these should be run manually.,
sentry/src/,52,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,53,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,54,this is even more important.,
sentry/src/,55,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,2,Generated by Django 1.11.27 on 2020-02-01 00:39,
sentry/src/,10,This flag is used to mark that a migration shouldn't be automatically run in,
sentry/src/,11,production. We set this to True for operations that we think are risky and want,
sentry/src/,12,someone from ops to run manually and monitor.,
sentry/src/,13,"General advice is that if in doubt, mark your migration as `is_dangerous`.",
sentry/src/,14,Some things you should always mark as dangerous:,
sentry/src/,15,- Large data migrations. Typically we want these to be run manually by ops so that,
sentry/src/,16,they can be monitored. Since data migrations will now hold a transaction open,
sentry/src/,17,this is even more important.,
sentry/src/,18,"- Adding columns to highly active tables, even ones that are NULL.",
sentry/src/,21,This flag is used to decide whether to run this migration in a transaction or not.,
sentry/src/,22,"By default we prefer to run in a transaction, but for migrations where you want",
sentry/src/,23,to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll,
sentry/src/,24,want to create an index concurrently when adding one to an existing table.,
sentry/src/,10,NOQA,
sentry/src/,16,Try to pull version from pkg_resource first,
sentry/src/,17,as it is able to detect version tagged with egg_info -b,
sentry/src/,19,pull version from pkg_resources if distro exists,
sentry/src/,55,ignore items that look like submodules,
sentry/src/,33,fail silently if not active for thread,
sentry/src/,30,NOQA,
sentry/src/,11,NOQA,
sentry/src/,153,"this may not be common, but at the very least Google will return",
sentry/src/,154,an invalid grant when a user is suspended,
sentry/src/,274,TODO: this needs the auth yet,
sentry/src/,332,"we can either expect the API to be implicit and say ""im looking for",
sentry/src/,333,"blah within state data"" or we need to pass implementation + call a",
sentry/src/,334,hook here,
sentry/src/,13,The unique identifier of the provider,
sentry/src/,16,A human readable name for this provider,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,9,NOQA,
sentry/src/,10,NOQA,
sentry/src/,11,NOQA,
sentry/src/,12,NOQA,
sentry/src/,13,NOQA,
sentry/src/,14,NOQA,
sentry/src/,23,"TODO(epurkhiser): Should this be moved into it's own plugin, it should be",
sentry/src/,24,initialized there.,
sentry/src/,25,NOQA,
sentry/src/,26,NOQA,
sentry/src/,27,NOQA,
sentry/src/,28,NOQA,
sentry/src/,29,NOQA,
sentry/src/,30,NOQA,
sentry/src/,31,NOQA,
sentry/src/,32,NOQA,
sentry/src/,32,"TODO(adhiraj): Remove provider_id from the callback URL, it's unused.",
sentry/src/,37,Use configured redirect_url if specified for the pipeline if available,
sentry/src/,68,TODO(epurkhiser): When we have more identities and have built out an,
sentry/src/,69,identity management page that supports these new identities (not,
sentry/src/,70,"social-auth ones), redirect to the identities page.",
sentry/src/,39,dont allow unregistering of arbitrary provider,
sentry/src/,42,we gracefully handle a missing provider,
sentry/src/,13,This identity provider is used for authorizing the Slack application,
sentry/src/,14,through their Bot token (or legacy Workspace Token if enabled) flow.,
sentry/src/,19,XXX(epurkhiser): While workspace tokens _do_ support the oauth.access,
sentry/src/,20,"endpoint, it will no include the authorizing_user, so we continue to use",
sentry/src/,21,the deprecated oauth.token endpoint until we are able to migrate to a bot,
sentry/src/,22,app which uses oauth.access.,
sentry/src/,37,TODO(epurkhiser): This flow isn't actually used right now in sentry.,
sentry/src/,38,In slack-bot world we would need to make an API call to the 'me',
sentry/src/,39,endpoint to get their user ID here.,
sentry/src/,47,TODO(epurkhiser): See note above,
sentry/src/,23,GitHub has 2 types of apps -- GitHub apps and OAuth apps. SSO is implemented,
sentry/src/,24,"using OAuth App, but signup and integrations use the github app. When github",
sentry/src/,25,"apps have API parity with OAuth apps, we should move SSO to it as well.",
sentry/src/,26,https://developer.github.com/apps/differences-between-apps/,
sentry/src/,56,GitHub apps do not have user scopes,
sentry/src/,19,https://docs.gitlab.com/ee/api/oauth2.html#2-requesting-access-token,
sentry/src/,20,"doesn't seem to be correct, format we actually get:",
sentry/src/,21,{,
sentry/src/,22,"""access_token"": ""123432sfh29uhs29347"",",
sentry/src/,23,"""token_type"": ""bearer"",",
sentry/src/,24,"""refresh_token"": ""29f43sdfsk22fsj929"",",
sentry/src/,25,"""created_at"": 1536798907,",
sentry/src/,26,"""scope"": ""api""",
sentry/src/,27,},
sentry/src/,24,NOTE (from Microsoft PM):,
sentry/src/,25,"The ""descriptor"" is the universal identifier for a given user and is consistent across",
sentry/src/,26,"all VSTS accounts (organizations). The ""id"" field for the same user can be different for",
sentry/src/,27,"the same user in different places, so the ""descriptor"" is the best identifier for a user.",
sentry/src/,28,This is returned in most/all of the VSTS REST APIs at this point (except for the,
sentry/src/,29,"profiles/me API above). To get the current user's descriptor, we call the ""connection data""",
sentry/src/,30,REST API (this assumes we are authenticating with an access token issued to the user).,
sentry/src/,31,"We will also see descriptors returned for every user in the ""Get users"" (Graph) REST API.",
sentry/src/,31,"todo(meredith): this doesn't work yet, need to pass in the base url",
sentry/src/,38,GitHub apps do not have user scopes,
sentry/src/,12,"When no hosted domain is in use for the authenticated user, we default to the",
sentry/src/,13,gmail domain. It doesn't necessarily mean the users account is a gmail,
sentry/src/,14,"account (you can register a google account with any email), but it is not a",
sentry/src/,15,"gsuite account, which we want to differentiate on.",
sentry/src/,52,XXX(epurkhiser): This is carryover from the AuthProvider version of,
sentry/src/,53,google identity. Because we will have code that handles interop,
sentry/src/,54,"between newstyle generic Identity, and oldstyle AuthProviders, we",
sentry/src/,55,have to keep the MigratingIdentityId here.,
sentry/src/,15,No locale for static media,
sentry/src/,16,"This avoids touching user session, which means we avoid",
sentry/src/,17,setting `Vary: Cookie` as a response header which will,
sentry/src/,18,break HTTP caching entirely.,
sentry/src/,26,user is explicitly forcing language,
sentry/src/,51,"If static bound, we don't want to run the normal process_response since this",
sentry/src/,52,adds an extra `Vary: Accept-Language`. Static files don't need this and is,
sentry/src/,53,less effective for caching.,
sentry/src/,58,catch ourselves in case __skip_caching never got set.,
sentry/src/,59,It's possible that process_request never ran.,
sentry/src/,10,NOTE: there is no `response.setdefault()`,
sentry/src/,1,Orignal version taken from http://www.djangosnippets.org/snippets/186/,
sentry/src/,2,Original author: udfalkso,
sentry/src/,3,Modified by: Shwagroo Team and Gun.io,
sentry/src/,22,extract module path,
sentry/src/,23,catch strange entries,
sentry/src/,8,Users without a password are assumed to always have sudo powers,
sentry/src/,117,"IPv6 address with brackets, possibly with a port number",
sentry/src/,120,IPv4 address with port number,
sentry/src/,121,the last condition excludes IPv4-mapped IPv6 addresses,
sentry/src/,131,HTTP_X_FORWARDED_FOR can be a comma-separated list of IPs.,
sentry/src/,132,Take just the first one.,
sentry/src/,144,If we are dealing with chunked data and we have uwsgi we assume,
sentry/src/,145,that we can read to the end of the input stream so we can bypass,
sentry/src/,146,the default limited stream.  We set the content length reasonably,
sentry/src/,147,high so that the reads generally succeed.  This is ugly but with,
sentry/src/,148,Django 1.6 it seems to be the best we can easily do.,
sentry/src/,154,0xffffffff,
sentry/src/,171,"Since we don't know the original content length ahead of time, we",
sentry/src/,172,need to set the content length reasonably high so read generally,
sentry/src/,173,succeeds. This seems to be the only easy way for Django 1.6.,
sentry/src/,174,0xffffffff,
sentry/src/,176,"The original content encoding is no longer valid, so we have to",
sentry/src/,177,"remove the header. Otherwise, LazyData will attempt to re-decode",
sentry/src/,178,the body.,
sentry/src/,15,"If the user bound to this request matches a real user,",
sentry/src/,16,we need to validate the session's nonce. This nonce is,
sentry/src/,17,to make sure that the session is valid for effectively the,
sentry/src/,18,"current ""version"" of the user. When security related",
sentry/src/,19,"actions take place, this nonce will rotate causing a",
sentry/src/,20,mismatch here forcing the session to be logged out and,
sentry/src/,21,requiring re-validation.,
sentry/src/,23,We only need to check the nonce if there is a nonce,
sentry/src/,24,"currently set on the User. By default, the value will",
sentry/src/,25,"be None until the first action has been taken, at",
sentry/src/,26,"which point, a nonce will always be required.",
sentry/src/,28,"If the nonces don't match, this session is anonymous.",
sentry/src/,44,If there is a valid signature on the request we override the,
sentry/src/,45,user with the user contained within the signature.,
sentry/src/,10,bind request to env,
sentry/src/,12,"Our health check can't be a done as a view, because we need",
sentry/src/,13,to bypass the ALLOWED_HOSTS check. We need to do this,
sentry/src/,14,since not all load balancers can send the expected Host header,
sentry/src/,15,"which would cause a 400 BAD REQUEST, marking the node dead.",
sentry/src/,16,"Instead, we just intercept the request at this point, and return",
sentry/src/,17,our success/failure immediately.,
sentry/src/,34,Store endpoints,
sentry/src/,10,"This avoids touching user session, which means we avoid",
sentry/src/,11,setting `Vary: Cookie` as a response header which will,
sentry/src/,12,break HTTP caching entirely.,
sentry/src/,16,XXX(dcramer): support legacy is_superuser calls for unauthenticated requests,
sentry/src/,19,We really only want stable releases,
sentry/src/,31,is the email address verified?,
sentry/src/,35,are they subscribed to ``list_id``,
sentry/src/,7,NOQA,
sentry/src/,25,This is slightly inaccurate since things could be queued between calling,
sentry/src/,26,"LLEN and DEL, but it's close enough for this use case.",
sentry/src/,49,"In AMQP, the way to do this is to attempt to create a queue passively.",
sentry/src/,50,"which is basically checking for it's existence (passive=True), this also",
sentry/src/,51,returns back the queue size.,
sentry/src/,26,These are values that come default from logging.LogRecord.,
sentry/src/,27,They are defined here:,
sentry/src/,28,https://github.com/python/cpython/blob/2.7/Lib/logging/__init__.py#L237-L310,
sentry/src/,75,If anyone wants to use the 'extra' kwarg to provide context within,
sentry/src/,76,"structlog, we have to strip all of the default attributes from",
sentry/src/,77,a record because the RootLogger will take the 'extra' dictionary,
sentry/src/,78,and just turn them into attributes.,
sentry/src/,88,record.args inside of LogRecord.__init__ gets unrolled,
sentry/src/,89,"if it's the shape `({},)`, a single item dictionary.",
sentry/src/,90,"so we need to check for this, and re-wrap it because",
sentry/src/,91,"down the line of structlog, it's expected to be this",
sentry/src/,92,original shape.,
sentry/src/,8,whether or not integration has the ability to search through Repositories,
sentry/src/,9,dynamically given a search query,
sentry/src/,17,see,
sentry/src/,18,https://developer.atlassian.com/static/connect/docs/latest/concepts/understanding-jwt.html#qsh,
sentry/src/,26,don't include jwt query param,
sentry/src/,39,https://developer.atlassian.com/static/connect/docs/latest/concepts/authentication.html,
sentry/src/,40,Extract the JWT token from the request's jwt query,
sentry/src/,41,parameter or the authorization header.,
sentry/src/,44,"Decode the JWT token, without verification. This gives",
sentry/src/,45,"you a header JSON object, a claims JSON object, and a signature.",
sentry/src/,47,"Extract the issuer ('iss') claim from the decoded, unverified",
sentry/src/,48,claims object. This is the clientKey for the tenant - an identifier,
sentry/src/,49,for the Atlassian application making the call,
sentry/src/,51,"Look up the sharedSecret for the clientKey, as stored",
sentry/src/,52,by the add-on during the installation handshake,
sentry/src/,57,Verify the signature with the sharedSecret and,
sentry/src/,58,the algorithm specified in the header's alg field.,
sentry/src/,60,"If it's BitBucket, we only need the token + shared secret",
sentry/src/,61,it will fail on this: https://github.com/jpadilla/pyjwt/blob/d25c92ca5e9980ca7bc8b31420bf36e3f4a9e3f0/jwt/api_jwt.py#L190,
sentry/src/,62,if we try to verify the audience,
sentry/src/,67,Verify the query has not been tampered by Creating a Query Hash,
sentry/src/,68,and comparing it against the qsh claim on the verified token.,
sentry/src/,40,A markdown description of the feature,
sentry/src/,41,A IntegrationFeature that gates this feature,
sentry/src/,49,A markdown description of the integration,
sentry/src/,50,A list of FeatureDescriptions,
sentry/src/,51,The integration author's name,
sentry/src/,52,The noun used to identify the integration,
sentry/src/,53,URL where issues should be opened,
sentry/src/,54,URL to view the source,
sentry/src/,55,A map of integration specific 'aspects' to the aspect config.,
sentry/src/,100,features currently only existing on plugins:,
sentry/src/,120,a unique identifier (e.g. 'slack').,
sentry/src/,121,Used to lookup sibling classes and the ``key`` used when creating,
sentry/src/,122,Integration objects.,
sentry/src/,125,a unique identifier to use when creating the ``Integration`` object.,
sentry/src/,126,Only needed when you want to create the above object with something other,
sentry/src/,127,than ``key``. See: VstsExtensionIntegrationProvider.,
sentry/src/,130,Whether this integration should show up in the list on the Organization,
sentry/src/,131,Integrations page.,
sentry/src/,134,a human readable name (e.g. 'Slack'),
sentry/src/,137,"an IntegrationMetadata object, used to provide extra details in the",
sentry/src/,138,configuration interface of the integration.,
sentry/src/,141,an Integration class that will manage the functionality once installed,
sentry/src/,144,configuration for the setup dialog,
sentry/src/,147,whether or not the integration installation be initiated from Sentry,
sentry/src/,150,can the integration be disabled ?,
sentry/src/,153,"if the integration has no application-style access token, associate",
sentry/src/,154,the installer's identity to the organization integration,
sentry/src/,157,can be any number of IntegrationFeatures,
sentry/src/,277,Return the api client for a given provider,
sentry/src/,16,Used in metrics and logging.,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,208,If a repo has been selected outside of the default list of,
sentry/src/,209,"repos, stick it onto the front of the list so that it can be",
sentry/src/,210,selected.,
sentry/src/,238,group annotations by group id,
sentry/src/,364,this probably shouldn't be possible unless there,
sentry/src/,365,is a bug in one of those methods,
sentry/src/,73,Does this integration provide a user identity for the user setting up,
sentry/src/,74,the integration?,
sentry/src/,78,Some identity providers may not be directly associated to the,
sentry/src/,79,external integration. Integrations may specify the external_id to,
sentry/src/,80,be used for the idp.,
sentry/src/,84,Create identity provider for this integration if necessary,
sentry/src/,108,If the external_id is already used for a different user or,
sentry/src/,109,the user already has a different external_id remove those,
sentry/src/,110,"identities and recreate it, except in the case of Identities",
sentry/src/,111,being used for login.,
sentry/src/,118,The user is linked to a different external_id. It's ok to relink,
sentry/src/,119,here because they'll still be able to log in with the new external_id.,
sentry/src/,122,The external_id is linked to a different user. If that user doesn't,
sentry/src/,123,"have a password, we don't delete the link as it may lock them out.",
sentry/src/,10,"Ideally this and PluginManager abstracted from the same base, but",
sentry/src/,11,InstanceManager has become convoluted and wasteful,
sentry/src/,41,dont allow unregistering of arbitrary provider,
sentry/src/,44,we gracefully handle a missing provider,
sentry/src/,54,"Found in different places, so this is implemented in each request's",
sentry/src/,55,specific object (``SlackEventRequest`` and ``SlackActionRequest``).,
sentry/src/,133,Challenge requests only include the Token and data to verify the,
sentry/src/,134,"request, so only validate those.",
sentry/src/,138,Non-Challenge requests need to validate everything plus the data,
sentry/src/,139,about the event.,
sentry/src/,78,we need to strip the prefix when searching on the channel name,
sentry/src/,90,we dont' know exactly how long it will take to paginate through all of the slack,
sentry/src/,91,"endpoints but need some time limit imposed. 3 minutes should be more than enough time,",
sentry/src/,92,we can always update later,
sentry/src/,97,need to make sure we are adding back the right prefix and also the channel_id,
sentry/src/,121,if we never find the channel name we failed :(,
sentry/src/,64,Scopes differ depending on if it's a workspace app,
sentry/src/,143,"When using bot tokens, we must use the user auth token for URL",
sentry/src/,144,unfurling,
sentry/src/,21,NOTE: Workspace maps directly to the integration ID,
sentry/src/,33,"XXX(meredith): When this gets set to True, it lets the RuleSerializer",
sentry/src/,34,know to only save if and when we have the channel_id. The rule will get saved,
sentry/src/,35,in the task (integrations/slack/tasks.py) if the channel_id is found.,
sentry/src/,103,"Integration removed, rule still active.",
sentry/src/,97,XXX(epurkhiser): In order to update the original message we have to,
sentry/src/,98,"keep track of the response_url in the callback_id. Definitely hacky,",
sentry/src/,99,but seems like there's no other solutions [1]:,
sentry/src/,100,,
sentry/src/,101,[1]: https://stackoverflow.com/questions/46629852/update-a-bot-message-after-responding-to-a-slack-dialog#comment80795670_46629852,
sentry/src/,132,XXX(epurkhiser): Slack is inconsistent about it's expected responses,
sentry/src/,133,for interactive action requests.,
sentry/src/,134,,
sentry/src/,135,"* For _unfurled_ action responses, slack expects the entire",
sentry/src/,136,attachment body used to replace the unfurled attachment to be at,
sentry/src/,137,the top level of the json response body.,
sentry/src/,138,,
sentry/src/,139,"* For _bot posted message_ action responses, slack expects the",
sentry/src/,140,attachment body used to replace the attachment to be within an,
sentry/src/,141,`attachments` array.,
sentry/src/,148,XXX(epurkhsier): Used in coordination with construct_reply. Bot,
sentry/src/,149,posted messages will not have the type at all.,
sentry/src/,172,Determine the issue group action is being taken on,
sentry/src/,176,Actions list may be empty when receiving a dialog response,
sentry/src/,192,Determine the acting user by slack identity,
sentry/src/,214,Handle status dialog submission,
sentry/src/,216,Masquerade a status action,
sentry/src/,231,use the original response_url to update the link attachment,
sentry/src/,241,Usually we'll want to respond with the updated attachment including,
sentry/src/,242,"the list of actions taken. However, when opening a dialog we do not",
sentry/src/,243,have anything to update the message with and will use the,
sentry/src/,244,response_url later to update it.,
sentry/src/,247,Handle interaction actions,
sentry/src/,266,Reload group as it may have been mutated by the action,
sentry/src/,34,Attachment colors used for issues with no actions take,
sentry/src/,114,"Group and Event both implement get_event_{type,metadata}",
sentry/src/,157,Resolve actions have additional 'parameters' after ':',
sentry/src/,160,"Action has no valid action text, ignore",
sentry/src/,170,"XXX(dcramer): options are limited to 100 choices, even when nested",
sentry/src/,303,"TODO: If we're relying on this and expecting possible delays between a trigger fired and this function running,",
sentry/src/,304,then this could actually be incorrect if they changed the trigger's time window in this time period. Should we store it?,
sentry/src/,364,Different list types in slack that we'll use to resolve a channel name. Format is,
sentry/src/,365,"(<list_name>, <result_name>, <prefix>).",
sentry/src/,386,"XXX(meredith): For large accounts that have many, many channels it's",
sentry/src/,387,possible for us to timeout while attempting to paginate through to find the channel id,
sentry/src/,388,"This means some users are unable to create/update alert rules. To avoid this, we attempt",
sentry/src/,389,"to find the channel id asynchronously if it takes longer than a certain amount of time,",
sentry/src/,390,which I have set as the SLACK_DEFAULT_TIMEOUT - arbitrarily - to 10 seconds.,
sentry/src/,408,Look for channel ID,
sentry/src/,418,Slack limits the response of `<list_type>.list` to 1000 channels,
sentry/src/,19,"XXX(dcramer): this could be more tightly bound to our configured domain,",
sentry/src/,20,but slack limits what we can unfurl anyways so its probably safe,
sentry/src/,43,"Since we don't have real ids here, we have to also extract the org slug",
sentry/src/,44,from the url so that we can make sure the identifiers correspond to the,
sentry/src/,45,correct organization.,
sentry/src/,54,Filter by integration organization here as well to make sure that,
sentry/src/,55,we have permission to access these incidents.,
sentry/src/,69,"XXX(dcramer): a lot of this is copied from sentry-plugins right now, and will",
sentry/src/,70,need refactored,
sentry/src/,135,TODO(dcramer): implement app_uninstalled and tokens_revoked,
sentry/src/,64,TODO(epurkhiser): We could do some fancy slack querying here to,
sentry/src/,65,render a nice linking page with info about the user their linking.,
sentry/src/,67,Link the user with the identity. Handle the case where the user is linked to a,
sentry/src/,68,different identity or the identity is linked to a different user.,
sentry/src/,90,"If the user took their time to link their slack account, we may no",
sentry/src/,91,"longer be able to respond, and we're not guaranteed able to post into",
sentry/src/,92,the channel. Ignore Expired url errors.,
sentry/src/,93,,
sentry/src/,94,XXX(epurkhiser): Yes the error string has a space in it.,
sentry/src/,34,build the URL manually since it doesn't come back from the API in,
sentry/src/,35,the form that we need,
sentry/src/,61,"while we're here, make sure repo data is up to date",
sentry/src/,77,"its optional, lets just throw it out for now",
sentry/src/,139,make sure installation has access to this specific repo,
sentry/src/,140,use hooks endpoint since we explicitly ask for those permissions,
sentry/src/,141,when installing the app (commits can be accessed for public repos),
sentry/src/,142,https://developer.github.com/v3/repos/hooks/#list-hooks,
sentry/src/,198,TODO(adhiraj): This should be a constant representing the entire github cloud.,
sentry/src/,200,"GitHub identity is associated directly to the application, *not*",
sentry/src/,201,to the installation itself.,
sentry/src/,204,The access token will be populated upon API usage,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,51,It seems possible for the GH or GHE app to be installed on their,
sentry/src/,52,"end, but the integration to not exist. Possibly from deleting in",
sentry/src/,53,Sentry first or from a failed install flow (where the integration,
sentry/src/,54,didn't get created in the first place),
sentry/src/,101,https://developer.github.com/v3/activity/events/types/#installationevent,
sentry/src/,114,It seems possible for the GH or GHE app to be installed on their,
sentry/src/,115,"end, but the integration to not exist. Possibly from deleting in",
sentry/src/,116,Sentry first or from a failed install flow (where the integration,
sentry/src/,117,didn't get created in the first place),
sentry/src/,150,https://developer.github.com/v3/activity/events/types/#installationrepositoriesevent,
sentry/src/,156,https://developer.github.com/v3/activity/events/types/#pushevent,
sentry/src/,171,"while we're here, make sure repo data is up to date",
sentry/src/,188,try to figure out who anonymous emails are,
sentry/src/,191,bot users don't have usernames,
sentry/src/,215,"even if we can't find a user, set to none so we",
sentry/src/,216,don't re-query,
sentry/src/,243,"TODO(dcramer): we need to deal with bad values here, but since",
sentry/src/,244,"its optional, lets just throw it out for now",
sentry/src/,305,https://developer.github.com/v3/activity/events/types/#pullrequestevent,
sentry/src/,316,"while we're here, make sure repo data is up to date",
sentry/src/,325,"The value of the merge_commit_sha attribute changes depending on the state of the pull request. Before a pull request is merged, the merge_commit_sha attribute holds the SHA of the test merge commit. After a pull request is merged, the attribute changes depending on how the pull request was merged:",
sentry/src/,326,"- If the pull request was merged as a merge commit, the attribute represents the SHA of the merge commit.",
sentry/src/,327,"- If the pull request was merged via a squash, the attribute represents the SHA of the squashed commit on the base branch.",
sentry/src/,328,"- If the pull request was rebased, the attribute represents the commit that the base branch was updated to.",
sentry/src/,329,https://developer.github.com/v3/pulls/#get-a-single-pull-request,
sentry/src/,385,https://developer.github.com/webhooks/,
sentry/src/,25,make sure installation has access to this specific repo,
sentry/src/,26,use hooks endpoint since we explicitly ask for those permissions,
sentry/src/,27,when installing the app (commits can be accessed for public repos),
sentry/src/,28,https://developer.github.com/v3/repos/hooks/#list-hooks,
sentry/src/,57,use config name because that is kept in sync via webhooks,
sentry/src/,18,Generate the JWT,
sentry/src/,20,issued at time,
sentry/src/,22,JWT expiration time (10 minute maximum),
sentry/src/,24,Integration's GitHub identifier,
sentry/src/,19,return api request that fetches last ~30 commits,
sentry/src/,20,see https://developer.github.com/v3/repos/commits/#list-commits-on-a-repository,
sentry/src/,21,using end_sha as parameter,
sentry/src/,25,see https://developer.github.com/v3/repos/commits/#compare-two-commits,
sentry/src/,26,where start sha is oldest and end is most recent,
sentry/src/,75,TODO(jess): remove this whenever it's out of preview,
sentry/src/,109,TODO(jess): remove this whenever it's out of preview,
sentry/src/,96,TODO(kmclb): turn this back on once tri-level repo problem has been solved,
sentry/src/,97,"while we're here, make sure repo data is up to date",
sentry/src/,98,"self.update_repo_data(repo, event)",
sentry/src/,155,TODO(kmclb): turn this back on once tri-level repo problem has been solved,
sentry/src/,156,"while we're here, make sure repo data is up to date",
sentry/src/,157,"self.update_repo_data(repo, event)",
sentry/src/,161,TODO gitlab only sends a max of 20 commits. If a push contains,
sentry/src/,162,more commits they provide a total count and require additional API,
sentry/src/,163,requests to fetch the commit details,
sentry/src/,170,"TODO(dcramer): we need to deal with bad values here, but since",
sentry/src/,171,"its optional, lets just throw it out for now",
sentry/src/,213,Munge the token to extract the integration external_id.,
sentry/src/,214,gitlab hook payloads don't give us enough unique context,
sentry/src/,215,to find data on our side so we embed one in the token.,
sentry/src/,90,Note: gitlab projects are the same things as repos everywhere else,
sentry/src/,309,Generate a hash to prevent stray hooks from being accepted,
sentry/src/,310,use a consistent hash so that reinstalls/shared integrations don't,
sentry/src/,311,rotate secrets.,
sentry/src/,316,Splice the gitlab host and project together to,
sentry/src/,317,"act as unique link between a gitlab instance, group + sentry.",
sentry/src/,318,This value is embedded then in the webook token that we,
sentry/src/,319,give to gitlab to allow us to find the integration a hook came,
sentry/src/,320,from.,
sentry/src/,128,simple param returns limited fields for the project.,
sentry/src/,129,"Really useful, because we often don't need most of the project information",
sentry/src/,30,In GitLab Repositories are called Projects,
sentry/src/,37,default_repo should be the project_id,
sentry/src/,283,Create the webhook before the integration record exists,
sentry/src/,284,so that if it fails we don't persist a broken integration.,
sentry/src/,84,Create a JWT token that we can add to the webhook URL,
sentry/src/,85,so we can locate the matching integration later.,
sentry/src/,22,Pull email from the string: u'lauryn <lauryn@sentry.io>',
sentry/src/,47,https://docs.microsoft.com/en-us/azure/devops/service-hooks/events?view=azure-devops#workitem.updated,
sentry/src/,104,"In the case that there are no fields sent, no syncing can be done",
sentry/src/,125,TODO(lb): return if cannot parse email?,
sentry/src/,150,old_state is None when the issue is New,
sentry/src/,158,TODO(lb): hmm... this looks brittle to me,
sentry/src/,136,"since we don't actually use webhooks for vsts commits,",
sentry/src/,137,just verify repo access,
sentry/src/,171,only request states for the first 5 projects to limit number,
sentry/src/,172,of requests,
sentry/src/,379,preserve previously created subscription information,
sentry/src/,63,https://docs.microsoft.com/en-us/rest/api/vsts/git/commits/get%20changes#versioncontrolchangetype,
sentry/src/,77,Azure will truncate commit comments to only the first line.,
sentry/src/,78,We need to make an additional API call to get the full commit message.,
sentry/src/,79,This is important because issue refs could be anywhere in the commit,
sentry/src/,80,message.,
sentry/src/,92,We only fetch patch data for 90 commits.,
sentry/src/,32,TODO(lb): Fix this url so that the base url is given by vsts rather than built by us,
sentry/src/,37,TODO(lb): Fix this url so that the base url is given by vsts rather than built by us,
sentry/src/,80,"XXX: Link is not yet used, as we can't explicitly bind it to Sentry.",
sentry/src/,81,if link:,
sentry/src/,82,data.append({,
sentry/src/,83,"'op': 'add',",
sentry/src/,84,"'path': FIELD_MAP['link'],",
sentry/src/,85,'value': {,
sentry/src/,86,"'rel': 'Hyperlink',",
sentry/src/,87,"'url': link,",
sentry/src/,88,},
sentry/src/,89,}),
sentry/src/,117,"XXX: Link is not yet used, as we can't explicitly bind it to Sentry.",
sentry/src/,124,TODO(dcramer): this is problematic when the link already exists,
sentry/src/,146,TODO(lb): might want to make this custom like jira at some point,
sentry/src/,209,"TODO(dcramer): VSTS doesn't provide a way to search, so we're",
sentry/src/,210,making the assumption that a user has 100 or less projects today.,
sentry/src/,27,default_repo should be the project_id,
sentry/src/,49,If a project has been selected outside of the default list of,
sentry/src/,50,"projects, stick it onto the front of the list so that it can be",
sentry/src/,51,selected.,
sentry/src/,65,Azure/VSTS has BOTH projects and repositories. A project can have many repositories.,
sentry/src/,66,Workitems (issues) are associated with the project not the repository.,
sentry/src/,112,"Descriptions cannot easily be seen. So, a comment will be added as well.",
sentry/src/,159,TODO(lb): Email people when this happens,
sentry/src/,186,"For some reason, vsts doesn't include the project id",
sentry/src/,187,in the work item response.,
sentry/src/,188,TODO(jess): figure out if there's a better way to do this,
sentry/src/,274,VSTS uses markdown or xml,
sentry/src/,275,https://docs.microsoft.com/en-us/microsoftteams/platform/concepts/bots/bots-text-formats,
sentry/src/,282,Azure does not support updating comments,
sentry/src/,291,The identity provider pipeline should be constructed at execution,
sentry/src/,292,"time, this allows for the oauth configuration parameters to be made",
sentry/src/,293,available from the installation config view.,
sentry/src/,328,verify that user actually has access to the installation,
sentry/src/,346,installation id is not enough to be unique for self-hosted GH,
sentry/src/,348,"GitHub identity is associated directly to the application, *not*",
sentry/src/,349,to the installation itself.,
sentry/src/,350,app id is not enough to be unique for self-hosted GH,
sentry/src/,353,The access token will be populated upon API usage,
sentry/src/,365,GitHub apps do not have user scopes,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,48,https://developer.github.com/v3/activity/events/types/#installationrepositoriesevent,
sentry/src/,56,https://developer.github.com/v3/activity/events/types/#pushevent,
sentry/src/,73,https://developer.github.com/v3/activity/events/types/#pullrequestevent,
sentry/src/,85,https://developer.github.com/webhooks/,
sentry/src/,151,Attempt to validate the signature. Older versions of,
sentry/src/,152,GitHub Enterprise do not send the signature so this is an optional step.,
sentry/src/,25,make sure installation has access to this specific repo,
sentry/src/,27,TODO(jess): remove this whenever it's out of preview,
sentry/src/,86,validate fields,
sentry/src/,97,find the matching row from the input,
sentry/src/,107,new rows don't have an id,
sentry/src/,165,"PagerDuty gives us integration keys for various things, some of which",
sentry/src/,166,are not services. For now we only care about services.,
sentry/src/,46,need to make sure that the service actually belongs to that integration - meaning,
sentry/src/,47,that it belongs under the appropriate account in PagerDuty,
sentry/src/,97,integration removed but rule still exists,
sentry/src/,119,TODO(meredith): Maybe have a generic success log statements for,
sentry/src/,120,first-party integrations similar to plugin `notification.dispatched`,
sentry/src/,32,expected payload: https://v2.developer.pagerduty.com/docs/send-an-event-events-api-v2,
sentry/src/,33,"for now, only construct the payload if data is an event",
sentry/src/,32,"XXX(dcramer): Hack around CF needing a token in the JSON body,",
sentry/src/,33,but us additionally needing to verify the signature of the payload.,
sentry/src/,34,This technically lets a user brute force a token before we actually,
sentry/src/,35,"verify the signature, HOWEVER, they could do that either way so we",
sentry/src/,36,are ok with it.,
sentry/src/,72,see https://developer.atlassian.com/bitbucket/api/2/reference/meta/authentication#scopes-bbc,
sentry/src/,190,team or user account,
sentry/src/,23,Bitbucket Cloud IP range:,
sentry/src/,24,https://confluence.atlassian.com/bitbucket/manage-webhooks-735643732.html#Managewebhooks-trigger_webhookTriggeringwebhooks,
sentry/src/,27,"Not documented in the webhook docs, but defined here:",
sentry/src/,28,https://bitbucket.org/blog/new-ip-addresses-bitbucket-cloud,
sentry/src/,38,captures content between angle brackets,
sentry/src/,46,captures content before angle bracket,
sentry/src/,63,build the URL manually since it doesn't come back from the API in,
sentry/src/,64,the form that we need,
sentry/src/,65,see https://confluence.atlassian.com/bitbucket/event-payloads-740262817.html#EventPayloads-entity_repository,
sentry/src/,66,and click on 'Repository property' underneath the table for example data,
sentry/src/,67,"(all entries are from the `api` subdomain, rather than bitbucket.org)",
sentry/src/,83,https://confluence.atlassian.com/bitbucket/event-payloads-740262817.html#EventPayloads-Push,
sentry/src/,96,"while we're here, make sure repo data is up to date",
sentry/src/,106,"TODO(dcramer): we need to deal with bad values here, but since",
sentry/src/,107,"its optional, lets just throw it out for now",
sentry/src/,41,TODO(LB): Revisit whether Integrations V3 should be using OrganizationOption for storage,
sentry/src/,108,use config name because that is kept in sync via webhooks,
sentry/src/,49,subject is probably the clientKey,
sentry/src/,77,Query filters can be found here:,
sentry/src/,78,https://developer.atlassian.com/bitbucket/api/2/reference/meta/filtering#supp-endpoints,
sentry/src/,82,Call the method as below:,
sentry/src/,83,"client.create_comment('repo', '1', {""content"": {""raw"": ""Whatever you're commenting.""}})",
sentry/src/,84,https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/issues/%7Bissue_id%7D/comments#post,
sentry/src/,136,return api request that fetches last ~30 commits,
sentry/src/,137,see https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/commits/%7Brevision%7D,
sentry/src/,138,using end_sha as parameter,
sentry/src/,143,where start_sha is oldest and end_sha is most recent,
sentry/src/,144,see,
sentry/src/,145,https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/commits/%7Brevision%7D,
sentry/src/,160,move page forward,
sentry/src/,128,users content rendered as html,
sentry/src/,139,users content rendered as html,
sentry/src/,29,When the user is redirected the URL will become:,
sentry/src/,30,https://sentry.io/extensions/bitbucket/setup/?jwt=1212121212,
sentry/src/,26,"if no assignee, assume it was unassigned",
sentry/src/,84,"hide sprint, epic link, parent and linked issues fields because they don't work",
sentry/src/,85,"since sprint and epic link are ""custom"" we need to search for them by name",
sentry/src/,88,A list of common builtin custom field types for Jira for easy reference.,
sentry/src/,117,Populated with projects,
sentry/src/,245,"There is no Jira instance icon (there is a favicon, but it doesn't seem",
sentry/src/,246,possible to query that with the API). So instead we just use the first,
sentry/src/,247,project Icon.,
sentry/src/,304,https://jira.atlassian.com/secure/WikiRendererHelpAction.jspa?section=texteffects,
sentry/src/,335,Value based options prefer the value on submit.,
sentry/src/,339,Label based options prefer the value on submit.,
sentry/src/,376,set up some defaults for form fields,
sentry/src/,379,override defaults based on field configuration,
sentry/src/,393,TODO: Implement timetracking (currently unsupported altogether),
sentry/src/,396,TODO: Implement worklogs and attachments someday,
sentry/src/,413,"break this out, since multiple field types could additionally",
sentry/src/,414,be configured to use a custom property instead of a default.,
sentry/src/,429,still no issue type? just use the first one.,
sentry/src/,439,"If we don't have a jira projectid, iterate all projects and find",
sentry/src/,440,the first project that has metadata. We only want one project as getting,
sentry/src/,441,"all project metadata is expensive and wasteful. In the first run experience,",
sentry/src/,442,the user won't have a 'last used' project id so we need to iterate available,
sentry/src/,443,projects until we find one that we can get metadata for.,
sentry/src/,531,check if the issuetype was passed as a parameter,
sentry/src/,536,make sure default issue type is actually,
sentry/src/,537,one that is allowed for project,
sentry/src/,566,title is renamed to summary before sending to Jira,
sentry/src/,569,TODO(jess): are we going to allow ignored fields?,
sentry/src/,570,"ignored_fields = (self.get_option('ignored_fields', group.project) or '').split(',')",
sentry/src/,578,apply ordering to fields based on some known built-in Jira fields.,
sentry/src/,579,otherwise weird ordering occurs.,
sentry/src/,585,build up some dynamic fields based on required shit.,
sentry/src/,588,don't overwrite the fixed fields for the form.,
sentry/src/,597,"whenever priorities are available, put the available ones in the list.",
sentry/src/,598,allowedValues for some reason doesn't pass enough info.,
sentry/src/,611,protect against mis-configured integration submitting a form without an,
sentry/src/,612,issuetype assigned.,
sentry/src/,653,custom multi-picker,
sentry/src/,685,"something fishy is going on with this field, working on some Jira",
sentry/src/,686,"instances, and some not.",
sentry/src/,687,testing against 5.1.5 and 5.1.4 does not convert (perhaps is no longer included,
sentry/src/,688,"in the projectmeta API call, and would normally be converted in the",
sentry/src/,689,above clean method.),
sentry/src/,734,TODO(jess): do we want to email people about these types of failures?,
sentry/src/,749,TODO(jess): do we want to email people about these types of failures?,
sentry/src/,783,don't bother updating if it's already the status we'd change it to,
sentry/src/,792,TODO(jess): Email for failure,
sentry/src/,837,"Most information is not available during integration installation,",
sentry/src/,838,since the integration won't have been fully configured on JIRA's side,
sentry/src/,839,"yet, we can't make API calls for more details like the server name or",
sentry/src/,840,Icon.,
sentry/src/,847,"public key is possibly deprecated, so we can maybe remove this",
sentry/src/,26,Sync integration metadata from Jira. This msut be executed *after*,
sentry/src/,27,the integration has been installed on Jira as the access tokens will,
sentry/src/,28,not work until then.,
sentry/src/,64,not enabling cross site cookies seems to be a common problem with Safari,
sentry/src/,65,"as a result, there is a Safari specific link to instructions when is_safari=true",
sentry/src/,98,Remove Jira integrations not in the set of enabled organizations,
sentry/src/,103,Ensure all enabled integrations.,
sentry/src/,38,handle params that are already part of the path,
sentry/src/,86,This timeout is completely arbitrary. Jira doesn't give us any,
sentry/src/,87,caching headers to work with. Ideally we want a duration that,
sentry/src/,88,lets the user make their second jira issue with cached data.,
sentry/src/,93,`jira_style` encapsulates differences between jira server & jira cloud.,
sentry/src/,94,"We only support one API version for Jira, but server/cloud require different",
sentry/src/,95,authentication mechanisms and caching.,
sentry/src/,111,Force adherence to the GDPR compliant API conventions.,
sentry/src/,112,See,
sentry/src/,113,https://developer.atlassian.com/cloud/jira/platform/deprecation-notice-user-privacy-api-migration-guide,
sentry/src/,127,check if it looks like an issue id,
sentry/src/,155,We saw an empty JSON response come back from the API :(,
sentry/src/,163,"XXX(dcramer): document how this is possible, if it even is",
sentry/src/,183,"Jira Server wants a project key, while cloud is indifferent.",
sentry/src/,188,"Jira Server wants a project key, while cloud is indifferent.",
sentry/src/,20,"The name field can be blank in jira-cloud, and the id_field varies by",
sentry/src/,21,jira-cloud and jira-server,
sentry/src/,77,TODO(jess): handle other autocomplete urls,
sentry/src/,15,"This is only to enable the VSTS -> Sentry installation flow, so we don't",
sentry/src/,16,want it to actually appear of the Integrations page.,
sentry/src/,52,Only create one instance of the ReactPageView since it's duplicated everywhere,
sentry/src/,63,Special favicon in debug mode,
sentry/src/,74,Store endpoints first since they are the most active,
sentry/src/,97,This URL to be deprecated,
sentry/src/,108,Frontend client config,
sentry/src/,110,"The static version is either a 10 digit timestamp, a sha1, or md5 hash",
sentry/src/,116,Javascript SDK Loader,
sentry/src/,122,Versioned API,
sentry/src/,124,Legacy unversioned endpoints,
sentry/src/,136,OAuth,
sentry/src/,146,SAML,
sentry/src/,169,Auth,
sentry/src/,200,Account,
sentry/src/,284,Project Wizard,
sentry/src/,290,compatibility,
sentry/src/,325,Onboarding,
sentry/src/,327,Admin,
sentry/src/,329,Legacy Redirects,
sentry/src/,357,"User settings use generic_react_page_view, while any view acting on",
sentry/src/,358,behalf of an organization should use react_page_view,
sentry/src/,460,Organizations,
sentry/src/,558,need to catch settings and force it to react,
sentry/src/,563,Settings - Projects,
sentry/src/,593,VSTS Marketplace extension install flow,
sentry/src/,599,Generic,
sentry/src/,602,Force a 404 of favicon.ico.,
sentry/src/,603,"This url is commonly requested by browsers, and without",
sentry/src/,604,"blocking this, it was treated as a 200 OK for a react page view.",
sentry/src/,605,A side effect of this is it may cause a bad redirect when logging in,
sentry/src/,606,since this gets stored in session as the last viewed page.,
sentry/src/,607,See: https://github.com/getsentry/sentry/issues/2195,
sentry/src/,609,crossdomain.xml,
sentry/src/,611,plugins,
sentry/src/,612,XXX(dcramer): preferably we'd be able to use 'integrations' as the URL,
sentry/src/,613,"prefix here, but unfortunately sentry.io has that mapped to marketing",
sentry/src/,614,assets for the time being,
sentry/src/,638,Generic API,
sentry/src/,649,Keep named URL for for things using reverse,
sentry/src/,695,Legacy,
sentry/src/,696,This triggers a false positive for the urls.W002 Django warning,
sentry/src/,82,Transparent 1x1 gif,
sentry/src/,83,See http://probablyprogramming.com/2009/03/15/the-tiniest-gif-ever,
sentry/src/,116,don't ask for options again for 1 hour,
sentry/src/,130,if ORIGIN header is explicitly specified as 'null' leave it alone,
sentry/src/,185,"we have an explicit project id, just return it",
sentry/src/,187,look in the authentication information for the project id,
sentry/src/,216,relay will no longer be able to provide information about filter,
sentry/src/,217,status so to see the impact we're adding a way to turn on relay,
sentry/src/,218,like behavior here.,
sentry/src/,224,TODO: improve this API (e.g. make RateLimit act on __ne__),
sentry/src/,231,XXX(dcramer): when the rate limiter fails we drop events to ensure,
sentry/src/,232,it cannot cascade,
sentry/src/,252,TODO(dcramer): ideally we'd only validate this if the event_id was,
sentry/src/,253,supplied by the user,
sentry/src/,270,mutates data (strips a lot of context if not queued),
sentry/src/,273,Cache for 1 hour,
sentry/src/,337,Early return if sampling is disabled,
sentry/src/,341,This may fail when we e.g. send a multipart form. We ignore those errors for now.,
sentry/src/,347,Sampling,
sentry/src/,351,We want to send only serializable items from request.META,
sentry/src/,381,if the project id is not directly specified get it from the authentication information,
sentry/src/,388,Explicitly bind Organization so we don't implicitly query it later,
sentry/src/,389,this just allows us to comfortably assure that `project.organization` is safe.,
sentry/src/,390,"This also allows us to pull the object from cache, instead of being",
sentry/src/,391,implicitly fetched from database.,
sentry/src/,394,XXX: This never returns a disabled project since visibility of the,
sentry/src/,395,project is already verified in `self._get_project_from_id`.,
sentry/src/,416,Set X-Sentry-Error as in many cases it is easier to inspect the headers,
sentry/src/,423,TODO(dcramer): test failures are not outputting the log message,
sentry/src/,424,here,
sentry/src/,432,TODO(dcramer): it'd be nice if we had an incr_multi method so,
sentry/src/,433,tsdb could optimize this,
sentry/src/,479,Legacy API was /api/store/ and the project ID was only available elsewhere,
sentry/src/,496,XXX: backported from Django 1.5,
sentry/src/,551,We were unable to read the body.,
sentry/src/,552,This would happen if a request were submitted,
sentry/src/,553,"as a multipart form for example, where reading",
sentry/src/,554,body yields an Exception. There's also not a more,
sentry/src/,555,sane exception to catch here. This will ultimately,
sentry/src/,556,bubble up as an APIError.,
sentry/src/,566,Return a simple 1x1 gif for browser so they don't throw a warning,
sentry/src/,678,"TODO(ja): Refactor shared code with CspReportView. Especially, look at",
sentry/src/,679,the sentry_key override and test it.,
sentry/src/,681,A minidump submission as implemented by Breakpad and Crashpad or any,
sentry/src/,682,other library following the Mozilla Soccorro protocol is a POST request,
sentry/src/,683,"without Origin or Referer headers. Therefore, we cannot validate the",
sentry/src/,684,"origin of the request, but we *can* validate the ""prod"" key in future.",
sentry/src/,690,"In case of multipart/form-data, the Content-Type header also includes",
sentry/src/,691,"a boundary. Therefore, we cannot check for an exact match.",
sentry/src/,701,This is yanking the auth from the querystring since it's not,
sentry/src/,702,in the POST body. This means we expect a `sentry_key` and,
sentry/src/,703,`sentry_version` to be set in querystring,
sentry/src/,730,Minidump request payloads do not have the same structure as usual,
sentry/src/,731,events from other SDKs. The minidump can either be transmitted as,
sentry/src/,732,"request body, or as `upload_file_minidump` in a multipart formdata",
sentry/src/,733,"request. Optionally, an event payload can be sent in the `sentry` form",
sentry/src/,734,"field, either as JSON or as nested form data.",
sentry/src/,739,Track these submissions statically as ERROR. Relay infers properly.,
sentry/src/,751,"First, try to parse the nested form syntax `sentry[key][key]`",
sentry/src/,752,"This is required for the Breakpad client library, which only",
sentry/src/,753,supports string values of up to 64 characters.,
sentry/src/,757,Custom clients can submit longer payloads and should JSON,
sentry/src/,758,encode event data into the optional `sentry` field.,
sentry/src/,769,Merge additional form fields from the request with `extra` data,
sentry/src/,770,from the event payload and set defaults for processing. This is,
sentry/src/,771,sent by clients like Breakpad or Crashpad.,
sentry/src/,786,Breakpad on linux sometimes stores the entire HTTP request body as,
sentry/src/,787,dump file instead of just the minidump. The Electron SDK then for,
sentry/src/,788,example uploads a multipart formdata body inside the minidump file.,
sentry/src/,789,"It needs to be re-parsed, to extract the actual minidump before",
sentry/src/,790,continuing.,
sentry/src/,793,The remaining bytes of the first line are the form boundary. We,
sentry/src/,794,"have already read two bytes, the remainder is the form boundary",
sentry/src/,795,(excluding the initial '--').,
sentry/src/,799,"Next, we have to fake a HTTP request by specifying the form",
sentry/src/,800,"boundary and the content length, or otherwise Django will not try",
sentry/src/,801,"to parse our form body. Also, we need to supply new upload",
sentry/src/,802,handlers since they cannot be reused from the current request.,
sentry/src/,839,Always store the minidump in attachments so we can access it during,
sentry/src/,840,"processing, regardless of the event-attachments feature. This is",
sentry/src/,841,required to process the minidump with debug information.,
sentry/src/,844,The minidump attachment is special. It has its own attachment type to,
sentry/src/,845,"distinguish it from regular attachments for processing. Also, it might",
sentry/src/,846,not be part of `request_files` if it has been uploaded as raw request,
sentry/src/,847,body instead of a multipart formdata request.,
sentry/src/,858,Append all other files as generic attachments.,
sentry/src/,859,RaduW 4 Jun 2019 always sent attachments for minidump (does not use,
sentry/src/,860,event-attachments feature),
sentry/src/,865,Known attachment: msgpack event,
sentry/src/,873,Add any other file as attachment,
sentry/src/,876,Assign our own UUID so we can track this minidump. We cannot trust,
sentry/src/,877,"the uploaded filename, and if reading the minidump fails there is",
sentry/src/,878,no way we can ever retrieve the original UUID from the minidump.,
sentry/src/,882,Write a minimal event payload that is required to kick off native,
sentry/src/,883,event processing. It is also used as fallback if processing of the,
sentry/src/,884,minidump fails.,
sentry/src/,885,NB: This occurs after merging attachments to overwrite potentially,
sentry/src/,886,contradicting payloads transmitted in __sentry_event.,
sentry/src/,898,Return the formatted UUID of the generated event. This is,
sentry/src/,899,expected by the Electron http uploader on Linux and doesn't,
sentry/src/,900,break the default Breakpad client library.,
sentry/src/,904,Endpoint used by the Unreal Engine 4 (UE4) Crash Reporter.,
sentry/src/,960,Track these submissions statically as ERROR. Relay infers properly.,
sentry/src/,991,we'll continue without the context data,
sentry/src/,1001,we'll continue without the breadcrumbs,
sentry/src/,1011,Known attachment: msgpack event,
sentry/src/,1024,"Always store attachments that can be processed, regardless of the",
sentry/src/,1025,event-attachments feature.,
sentry/src/,1049,The return here is only useful for consistency,
sentry/src/,1050,because the UE4 crash reporter doesn't care about it.,
sentry/src/,1077,A CSP report is sent as a POST request with no Origin or Referer,
sentry/src/,1078,header. What we're left with is a 'document-uri' key which is,
sentry/src/,1079,inside of the JSON body of the request. This 'document-uri' value,
sentry/src/,1080,should be treated as an origin check since it refers to the page,
sentry/src/,1081,that triggered the report. The Content-Type is supposed to be,
sentry/src/,1082,"`application/csp-report`, but FireFox sends it as `application/json`.",
sentry/src/,1096,This is yanking the auth from the querystring since it's not,
sentry/src/,1097,in the POST body. This means we expect a `sentry_key` and,
sentry/src/,1098,`sentry_version` to be set in querystring,
sentry/src/,1121,This endpoint only accepts security reports.,
sentry/src/,1151,Do origin check based on the `document-uri` key as explained in `_dispatch`.,
sentry/src/,13,NOQA: backwards compatibility,
sentry/src/,79,HACK: set team session value for dashboard redirect,
sentry/src/,41,If we were never previously upgraded (being a new install),
sentry/src/,42,"we want to force an upgrade, even if the values are set.",
sentry/src/,47,Check all required options to see if they've been set,
sentry/src/,49,ignore required flags which can be empty,
sentry/src/,52,Ignore mail.* keys if smtp is disabled,
sentry/src/,59,"Everything looks good, but version changed, so let's bump it",
sentry/src/,117,User identity is used by the sentry SDK,
sentry/src/,164,Note `lastOrganization` should not be expected to update throughout frontend app lifecycle,
sentry/src/,165,It should only be used on a fresh browser nav to a path where an,
sentry/src/,166,organization is not in context,
sentry/src/,175,"By default `ALLOWED_HOSTS` is [*], however the JS SDK does not support globbing",
sentry/src/,189,"Note: This intentionally does not use the ""active"" superuser flag as",
sentry/src/,190,the frontend should only ever use this flag as a hint that the user can be a superuser,
sentry/src/,191,the API will always need to check for active superuser.,
sentry/src/,192,,
sentry/src/,193,"This is needed in the case where you access a different org and get denied, but the UI",
sentry/src/,194,"can open the sudo dialog if you are an ""inactive"" superuser",
sentry/src/,22,Mostly yanked from Django core and changed to return the path:,
sentry/src/,23,See: https://github.com/django/django/blob/1.6.11/django/contrib/staticfiles/views.py,
sentry/src/,28,"trying to access bad paths like, `../../etc/passwd`, etc that",
sentry/src/,29,"Django rejects, but respond nicely instead of erroring.",
sentry/src/,52,"Return back a simpler plain-text 404 response, more suitable",
sentry/src/,53,"for static files, rather than our full blown HTML.",
sentry/src/,70,We don't need to handle this since `resolve()` is assuring to us that,
sentry/src/,71,"at least the non-gzipped version exists, so in theory, this can",
sentry/src/,72,only happen on the first .gz path,
sentry/src/,75,Make sure we Vary: Accept-Encoding for gzipped responses,
sentry/src/,78,We need CORS for font files,
sentry/src/,82,"If we have a version and not DEBUG, we can cache it FOREVER",
sentry/src/,86,"Otherwise, we explicitly don't want to cache at all",
sentry/src/,30,A simply version than what comes from the base,
sentry/src/,31,OrganizationView. We need to grab an organization,
sentry/src/,32,"that is in any state, not just VISIBLE.",
sentry/src/,45,"If this were named 'organization', it triggers logic in the base",
sentry/src/,46,"template to render organization related content, which isn't relevant",
sentry/src/,47,here.,
sentry/src/,62,Fetching or creating a token,
sentry/src/,64,"If there's no body, we don't need to go any further",
sentry/src/,17,"TODO(tkaemming): This should *actually* redirect, see similar",
sentry/src/,18,comment in ``GroupEndpoint.convert_args``.,
sentry/src/,24,Note: the reason parameter is for internal use only,
sentry/src/,84,TODO(dcramer): support scope,
sentry/src/,117,NOQA,
sentry/src/,120,we might need these to become scope based,
sentry/src/,16,Force a new CSRF token to be generated and set in user's,
sentry/src/,17,"Cookie. Alternatively, we could use context_processor +",
sentry/src/,18,"template tag, but in this case, we don't need a form on the",
sentry/src/,19,page. So there's no point in rendering a random `<input>` field.,
sentry/src/,25,TODO(dcramer): once we implement basic auth hooks in React we can make this,
sentry/src/,26,generic,
sentry/src/,29,"If user is a superuser (but not active, because otherwise this method would never be called)",
sentry/src/,30,Then allow client to handle the route and respond to any API request errors,
sentry/src/,34,"For normal users, let parent class handle (e.g. redirect to login page)",
sentry/src/,44,TODO(dcramer): move the implicit organization logic into its own class,
sentry/src/,45,as it's only used in a single location and over complicates the rest of,
sentry/src/,46,the code,
sentry/src/,53,"TODO(dcramer): this is a huge hack, and we should refactor this",
sentry/src/,54,it is currently needed to handle the is_auth_required check on,
sentry/src/,55,OrganizationBase,
sentry/src/,154,TODO(dcramer): deal with case when the user cannot create orgs,
sentry/src/,168,TODO(dcramer): change sudo so it can be required only on POST,
sentry/src/,349,if the user is attempting to access an organization that *may* be,
sentry/src/,350,"accessible if they simply re-authenticate, we want to allow that",
sentry/src/,351,"this opens up a privacy hole, but the pros outweigh the cons",
sentry/src/,382,XXX(dcramer): this branch should really never hit,
sentry/src/,27,If the environment doesn't exist then the tag can't possibly exist,
sentry/src/,35,It fails if it cannot inject the version in the string,
sentry/src/,12,The request doesn't contain the pipeline type (pipeline information is stored,
sentry/src/,13,"in redis keyed by the pipeline name), so we try to construct multiple pipelines",
sentry/src/,14,and use whichever one works.,
sentry/src/,18,"GitHub apps may be installed directly from GitHub, in which case",
sentry/src/,19,they will redirect here *without* being in the pipeline. If that happens,
sentry/src/,20,redirect to the integration install org picker.,
sentry/src/,50,Update Integration with Organization chosen,
sentry/src/,53,5 per minute should be enough for anyone,
sentry/src/,112,"Ugly way of doing this, but Django requires the backend be set",
sentry/src/,115,Only log the user in if there is no two-factor on the,
sentry/src/,116,account.,
sentry/src/,139,Set password variation of password recovery,
sentry/src/,152,10 per minute should be enough for anyone,
sentry/src/,228,For now we only support getting here from the signed link.,
sentry/src/,11,auth check is managed by view code,
sentry/src/,26,Stores callbacks that are called to get additional template context data before the login page,
sentry/src/,27,is rendered. Callbacks are called in any order. If an error is encountered in a callback it is,
sentry/src/,28,ignored. This works like HookStore in Javascript.,
sentry/src/,79,Custom auto_id to avoid ID collision with AuthenticationForm.,
sentry/src/,113,Detect that we are on the register page by url /register/ and,
sentry/src/,114,then activate the register tab by default.,
sentry/src/,135,HACK: grab whatever the first backend is and assume it works,
sentry/src/,140,can_register should only allow a single registration,
sentry/src/,144,Attempt to directly accept any pending invites,
sentry/src/,169,10 per minute should be enough for anyone,
sentry/src/,218,XXX(dcramer): OAuth provider hooks this view,
sentry/src/,222,"if the user is a superuser, but not 'superuser authenticated'",
sentry/src/,223,we allow them to re-authenticate to gain superuser status,
sentry/src/,229,we always reset the state on GET so you dont end up at an odd location,
sentry/src/,232,Single org mode -- send them to the org-specific handler,
sentry/src/,249,XXX(dcramer): OAuth provider hooks this view,
sentry/src/,135,customization options,
sentry/src/,141,TODO(dcramer): since we cant use a csrf cookie we should at the very,
sentry/src/,142,least sign the request / add some kind of nonce,
sentry/src/,147,TODO(dcramer): move this to post to the internal API,
sentry/src/,162,"There was a duplicate, so just overwrite the existing",
sentry/src/,163,row with the new one. The only way this ever happens is,
sentry/src/,164,"if someone is messing around with the API, or doing",
sentry/src/,165,"something wrong with the SDK, but this behavior is",
sentry/src/,166,more reasonable than just hard erroring and is more,
sentry/src/,167,expected.,
sentry/src/,52,Ideally the API client would support some kind of god-mode here,
sentry/src/,53,as we've already confirmed credentials and simply want to execute,
sentry/src/,54,the view code. Instead we hack around it with an ApiKey instance,
sentry/src/,39,Ladies and gentlemen: he world's shittiest bruteforce,
sentry/src/,40,prevention.,
sentry/src/,45,"If there is only one interface, just pick that one.",
sentry/src/,49,Next option is to go with the interface that was selected in the,
sentry/src/,50,URL.,
sentry/src/,57,"Fallback case an interface was remembered in a cookie, go with that",
sentry/src/,58,one first.,
sentry/src/,65,Fallback is to go the highest ranked as default.  This will be,
sentry/src/,66,the most common path for first time users.,
sentry/src/,112,If for whatever reason we ended up here but the user has no 2FA,
sentry/src/,113,"enabled, we just continue successfully.",
sentry/src/,123,TODO: Maybe email the account owner or do something to notify someone,
sentry/src/,124,This would probably be good for them to know.,
sentry/src/,140,"If an OTP response was supplied, we try to make it pass.",
sentry/src/,148,"If a challenge and response exists, validate",
sentry/src/,162,if we've already approved all of the required scopes,
sentry/src/,163,we can skip prompting the user,
sentry/src/,235,"once they login, bind their user ID",
sentry/src/,318,NOQA,
sentry/src/,47,We restrict auth settings to org:admin as it allows a non-owner to,
sentry/src/,48,escalate members to own by disabling the default role.,
sentry/src/,163,Provider is not enabled,
sentry/src/,164,Allow superusers to edit and disable SSO for orgs that,
sentry/src/,165,downgrade plans and can no longer access the feature,
sentry/src/,202,render first time setup view,
sentry/src/,205,Otherwise user is in bad state since frontend/react should handle this case,
sentry/src/,15,u2f,
sentry/src/,23,make this consistent for acceptance tests,
sentry/src/,15,u2f,
sentry/src/,23,make this consistent for acceptance tests,
sentry/src/,124,TODO(dcramer): use https://github.com/disqus/django-mailviews,
sentry/src/,238,Prevent Percy screenshot from constantly changing,
sentry/src/,239,"datetime(2017, 9, 6, 0, 0)",
sentry/src/,247,XXX: this interface_list code needs to be the same as in,
sentry/src/,248,src/sentry/plugins/sentry_mail/models.py,
sentry/src/,270,TODO(dcramer): change to use serializer,
sentry/src/,309,TODO: Refactor all of these into something more manageable.,
sentry/src/,15,u2f,
sentry/src/,23,make this consistent for acceptance tests,
sentry/src/,19,make this consistent for acceptance tests,
sentry/src/,10,"Python 2 doesn't support unicode with CSV, but Python 3 does via",
sentry/src/,11,the encoding param,
sentry/src/,24,csv.writer doesn't provide a non-file interface,
sentry/src/,25,https://docs.djangoproject.com/en/1.9/howto/outputting-csv/#streaming-large-csv-files,
sentry/src/,17,A patched version of TypedChoiceField which correctly validates a 0,
sentry/src/,18,as a real input that may be invalid,
sentry/src/,19,See https://github.com/django/django/pull/3774,
sentry/src/,25,this will validate itself twice due to the internal ChoiceField,
sentry/src/,26,validation,
sentry/src/,72,Always return initial because the widget doesn't,
sentry/src/,73,render an input field.,
sentry/src/,78,"Set the label for the ""username"" field.",
sentry/src/,188,NOTE: the text here is duplicated within the ``NewsletterConsent`` component,
sentry/src/,189,in the UI,
sentry/src/,264,"If we find more than one user, we likely matched on email address.",
sentry/src/,265,We silently bail here as we emailing the 'wrong' person isn't great.,
sentry/src/,266,They will have to retry with their username which is guaranteed,
sentry/src/,267,to be unique,
sentry/src/,332,"help_text=password_validation.password_validators_help_text_html(),",
sentry/src/,352,"username and password always managed, email and",
sentry/src/,353,name optionally managed,
sentry/src/,363,don't show username field if its the same as their email address,
sentry/src/,500,Save user language,
sentry/src/,505,Save stacktrace options,
sentry/src/,510,Save time zone options,
sentry/src/,515,Save clock 24 hours option,
sentry/src/,570,hide the label,
sentry/src/,711,This allows users who have specified an email for notifications to keep their settings,
sentry/src/,18,TODO: If we want to support security events here we'll need a way to,
sentry/src/,19,differentiate within the dataset. For now we can just assume all subscriptions,
sentry/src/,20,created within this dataset are just for errors.,
sentry/src/,130,We only care about conditions here. Filter keys only matter for,
sentry/src/,131,filtering to project and groups. Projects are handled with an,
sentry/src/,132,"explicit param, and groups can't be queried here.",
sentry/src/,33,Find all releases with adoption in the last 48 hours,
sentry/src/,257,Add releases without data points,
sentry/src/,259,If we're already looking at a 90 day horizont we don't need to,
sentry/src/,260,"fire another query, we can already assume there is no data.",
sentry/src/,282,Fill in release adoption,
sentry/src/,363,since snuba end queries are exclusive of the time and we're bucketing to,
sentry/src/,364,"a full hour, we need to round to the next hour since snuba is exclusive",
sentry/src/,365,on the end.,
sentry/src/,406,Session stats we can sum up directly without another query,
sentry/src/,407,as the data becomes available.,
sentry/src/,423,For users we need a secondary query over the entire time range,
sentry/src/,108,"Track latest completed message here, for use in `shutdown` handler.",
sentry/src/,146,"If the message is in an invalid format, just log the error",
sentry/src/,147,and continue,
sentry/src/,34,TODO: Batch this up properly once we care about multi-project rules.,
sentry/src/,108,TODO: Batch this up properly once we care about multi-project rules.,
sentry/src/,161,TODO: Batch this up properly once we care about multi-project rules.,
sentry/src/,217,Transactions specific columns,
sentry/src/,221,Tracing context fields.,
sentry/src/,59,TODO: Remove this default after we migrate,
sentry/src/,78,We don't need to run a query if there are no columns,
sentry/src/,131,If the value is a sequence use the first element as snuba,
sentry/src/,132,doesn't support `=` or `IN` operations on fields like exception_frames.filename,
sentry/src/,141,TODO (evanh) This whole function is here because we are using the max value to,
sentry/src/,142,"calculate the entire bucket width. If we could do that in a smarter way,",
sentry/src/,143,we could avoid this whole calculation.,
sentry/src/,159,"TODO evanh: This can be expanded to more fields at a later date, for now keep this limited.",
sentry/src/,196,"If there are no transactions, so no max duration, return one empty bucket",
sentry/src/,207,Determine the first bucket that will show up in our results so that we can,
sentry/src/,208,zerofill correctly.,
sentry/src/,247,"If the list was sorted, pull results out in sorted order, else concat the results",
sentry/src/,276,Whilst project_id is not part of the public schema we convert,
sentry/src/,277,the project.name field into project_id way before we get here.,
sentry/src/,286,"TODO (evanh) Since we are assuming that all string values are columns,",
sentry/src/,287,this will get tricky if we ever have complex columns where there are,
sentry/src/,288,string arguments to the functions that aren't columns,
sentry/src/,408,Determine user related fields to prune based on what wasn't selected.,
sentry/src/,412,If the user field was selected update the meta data,
sentry/src/,416,Translate back column names that were converted to snuba format,
sentry/src/,418,Remove user fields as they will be replaced by the alias.,
sentry/src/,433,Remove user component fields once the alias is resolved.,
sentry/src/,449,"The column name here has been translated, we need the original name",
sentry/src/,464,TODO(evanh) This is only here for backwards compatibilty with old queries using these deprecated,
sentry/src/,465,aliases. Once we migrate the queries these can go away.,
sentry/src/,549,TODO(evanh): These can be removed once we migrate the frontend / saved queries,
sentry/src/,550,to use the new function values,
sentry/src/,560,We need to run a separate query to be able to properly bucket the values for the histogram,
sentry/src/,561,"Do that here, and format the bucket number in to the columns before passing it through",
sentry/src/,562,to event search.,
sentry/src/,573,Check to see if we are ordering by any functions and convert the orderby to be the correct alias.,
sentry/src/,599,Resolve the public aliases into the discover dataset names.,
sentry/src/,602,Make sure that any aggregate conditions are also in the selected columns,
sentry/src/,643,First layer is Ands,
sentry/src/,645,Second layer is Ors,
sentry/src/,651,"Without the outer ' here, the transaction will be treated as another column",
sentry/src/,652,instead of a string. This isn't an injection risk since snuba is smart enough to,
sentry/src/,653,handle escaping for us.,
sentry/src/,679,TODO(evanh): These can be removed once we migrate the frontend / saved queries,
sentry/src/,680,to use the new function values,
sentry/src/,694,Resolve the public aliases into the discover dataset names.,
sentry/src/,699,Change the alias of the first aggregation to count. This ensures compatibility,
sentry/src/,700,with other parts of the timeseries endpoint expectations,
sentry/src/,810,TODO(evanh): This can be removed once we migrate the frontend / saved queries,
sentry/src/,811,to use the new function values,
sentry/src/,828,translate project ids to slugs,
sentry/src/,870,TODO(evanh): This can be removed once we migrate the frontend / saved queries,
sentry/src/,871,to use the new function values,
sentry/src/,876,Resolve the public aliases into the discover dataset names.,
sentry/src/,879,Exclude tracing tags as they are noisy and generally not helpful.,
sentry/src/,882,Sampling keys for multi-project results as we don't need accuracy,
sentry/src/,883,with that much data.,
sentry/src/,886,Get the most frequent tag keys,
sentry/src/,905,TODO(mark) Make the sampling rate scale based on the result size and scaling factor in,
sentry/src/,906,"sentry.options. To test the lowest acceptable sampling rate, we use 0.1 which",
sentry/src/,907,"is equivalent to turbo. We don't use turbo though as we need to re-scale data, and",
sentry/src/,908,using turbo could cause results to be wrong if the value of turbo is changed in snuba.,
sentry/src/,910,Rescale the results if we're sampling,
sentry/src/,932,Ensures Snuba will not apply FINAL,
sentry/src/,942,Get tag counts for our top tags. Fetching them individually,
sentry/src/,943,allows snuba to leverage promoted tags better and enables us to get,
sentry/src/,944,the value count we want.,
sentry/src/,950,Add here tags that you want to be individual,
sentry/src/,971,Ensures Snuba will not apply FINAL,
sentry/src/,995,Ensures Snuba will not apply FINAL,
sentry/src/,41,\Z because $ matches before a trailing newline,
sentry/src/,60,either a string of object,
sentry/src/,61,or a list of 2-tuples,
sentry/src/,66,either an object  # or a list of 2-tuples,
sentry/src/,102,`additionalProperties: {'not': {}}` forces additional properties to,
sentry/src/,103,"individually fail with errors that identify the key, so they can be deleted.",
sentry/src/,112,To validate individual frames use FRAME_INTERFACE_SCHEMA,
sentry/src/,124,`additionalProperties: {'not': {}}` forces additional properties to,
sentry/src/,125,"individually fail with errors that identify the key, so they can be deleted.",
sentry/src/,177,"'minLength': 1,",
sentry/src/,180,"'minProperties': 1,",
sentry/src/,181,"'minItems': 1,",
sentry/src/,182,"'minLength': 1,",
sentry/src/,185,see EXCEPTION_MECHANISM_INTERFACE_SCHEMA,
sentry/src/,187,To validate stacktraces use STACKTRACE_INTERFACE_SCHEMA,
sentry/src/,194,TODO should be false but allowing extra garbage for now,
sentry/src/,195,for compatibility,
sentry/src/,228,"TODO with draft 6 support, we can just use propertyNames/maxLength",
sentry/src/,233,This is a negative match for all the reserved tags,
sentry/src/,248,Key,
sentry/src/,256,Value,
sentry/src/,259,\Z because $ matches before a trailing newline,
sentry/src/,283,\Z because $ matches before a trailing newline,
sentry/src/,301,"'minLength': 1,",
sentry/src/,302,"'maxLength': MAX_CULPRIT_LENGTH,",
sentry/src/,310,"This is a loose tags schema, individual tags",
sentry/src/,311,are also validated more in depth with TAGS_SCHEMA,
sentry/src/,323,Exceptions:,
sentry/src/,324,"EXCEPTION_INTERFACE_SCHEMA,",
sentry/src/,325,"EXCEPTION_INTERFACE_SCHEMA,",
sentry/src/,326,Messages:,
sentry/src/,327,'message' is not an alias for the sentry.interfaces.Message interface,
sentry/src/,328,but instead is a raw string that will be wrapped in a Message interface,
sentry/src/,330,"MESSAGE_INTERFACE_SCHEMA,",
sentry/src/,331,"MESSAGE_INTERFACE_SCHEMA,",
sentry/src/,332,Templates:,
sentry/src/,333,"TEMPLATE_INTERFACE_SCHEMA,",
sentry/src/,334,"TEMPLATE_INTERFACE_SCHEMA,",
sentry/src/,335,Other interfaces,
sentry/src/,338,GEO_INTERFACE_SCHEMA,
sentry/src/,339,Other reserved keys. (some are added in processing),
sentry/src/,346,PII stripping meta data in the same schema as events.,
sentry/src/,385,"'sandbox', # Unsupported",
sentry/src/,401,Allow additional keys as browser vendors are still changing CSP,
sentry/src/,402,implementations fairly frequently,
sentry/src/,417,Don't allow any other keys.,
sentry/src/,420,RFC7469 Section 3,
sentry/src/,424,TODO validate (RFC3339),
sentry/src/,427,TODO validate (RFC3339),
sentry/src/,434,"TODO regex this string for 'pin-sha256=""ABC123""' syntax",
sentry/src/,437,TODO fill in more required keys,
sentry/src/,438,Don't allow any other keys.,
sentry/src/,444,TODO fill in more required keys,
sentry/src/,445,Don't allow any other keys.,
sentry/src/,471,Base64,
sentry/src/,562,Sentry interfaces,
sentry/src/,569,Not listed in SENTRY_INTERFACES,
sentry/src/,576,Security reports,
sentry/src/,582,"Not interfaces per se, but looked up as if they were.",
sentry/src/,625,Strip Nones so we don't have to take null into account for all schemas.,
sentry/src/,631,"Values that are missing entirely, but are required and should be defaulted",
sentry/src/,647,Values that need to be defaulted or deleted because they are not valid.,
sentry/src/,18,Default block list sourced from personal experience as well as,
sentry/src/,19,reputable blogs from Twitter and Dropbox,
sentry/src/,21,Noise from Chrome about page.,
sentry/src/,74,yapf: disable,
sentry/src/,96,TODO(markus): Relay does not validate security interfaces yet,
sentry/src/,155,Validate the raw data against the input schema (raises on failure),
sentry/src/,159,Trim values and convert keys to use underscores,
sentry/src/,178,"not quite origin, but the domain that failed pinning",
sentry/src/,213,Validate the raw data against the input schema (raises on failure),
sentry/src/,217,"For Expect-Staple, the values we want are nested under the",
sentry/src/,218,'expect-staple-report' key.,
sentry/src/,220,Trim values and convert keys to use underscores,
sentry/src/,240,"not quite origin, but the domain that failed pinning",
sentry/src/,273,Validate the raw data against the input schema (raises on failure),
sentry/src/,277,"For Expect-CT, the values we want are nested under the 'expect-ct-report' key.",
sentry/src/,279,Trim values and convert keys to use underscores,
sentry/src/,294,"not quite origin, but the domain that failed pinning",
sentry/src/,326,"Firefox doesn't send effective-directive, so parse it from",
sentry/src/,327,violated-directive but prefer effective-directive when present,
sentry/src/,328,,
sentry/src/,329,refs: https://bugzil.la/1192684#c8,
sentry/src/,338,Validate the raw data against the input schema (raises on failure),
sentry/src/,342,"For CSP, the values we want are nested under the 'csp-report' key.",
sentry/src/,344,Trim values and convert keys to use underscores,
sentry/src/,354,no inline option,
sentry/src/,435,HACK: This is 100% to work around Stripe urls,
sentry/src/,436,that will casually put extremely sensitive information,
sentry/src/,437,in querystrings. The real solution is to apply,
sentry/src/,438,data scrubbing to all tags generically,
sentry/src/,439,TODO this could be done in filter_csp,
sentry/src/,440,instead but that might only be run conditionally on the org/project settings,
sentry/src/,441,relevant code is @L191:,
sentry/src/,442,,
sentry/src/,443,if netloc == 'api.stripe.com':,
sentry/src/,444,query = '',
sentry/src/,445,fragment = '',
sentry/src/,464,"> If no scheme is specified, the same scheme as the one used to",
sentry/src/,465,> access the protected document is assumed.,
sentry/src/,466,Source: https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives,
sentry/src/,470,normalize a value down to 'self' if it matches the origin of document-uri,
sentry/src/,471,"FireFox transforms a 'self' value into the spelled out origin, so we",
sentry/src/,472,want to reverse this and bring it back,
sentry/src/,476,"Their rule had an explicit scheme, so let's respect that",
sentry/src/,479,"value doesn't have a scheme, but let's see if their",
sentry/src/,480,"hostnames match at least, if so, they're the same",
sentry/src/,484,Now we need to stitch on a scheme to the value,
sentry/src/,486,But let's not stitch on the boring values,
sentry/src/,511,A lot of these values get reported as literally,
sentry/src/,512,"just the scheme. So a value like 'data' or 'blob', which",
sentry/src/,513,"are valid schemes, just not a uri. So we want to",
sentry/src/,514,normalize it into a uri.,
sentry/src/,62,Early exit for current protocol. We assume that when someone sends a,
sentry/src/,63,"""type"", we do not need to preprocess and can immediately validate",
sentry/src/,69,"""posix_signal"" and ""mach_exception"" were optional root-level objects,",
sentry/src/,70,"which have now moved to special keys inside ""meta"". We only create ""meta""",
sentry/src/,71,if there is actual data to add.,
sentry/src/,95,"All remaining data has to be moved to the ""data"" key. We assume that even",
sentry/src/,96,"if someone accidentally sent a corret top-level key (such as ""handled""),",
sentry/src/,97,"it will not pass our interface validation and should be moved to ""data""",
sentry/src/,98,instead.,
sentry/src/,171,"In case any of the variants has a contributing stacktrace, we want",
sentry/src/,172,to make all other variants non contributing.  Thr e,
sentry/src/,186,this branch is basically dead because we only have two,
sentry/src/,187,"variants right now, but this is so this does not break in",
sentry/src/,188,the future.,
sentry/src/,395,TODO(ja): Fix all following methods when to_python is refactored. All,
sentry/src/,396,methods below might throw if None exceptions are in ``values``.,
sentry/src/,41,Skip invalid interfaces that were nulled out during normalization,
sentry/src/,158,"deprecated stuff.  These were deprecated in late 2018, once",
sentry/src/,159,determined they are unused we can kill them.,
sentry/src/,34,TODO(ja): Handle already invalid and None breadcrumbs,
sentry/src/,20,"Instead of relying on a list of hardcoded methods, just loosly match",
sentry/src/,21,against a pattern.,
sentry/src/,35,"If a header value is a list of header,",
sentry/src/,36,we want to normalize this into a comma separated list,
sentry/src/,37,This is how most other libraries handle this.,
sentry/src/,38,See: urllib3._collections:HTTPHeaderDict.itermerged,
sentry/src/,41,"we use simple checks here, rathern than ' in set()' to avoid",
sentry/src/,42,issues with maps/lists,
sentry/src/,84,TODO(dcramer): contexts need to document/describe expected (optional) fields,
sentry/src/,100,"model_id, arch",
sentry/src/,113,viewport,
sentry/src/,120,"build, rooted",
sentry/src/,153,XXX(markus): The `None`-case should be handled in the UI and,
sentry/src/,154,other consumers of this interface,
sentry/src/,124,lol checking for float('nan'),
sentry/src/,217,TODO(dcramer): abstract out this API,
sentry/src/,266,URLs can be generated such that they are:,
sentry/src/,267,blob:http://example.com/7f7aaadf-a006-4217-9ed5-5fbf8585c6c0,
sentry/src/,268,https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL,
sentry/src/,274,XXX(dcramer): dont compute hash using frames containing the 'Caused by',
sentry/src/,275,text as it contains an exception value which may may contain dynamic,
sentry/src/,276,values (see raven-java#125),
sentry/src/,280,Fix for the case where module is a partial copy of the URL,
sentry/src/,281,and should not be hashed,
sentry/src/,294,TODO(dcramer): lambda$ is Java specific,
sentry/src/,295,TODO(dcramer): [Anonymous is PHP specific (used for things like SQL,
sentry/src/,296,queries and JSON data),
sentry/src/,431,XXX(dcramer): handle PHP sending an empty array for a frame,
sentry/src/,440,This is a simplified logic from how the normalizer works.,
sentry/src/,441,Because this always works on normalized data we do not have to,
sentry/src/,442,"consider the ""all frames are in_app"" case.  The normalizer lives",
sentry/src/,443,in stacktraces.normalize_stacktraces_for_grouping which will take,
sentry/src/,444,care of that.,
sentry/src/,12,Special case: if the thread has no frames we set the,
sentry/src/,13,stacktrace to none.  Otherwise this will fail really,
sentry/src/,14,badly.,
sentry/src/,29,XXX(markus): We should handle this in the UI and other,
sentry/src/,30,consumers of this interface,
sentry/src/,14,1 hour,
sentry/src/,15,50MB,
sentry/src/,50,Confusing legacy name for RbCache.  We don't actually have a pure redis cache,
sentry/src/,7,The type of the variant that is reported to the UI.,
sentry/src/,10,This is true if `get_hash` does not return `None`.,
sentry/src/,40,At a later point we might want to store additional information here,
sentry/src/,41,such as frames that mark the end of a stacktrace and more.,
sentry/src/,56,"Instead of parsing and dumping out config here, we can make a",
sentry/src/,57,shortcut,
sentry/src/,170,If a checksum is set the only variant that comes back from this,
sentry/src/,171,event is the checksum variant.,
sentry/src/,181,Otherwise we go to the various forms of fingerprint handling.,
sentry/src/,185,If no defaults are referenced we produce a single completely custom,
sentry/src/,186,fingerprint.,
sentry/src/,194,At this point we need to calculate the default event values.  If the,
sentry/src/,195,fingerprint is salted we will wrap it.,
sentry/src/,199,"If the fingerprints are unsalted, we can return them right away.",
sentry/src/,204,Otherwise we need to salt each of the components.,
sentry/src/,210,Ensure we have a fallback hash if nothing else works out,
sentry/src/,25,Grammar is defined in EBNF syntax.,
sentry/src/,109,Path matches are always case insensitive,
sentry/src/,125,families need custom handling as well,
sentry/src/,133,in-app matching is just a bool,
sentry/src/,138,all other matches are case sensitive,
sentry/src/,146,should not happen :),
sentry/src/,224,Grouping is not stored on the frame,
sentry/src/,244,The in app flag was set by `apply_modifications_to_frame`,
sentry/src/,245,but we want to add a hint if there is none yet.,
sentry/src/,320,Apply direct frame actions and update the stack state alongside,
sentry/src/,328,Use the stack state to update frame contributions again to trim,
sentry/src/,329,down to max-frames.  min-frames is handled on the other hand for,
sentry/src/,330,the entire stacktrace later.,
sentry/src/,583,We cannot use `:` in filenames on Windows but we already have ids with,
sentry/src/,584,`:` in their names hence this trickery.,
sentry/src/,8,When a component ID appears here it has a human readable name which also,
sentry/src/,9,makes it a major component.  A major component is described as such for,
sentry/src/,10,the UI.,
sentry/src/,128,this basically assumes that a value is only a primitive,
sentry/src/,129,and never an object or list.  This should be okay,
sentry/src/,130,because we verify this.,
sentry/src/,18,Grammar is defined in EBNF syntax.,
sentry/src/,1,coding: utf-8,
sentry/src/,16,OpenJDK auto-generated classes for reflection access:,
sentry/src/,17,sun.reflect.GeneratedSerializationConstructorAccessor123,
sentry/src/,18,sun.reflect.GeneratedConstructorAccessor456,
sentry/src/,19,Note that this doesn't cover the following pattern for the sake of,
sentry/src/,20,backward compatibility (to not to change the existing grouping):,
sentry/src/,21,sun.reflect.GeneratedMethodAccessor789,
sentry/src/,26,Java Spring specific anonymous classes.,
sentry/src/,27,see: http://mydailyjava.blogspot.co.at/2013/11/cglib-missing-manual.html,
sentry/src/,30,Handle Javassist auto-generated classes and filenames:,
sentry/src/,31,com.example.api.entry.EntriesResource_$$_javassist_74,
sentry/src/,32,com.example.api.entry.EntriesResource_$$_javassist_seam_74,
sentry/src/,33,EntriesResource_$$_javassist_seam_74.java,
sentry/src/,36,Clojure anon functions are compiled down to myapp.mymodule$fn__12345,
sentry/src/,39,fields that need to be the same between frames for them to be considered,
sentry/src/,40,recursive calls,
sentry/src/,68,Only use the platform independent basename for grouping and,
sentry/src/,69,lowercase it,
sentry/src/,191,This changes Object.foo or Foo.foo into foo so that we can,
sentry/src/,192,resolve some common cross browser differences,
sentry/src/,197,if a sourcemap was used for this frame and we know that we can,
sentry/src/,198,use the context line information we no longer want to use the,
sentry/src/,199,function name.  The reason for this is that function names in,
sentry/src/,200,sourcemaps are unreliable by the nature of sourcemaps and thus a,
sentry/src/,201,bad indicator for grouping.,
sentry/src/,223,Version specific bugs,
sentry/src/,229,These are platforms that we know have always source available and,
sentry/src/,230,where the source is of good quality for grouping.  For javascript,
sentry/src/,231,this assumes that we have sourcemaps available.,
sentry/src/,234,Starting with v4 we're adding support for anonymous classes,
sentry/src/,235,detection,
sentry/src/,289,Safari throws [native code] frames in for calls like ``forEach``,
sentry/src/,290,whereas Chrome ignores these. Let's remove it from the hashing algo,
sentry/src/,291,so that they're more likely to group together,
sentry/src/,296,if we have a module we use that for grouping.  This will always,
sentry/src/,297,take precedence over the filename if it contributes,
sentry/src/,304,If we are allowed to use the contextline we add it now.,
sentry/src/,330,if we are in javascript fuzzing mode we want to disregard some,
sentry/src/,331,frames consistently.  These force common bad stacktraces together,
sentry/src/,332,to have a common hash at the cost of maybe skipping over frames that,
sentry/src/,333,would otherwise be useful.,
sentry/src/,338,special case empty functions not to have a hint,
sentry/src/,388,Special case for JavaScript where we want to ignore single frame,
sentry/src/,389,stacktraces in certain cases where those would be of too low quality,
sentry/src/,390,for grouping.,
sentry/src/,454,"Case 1: we have a single exception, use the single exception",
sentry/src/,455,component directly to avoid a level of nesting,
sentry/src/,460,Case 2: produce a component for each chained exception,
sentry/src/,22,OpenJDK auto-generated classes for reflection access:,
sentry/src/,23,sun.reflect.GeneratedSerializationConstructorAccessor123,
sentry/src/,24,sun.reflect.GeneratedConstructorAccessor456,
sentry/src/,25,Note that this doesn't cover the following pattern for the sake of,
sentry/src/,26,backward compatibility (to not to change the existing grouping):,
sentry/src/,27,sun.reflect.GeneratedMethodAccessor789,
sentry/src/,32,Java Spring specific anonymous classes.,
sentry/src/,33,see: http://mydailyjava.blogspot.co.at/2013/11/cglib-missing-manual.html,
sentry/src/,36,Handle Javassist auto-generated classes and filenames:,
sentry/src/,37,com.example.api.entry.EntriesResource_$$_javassist_74,
sentry/src/,38,com.example.api.entry.EntriesResource_$$_javassist_seam_74,
sentry/src/,39,EntriesResource_$$_javassist_seam_74.java,
sentry/src/,42,Clojure anon functions are compiled down to myapp.mymodule$fn__12345,
sentry/src/,45,fields that need to be the same between frames for them to be considered,
sentry/src/,46,recursive calls,
sentry/src/,59,Fix for the case where module is a partial copy of the URL,
sentry/src/,60,and should not be hashed,
sentry/src/,74,TODO(dcramer): lambda$ is Java specific,
sentry/src/,75,TODO(dcramer): [Anonymous is PHP specific (used for things like SQL,
sentry/src/,76,queries and JSON data),
sentry/src/,112,On cocoa we generally only want to use the last path component as,
sentry/src/,113,the filename.  The reason for this is that the chances are very high,
sentry/src/,114,that full filenames contain information we do want to strip but,
sentry/src/,115,currently can't (for instance because the information we get from,
sentry/src/,116,the dwarf files does not contain prefix information) and that might,
sentry/src/,117,contain things like /Users/foo/Dropbox/...,
sentry/src/,189,"Case 1: we have a single exception, use the single exception",
sentry/src/,190,component directly,
sentry/src/,195,Case 2: try to build a new component out of the individual,
sentry/src/,196,errors however with a trick.  In case any exception has a,
sentry/src/,197,stacktrace we want to ignore all other exceptions.,
sentry/src/,225,In certain situations we want to disregard the entire frame.,
sentry/src/,229,this requires some explanation: older sentry versions did not have,
sentry/src/,230,raw_function but only function.  For some platforms like native,
sentry/src/,231,we now instead store a trimmed function name in frame.function so,
sentry/src/,232,and the original value moved to raw_function.  This requires us to,
sentry/src/,233,prioritize raw_function over function in the legacy grouping code to,
sentry/src/,234,avoid creating new groups.,
sentry/src/,237,Safari throws [native code] frames in for calls like ``forEach``,
sentry/src/,238,whereas Chrome ignores these. Let's remove it from the hashing algo,
sentry/src/,239,so that they're more likely to group together,
sentry/src/,253,XXX(dcramer): dont compute hash using frames containing the 'Caused by',
sentry/src/,254,text as it contains an exception value which may may contain dynamic,
sentry/src/,255,values (see raven-java#125),
sentry/src/,266,if we have a module we use that for grouping.  This will always,
sentry/src/,267,"take precedence over the filename, even if the module is",
sentry/src/,268,considered unhashable.,
sentry/src/,288,Context line when available is the primary contributor,
sentry/src/,302,The context line grouping information is the most reliable one.,
sentry/src/,303,"If we did not manage to find some information there, we want to",
sentry/src/,304,see if we can come up with some extra information.  We only want,
sentry/src/,305,to do that if we managed to get a module of filename.,
sentry/src/,379,TODO(dcramer): this should apply only to platform=javascript,
sentry/src/,380,Browser JS will often throw errors (from inlined code in an HTML page),
sentry/src/,381,"which contain only a single frame, no function name, and have the HTML",
sentry/src/,382,document as the filename. In this case the hash is often not usable as,
sentry/src/,383,the context cannot be trusted and the URL is dynamic (this also means,
sentry/src/,384,the line number cannot be trusted).,
sentry/src/,395,if app frames make up less than 10% of the stacktrace discard,
sentry/src/,396,the hash as invalid,
sentry/src/,77,We forcefully override strategy here.  This lets a strategy,
sentry/src/,78,function always access its metadata and directly forward it to,
sentry/src/,79,subcomponents without having to filter out strategy.,
sentry/src/,109,trivial case: we do not have mandatory variants and can handle,
sentry/src/,110,them all the same.,
sentry/src/,132,We also only want to create another variant if it,
sentry/src/,133,produces different results than the mandatory components,
sentry/src/,138,In case this variant contributes we need to check two things,
sentry/src/,139,here: if we did not have a system match we need to prevent,
sentry/src/,140,it from contributing.  Additionally if it matches the system,
sentry/src/,141,component we also do not want the variant to contribute but,
sentry/src/,142,with a different message.,
sentry/src/,17,"In case any of the variants has a contributing stacktrace, we want",
sentry/src/,18,to make all other variants non contributing.,
sentry/src/,33,this branch is basically dead because we only have two,
sentry/src/,34,"variants right now, but this is so this does not break in",
sentry/src/,35,the future.,
sentry/src/,48,URLs can be generated such that they are:,
sentry/src/,49,blob:http://example.com/7f7aaadf-a006-4217-9ed5-5fbf8585c6c0,
sentry/src/,50,https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL,
sentry/src/,1,coding: utf-8,
sentry/src/,10,The classes of grouping algorithms,
sentry/src/,13,The full mapping of all known configurations.,
sentry/src/,27,Legacy groupings,
sentry/src/,28,,
sentry/src/,29,"These we do not plan on changing much, but bugfixes here might still go",
sentry/src/,30,into new grouping versions.,
sentry/src/,52,Simple newstyle grouping,
sentry/src/,53,,
sentry/src/,54,This is a grouping strategy that applies very simple rules and will,
sentry/src/,55,become the new default at one point.  Optimized for native and,
sentry/src/,56,javascript but works for all platforms.,
sentry/src/,100,Deprecated strategies,
sentry/src/,101,,
sentry/src/,102,These should not be used.  They are experiments which should be phased out,
sentry/src/,103,once there are no projects on them.,
sentry/src/,5,The import order here is important due to cross dependencies,
sentry/src/,28,These `host` properties need rebound otherwise `self._dns_host` doesn't,
sentry/src/,29,get set correctly.,
sentry/src/,56,Mostly yanked from https://github.com/urllib3/urllib3/blob/1.22/urllib3/connection.py#L127,
sentry/src/,69,HACK(mattrobenolt): All of this is to replace this one line,
sentry/src/,70,to establish our own connection.,
sentry/src/,151,requests' attempts to use chardet internally when no encoding is found,
sentry/src/,152,and we want to avoid that slow behavior,
sentry/src/,171,"We're using the `host` as the socket path, but",
sentry/src/,172,urllib3 uses this host as the Host header by default.,
sentry/src/,173,"If we send along the socket path as a Host header, this is",
sentry/src/,174,never what you want and would typically be malformed value.,
sentry/src/,175,So we fake this by sending along `localhost` by default as,
sentry/src/,176,other libraries do.,
sentry/src/,183,"If provided, set socket level options before connecting.",
sentry/src/,49,"If we have no disallowed ips, we can skip any further validation",
sentry/src/,50,and there's no point in doing a DNS lookup to validate against,
sentry/src/,51,an empty list.,
sentry/src/,58,Using the value from allowed_gai_family() in the context of getaddrinfo lets,
sentry/src/,59,"us select whether to work with IPv4 DNS records, IPv6 records, or both.",
sentry/src/,60,The original create_connection function always returns all records.,
sentry/src/,65,"Only one bad apple will spoil the entire lookup, so be nice.",
sentry/src/,69,"If we fail to resolve, automatically bad",
sentry/src/,75,Mostly yanked from https://github.com/urllib3/urllib3/blob/1.22/urllib3/util/connection.py#L36,
sentry/src/,84,Using the value from allowed_gai_family() in the context of getaddrinfo lets,
sentry/src/,85,"us select whether to work with IPv4 DNS records, IPv6 records, or both.",
sentry/src/,86,The original create_connection function always returns all records.,
sentry/src/,92,HACK(mattrobenolt): This is the only code that diverges,
sentry/src/,95,I am explicitly choosing to be overly aggressive here. This means,
sentry/src/,96,"the first IP that matches that hits our restricted set of IP networks,",
sentry/src/,97,"we reject all records. In theory, there might be IP addresses that",
sentry/src/,98,"are safe, but if one record is straddling safe and unsafe IPs, it's",
sentry/src/,99,suspicious.,
sentry/src/,108,"If provided, set socket level options before connecting.",
sentry/src/,77,"We only need to set uid/gid when stepping down from root, but if",
sentry/src/,78,"we are trying to run as root, then ignore it entirely.",
sentry/src/,86,Required arguments that should not be overridden,
sentry/src/,95,Old options from gunicorn,
sentry/src/,115,"For machine logging, we are choosing to 100% disable logging",
sentry/src/,116,from uwsgi since it's currently not possible to get a nice json,
sentry/src/,117,"logging out of uwsgi, so it's better to just opt out. There's",
sentry/src/,118,also an assumption that anyone operating at the scale of needing,
sentry/src/,119,"machine formatted logs, they are also using nginx in front which",
sentry/src/,120,has it's own logs that can be formatted correctly.,
sentry/src/,136,Move all of the options into UWSGI_ env vars,
sentry/src/,140,Signal that we're running within uwsgi,
sentry/src/,143,This has already been validated inside __init__,
sentry/src/,146,"Look up the bin directory where `sentry` exists, which should be",
sentry/src/,147,"sys.argv[0], then inject that to the front of our PATH so we can reliably",
sentry/src/,148,find the `uwsgi` that's installed when inside virtualenv.,
sentry/src/,149,"This is so the virtualenv doesn't need to be sourced in, which effectively",
sentry/src/,150,does exactly this.,
sentry/src/,17,HACK(mattrobenolt): literally no idea what I'm doing. Mostly made this up.,
sentry/src/,18,"SMTPChannel doesn't support EHLO response, but nginx requires an EHLO.",
sentry/src/,19,"EHLO is available in python 3, so this is backported somewhat",
sentry/src/,38,This might be too conservative,
sentry/src/,70,"No text/plain part, bailing",
sentry/src/,77,"If there's no body, we don't need to go any further",
sentry/src/,3,"This should be exactly the same as MIGRATION_TEMPLATE in `django.db.migrations.writer.py`,",
sentry/src/,4,except that we add `is_dangerous = False` to the class definition.,
sentry/src/,5,Compare this template after each Django version bump to make,
sentry/src/,6,sure we're not missing any important changes.,
sentry/src/,17,If we plan to skip migrations we just set `fake` to True here. This causes,
sentry/src/,18,"Django to skip running the migration, but records the row as expected.",
sentry/src/,30,monkeypatch Django's migration executor and template.,
sentry/src/,12,TODO(dcramer): pull get message into here to avoid instantiation,
sentry/src/,13,or ensure that these get interfaces passed instead of raw data,
sentry/src/,8,Note: Detecting eventtypes is implemented in the Relay Rust library.,
sentry/src/,34,If the exception mechanism indicates a synthetic exception we do not,
sentry/src/,35,want to record the type and value into the metadata.,
sentry/src/,39,Attach crash location if available,
sentry/src/,35,"Encoding error, try to send the exception instead",
sentry/src/,52,Here's where the normalization itself happens,
sentry/src/,89,Normalized data should be serializable,
sentry/src/,142,Receive the data,
sentry/src/,190,Make sure the socket does not already exist,
sentry/src/,30,def query(client):,
sentry/src/,31,"duration = random.randint(0, 10000) / 1000.0",
sentry/src/,32,"return client.capture('Query', query=queries.next(),",
sentry/src/,33,"engine=engine.next(), time_spent=duration, data={'logger':",
sentry/src/,34,"loggers.next(), 'site': 'sql'})",
sentry/src/,22,TODO(dcramer): do something with case of multiple matches,
sentry/src/,107,timezones are not supported and are assumed UTC,
sentry/src/,139,timezones are not supported and are assumed UTC,
sentry/src/,145,A value that only specifies the date (without a time component) should be,
sentry/src/,146,expanded to an interval that spans the entire day.,
sentry/src/,154,A value that contains the time should converted to an interval.,
sentry/src/,161,avoid entering the else clause below,
sentry/src/,218,XXX(dcramer): hacky way to avoid showing any results when,
sentry/src/,219,an invalid user is entered,
sentry/src/,248,"Should just get no results here, so return an empty release name.",
sentry/src/,404,TODO(dcramer): handle query being wrapped in quotes,
sentry/src/,445,`has:x` query should not take precedence over `x:value` queries,
sentry/src/,7,NOQA,
sentry/src/,137,ensure projects are from same org,
sentry/src/,144,filter out groups which are beyond the retention period,
sentry/src/,269,"if environment(s) are selected, we just filter on the group",
sentry/src/,270,environment's first_release attribute.,
sentry/src/,289,"if no specific environments are supplied, we either choose any",
sentry/src/,290,"groups/issues whose first release matches the given release_version,",
sentry/src/,298,or we choose any groups whose first occurrence in any environment and the latest release at,
sentry/src/,299,the time of the groups' first occurrence matches the given,
sentry/src/,300,release_version,
sentry/src/,3,NOQA,
sentry/src/,34,Note that we check operator with `startswith` here so that we handle,
sentry/src/,35,"<, <=, >, >=",
sentry/src/,128,"Don't filter on postgres fields here, they're not available",
sentry/src/,131,We special case date,
sentry/src/,140,Ensure that no user-generated tags that clashes with aggregation_defs is added to having,
sentry/src/,169,"Get the top matching groups by score, i.e. the actual search results",
sentry/src/,170,in the order that we want them.,
sentry/src/,174,ensure stable sort within the same score,
sentry/src/,191,Needs to have totals_mode=after_having_exclusive so we get groups matching HAVING only,
sentry/src/,192,Turn off FINAL when in sampling mode,
sentry/src/,193,"Don't use clickhouse sampling, even when in turbo mode.",
sentry/src/,243,https://github.com/getsentry/sentry/blob/804c85100d0003cfdda91701911f21ed5f66f67c/src/sentry/event_manager.py#L241-L271,
sentry/src/,245,"Only makes sense with WITH TOTALS, returns 1 for an individual group.",
sentry/src/,279,"This search is for some time window that ends with ""now"",",
sentry/src/,280,so if the requested sort is `date` (`last_seen`) and there,
sentry/src/,281,"are no other Snuba-based search predicates, we can simply",
sentry/src/,282,return the results from Postgres.,
sentry/src/,288,This handles tags and date parameters for search filters.,
sentry/src/,297,"When its a simple django-only search, we count_hits like normal",
sentry/src/,300,TODO: Presumably we only want to search back to the project's max,
sentry/src/,301,"retention date, which may be closer than 90 days in the past, but",
sentry/src/,302,"apparently `retention_window_start` can be None(?), so we need a",
sentry/src/,303,fallback.,
sentry/src/,312,"Both `start` and `end` must have been trimmed to `retention_date`,",
sentry/src/,313,so this entire search was against a time range that is outside of,
sentry/src/,314,retention. We'll return empty results to maintain backwards compatibility,
sentry/src/,315,with Django search (for now).,
sentry/src/,319,"TODO: This maintains backwards compatibility with Django search, but",
sentry/src/,320,in the future we should find a way to notify the user that their search,
sentry/src/,321,is invalid.,
sentry/src/,324,Here we check if all the django filters reduce the set of groups down,
sentry/src/,325,to something that we can send down to Snuba in a `group_id IN (...)`,
sentry/src/,326,clause.,
sentry/src/,332,no matches could possibly be found from this point on,
sentry/src/,336,If the pre-filter query didn't include anything to significantly,
sentry/src/,337,"filter down the number of results (from 'first_release', 'query',",
sentry/src/,338,"'status', 'bookmarked_by', 'assigned_to', 'unassigned',",
sentry/src/,339,"'subscribed_by', 'active_at_from', or 'active_at_to') then it",
sentry/src/,340,"might have surpassed the `max_candidates`. In this case,",
sentry/src/,341,"we *don't* want to pass candidates down to Snuba, and instead we",
sentry/src/,342,want Snuba to do all the filtering/sorting it can and *then* apply,
sentry/src/,343,"this queryset to the results from Snuba, which we call",
sentry/src/,344,post-filtering.,
sentry/src/,382,Do smaller searches in chunks until we have enough results,
sentry/src/,383,to answer the query (or hit the end of possible results). We do,
sentry/src/,384,this because a common case for search is to return 100 groups,
sentry/src/,385,"sorted by `last_seen`, and we want to avoid returning all of",
sentry/src/,386,a project's groups and then post-sorting them all in Postgres,
sentry/src/,387,when typically the first N results will do.,
sentry/src/,391,grow the chunk size on each iteration to account for huge projects,
sentry/src/,392,"and weird queries, up to a max size",
sentry/src/,394,but if we have group_ids always query for at least that many items,
sentry/src/,397,"{group_id: group_score, ...}",
sentry/src/,419,"pre-filtered candidates were passed down to Snuba, so we're",
sentry/src/,420,finished with filtering and these are the only results. Note,
sentry/src/,421,that because we set the chunk size to at least the size of,
sentry/src/,422,"the group_ids, we know we got all of them (ie there are",
sentry/src/,423,no more chunks after the first),
sentry/src/,428,"pre-filtered candidates were *not* passed down to Snuba,",
sentry/src/,429,so we need to do post-filtering to verify Sentry DB predicates,
sentry/src/,437,"because we're doing multiple Snuba queries, which",
sentry/src/,438,"happen outside of a transaction, there is a small possibility",
sentry/src/,439,"of groups moving around in the sort scoring underneath us,",
sentry/src/,440,so we at least want to protect against duplicates,
sentry/src/,447,break the query loop for one of three reasons:,
sentry/src/,448,* we started with Postgres candidates and so only do one Snuba query max,
sentry/src/,449,* the paginator is returning enough results to satisfy the query (>= the limit),
sentry/src/,450,* there are no more groups in Snuba to post-filter,
sentry/src/,451,TODO do we actually have to rebuild this SequencePaginator every time,
sentry/src/,452,or can we just make it after we've broken out of the loop?,
sentry/src/,460,HACK: We're using the SequencePaginator to mask the complexities of going,
sentry/src/,461,back and forth between two databases. This causes a problem with pagination,
sentry/src/,462,because we're 'lying' to the SequencePaginator (it thinks it has the entire,
sentry/src/,463,result set in memory when it does not). For this reason we need to make some,
sentry/src/,464,best guesses as to whether the `prev` and `next` cursors have more results.,
sentry/src/,467,Because we are going back and forth between DBs there is a small,
sentry/src/,468,chance that we will hand the SequencePaginator exactly `limit`,
sentry/src/,469,items. In this case the paginator will assume there are no more,
sentry/src/,470,"results, so we need to override the `next` cursor's results.",
sentry/src/,474,"If the user passed a cursor, and it isn't already a 0 result `is_prev`",
sentry/src/,475,"cursor, then it's worth allowing them to go back a page to check for",
sentry/src/,476,more results.,
sentry/src/,512,"If we had too many candidates to reasonably pass down to snuba,",
sentry/src/,513,or if we have a cursor that bisects the overall result set (such,
sentry/src/,514,that our query only sees results on one side of the cursor) then,
sentry/src/,515,we need an alternative way to figure out the total hits that this,
sentry/src/,516,query has.,
sentry/src/,518,"To do this, we get a sample of groups matching the snuba side of",
sentry/src/,519,"the query, and see how many of those pass the post-filter in",
sentry/src/,520,postgres. This should give us an estimate of the total number of,
sentry/src/,521,"snuba matches that will be overall matches, which we can use to",
sentry/src/,522,get an estimate for X-Hits.,
sentry/src/,524,The sampling is not simple random sampling. It will return *all*,
sentry/src/,525,matching groups if there are less than N groups matching the,
sentry/src/,526,"query, or it will return a random, deterministic subset of N of",
sentry/src/,527,the groups if there are more than N overall matches. This means,
sentry/src/,528,"that the ""estimate"" is actually an accurate result when there are",
sentry/src/,529,less than N matching groups.,
sentry/src/,531,The number of samples required to achieve a certain error bound,
sentry/src/,532,with a certain confidence interval can be calculated from a,
sentry/src/,533,rearrangement of the normal approximation (Wald) confidence,
sentry/src/,534,interval formula:,
sentry/src/,535,,
sentry/src/,536,https://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval,
sentry/src/,537,,
sentry/src/,538,Effectively if we want the estimate to be within +/- 10% of the,
sentry/src/,539,"real value with 95% confidence, we would need (1.96^2 * p*(1-p))",
sentry/src/,540,/ 0.1^2 samples. With a starting assumption of p=0.5 (this,
sentry/src/,541,requires the most samples) we would need 96 samples to achieve,
sentry/src/,542,+/-10% @ 95% confidence.,
sentry/src/,562,Maybe check for 0 hits and return EMPTY_RESULT in ::query? self.empty_result,
sentry/src/,5,noqa,
sentry/src/,13,Grammar is defined in EBNF syntax.,
sentry/src/,161,"User emails are case insensitive, so coerce them",
sentry/src/,162,"to lowercase, so they can be de-duped, etc.",
sentry/src/,52,"we need this to be explicitly configured and it defaults to None,",
sentry/src/,53,which is the same as False,
sentry/src/,61,TODO(dcramer): we'd also like to get an idea about the throughput,
sentry/src/,62,of the system (i.e. events in 24h),
sentry/src/,76,TODO(dcramer): relay the response 'notices' as admin broadcasts,
sentry/src/,40,remove (likely) unused platform associations,
sentry/src/,15,TODO(dcramer): we should encode the userid in emails so we can avoid this,
sentry/src/,17,Make sure that the user actually has access to this project,
sentry/src/,67,HACK(django18) Django 1.8 assumes that message objects have a reply_to attribute,
sentry/src/,68,When a message is enqueued by django 1.6 we need to patch that property on,
sentry/src/,69,so that the message can be converted to a stdlib one.,
sentry/src/,70,,
sentry/src/,71,See,
sentry/src/,72,https://github.com/django/django/blob/c686dd8e6bb3817bcf04b8f13c025b4d3c3dc6dc/django/core/mail/message.py#L273-L274,
sentry/src/,33,Here we only delete the raw event but leave the,
sentry/src/,34,reprocessing report alive.  When the queue,
sentry/src/,35,eventually kicks in this should clean up.,
sentry/src/,40,"There are more, kick us off again",
sentry/src/,56,Django 1.6's `Queryset.delete` runs in this order:,
sentry/src/,57,,
sentry/src/,58,1. Fetch all models,
sentry/src/,59,2. Call all `on_delete`s,
sentry/src/,60,3. Delete from DB (batched `DELETE WHERE id in (...)`),
sentry/src/,61,,
sentry/src/,62,"Since we attempt to unpickle `NodeField`s in Step 2, we might time",
sentry/src/,63,out at that point and never do the delete.,
sentry/src/,64,,
sentry/src/,65,Better to delete a few rows than none.,
sentry/src/,67,"Django already loads this into memory, might as well do it",
sentry/src/,68,explicitly. Makes check for result emptyness cheaper.,
sentry/src/,73,Django ORM can't do delete with limit,
sentry/src/,78,Clear old raw events and reprocessing reports,
sentry/src/,82,Processing issues get a bit of extra time before we delete them,
sentry/src/,23,"We do one query per project, just to avoid the small case that two projects have the same event ID",
sentry/src/,28,Logging values,
sentry/src/,41,Just to catch clock skew,
sentry/src/,28,TODO(dcramer): this doesnt handle deleted options (which shouldn't be allowed),
sentry/src/,31,"TODO(dcramer): we want to tag a transaction ID, but overriding",
sentry/src/,32,the base on app.task seems to cause problems w/ Celery internals,
sentry/src/,27,File in database,
sentry/src/,28,File not found in database,
sentry/src/,29,File was created in the request and send to the worker for assembling,
sentry/src/,30,File still being processed by worker,
sentry/src/,31,Error happened during assembling,
sentry/src/,36,Debug file upload,
sentry/src/,37,Release file upload,
sentry/src/,97,Assemble the chunks into a temporary file,
sentry/src/,100,If not file has been created this means that the file failed to,
sentry/src/,101,assemble because of bad input data.  Return.,
sentry/src/,109,We only permit split difs to hit this endpoint.  The,
sentry/src/,110,client is required to split them up first or we error.,
sentry/src/,132,Bump the reprocessing revision since the symbol has changed,
sentry/src/,133,and might resolve processing issues. If the file was not,
sentry/src/,134,"created, someone else has created it and will bump the",
sentry/src/,135,revision instead.,
sentry/src/,176,Assemble the chunks into a temporary file,
sentry/src/,186,If not file has been created this means that the file failed to,
sentry/src/,187,assemble because of bad input data.  Return.,
sentry/src/,194,"Initially, always delete the bundle file. Later on, we can start to store",
sentry/src/,195,the artifact bundle as a release file.,
sentry/src/,249,Release files must have unique names within their release,
sentry/src/,250,"and dist. If a matching file already exists, replace its",
sentry/src/,251,file with the new one; otherwise create it.,
sentry/src/,259,"NB: This indicates a race, where another assemble task or",
sentry/src/,260,file upload job has just created a conflicting file. Since,
sentry/src/,261,"we're upserting here anyway, yield to the faster actor and",
sentry/src/,262,do not try again.,
sentry/src/,307,Load all FileBlobs from db since we can be sure here we already own all,
sentry/src/,308,chunks need to build the file,
sentry/src/,311,Reject all files that exceed the maximum allowed size for this,
sentry/src/,312,organization. This value cannot be,
sentry/src/,324,Sanity check.  In case not all blobs exist at this point we have a,
sentry/src/,325,race condition.,
sentry/src/,336,Ensure blobs are in the order and duplication in which they were,
sentry/src/,337,"transmitted. Otherwise, we would assemble the file in the wrong order.",
sentry/src/,43,TODO(lb): Replaced by create_comment method. Remove once all preexisting jobs have executed.,
sentry/src/,44,no longer in use,
sentry/src/,45,TODO(jess): Add more retry exclusions once ApiClients have better error handling,
sentry/src/,48,sync Sentry comments to an external issue,
sentry/src/,75,TODO(jess): Add more retry exclusions once ApiClients have better error handling,
sentry/src/,93,TODO(lb): this should be changed and/or specified?,
sentry/src/,108,TODO(jess): Add more retry exclusions once ApiClients have better error handling,
sentry/src/,124,TODO(lb): this should be changed and/or specified?,
sentry/src/,161,sync Sentry assignee to an external issue,
sentry/src/,171,assume unassign if None,
sentry/src/,210,Issue link could have been deleted while sync job was in the queue.,
sentry/src/,234,doing this in a task since this has to go in the event manager,
sentry/src/,235,and didn't want to introduce additional queries there,
sentry/src/,258,"this probably shouldn't happen, but log it just in case",
sentry/src/,272,check against disabled specifically -- don't want to accidentally un-delete repos,
sentry/src/,354,https://docs.microsoft.com/en-us/rest/api/vsts/hooks/subscriptions/replace%20subscription?view=vsts-rest-4.1#subscriptionstatus,
sentry/src/,356,Update subscription does not work for disabled subscriptions,
sentry/src/,357,We instead will try to delete and then create a new one.,
sentry/src/,82,XXX(mitsuhiko): workaround: some old events do not have this data yet.,
sentry/src/,83,This should be save delete by end of 2019 even considering slow on-prem,
sentry/src/,84,releases.  Platform was added back to data in december 2018.,
sentry/src/,152,TODO: This *might* need to be protected from an IndexError?,
sentry/src/,159,XXX: This is only actually able to create a destination group and migrate,
sentry/src/,160,the group hashes if there are events that can be migrated. How do we,
sentry/src/,161,handle this if there aren't any events? We can't create a group (there,
sentry/src/,162,"isn't any data to derive the aggregates from), so we'd have to mark the",
sentry/src/,163,hash as in limbo somehow...?),
sentry/src/,168,XXX: There is a race condition here between the (wall clock) time,
sentry/src/,169,that the migration is started by the user and when we actually,
sentry/src/,170,get to this block where the new destination is created and we've,
sentry/src/,171,moved the ``GroupHash`` so that events start being associated,
sentry/src/,172,"with it. During this gap, there could have been additional events",
sentry/src/,173,"ingested, and if we want to handle this, we'd need to record the",
sentry/src/,174,"highest event ID we've seen at the beginning of the migration,",
sentry/src/,175,then scan all events greater than that ID and migrate the ones,
sentry/src/,176,where necessary. (This still isn't even guaranteed to catch all,
sentry/src/,177,"of the events due to processing latency, but it's a better shot.)",
sentry/src/,178,Create a new destination group.,
sentry/src/,191,Move the group hashes to the destination.,
sentry/src/,196,Create activity records for the source and destination group.,
sentry/src/,213,Update the existing destination group.,
sentry/src/,237,XXX: This can cause a race condition with the ``FirstSeenEventCondition``,
sentry/src/,238,where notifications can be erroneously sent if they occur in this group,
sentry/src/,239,"before the reprocessing of the denormalizated data completes, since a new",
sentry/src/,240,``GroupEnvironment`` will be created.,
sentry/src/,382,"TODO: I'm also not sure if ""environment"" here is correct, see",
sentry/src/,383,similar comment above during creation.,
sentry/src/,408,TODO: This should use `record_multi` rather than `record`.,
sentry/src/,459,XXX: The queryset chunking logic below is awfully similar to,
sentry/src/,460,``RangeQuerySetWrapper``. Ideally that could be refactored to be able to,
sentry/src/,461,be run without iteration by passing around a state object and we could,
sentry/src/,462,just use that here instead.,
sentry/src/,466,"On the first iteration of this loop, we clear out all of the",
sentry/src/,467,denormalizations from the source group so that we can have a clean slate,
sentry/src/,468,"for the new, repaired data.",
sentry/src/,477,"We process events sorted in descending order by -timestamp, -event_id. We need",
sentry/src/,478,to include event_id as well as timestamp in the ordering criteria since:,
sentry/src/,479,,
sentry/src/,480,- Event timestamps are rounded to the second so multiple events are likely,
sentry/src/,481,to have the same timestamp.,
sentry/src/,482,,
sentry/src/,483,"- When sorting by timestamp alone, Snuba may not give us a deterministic",
sentry/src/,484,order for events with the same timestamp.,
sentry/src/,485,,
sentry/src/,486,- We need to ensure that we do not skip any events between batches. If we,
sentry/src/,487,only sorted by timestamp < last_event.timestamp it would be possible to,
sentry/src/,488,have missed an event with the same timestamp as the last item in the,
sentry/src/,489,previous batch.,
sentry/src/,512,"If there are no more events to process, we're done with the migration.",
sentry/src/,62,TODO(dcramer): limit platforms to... something?,
sentry/src/,76,"This is an experiment to understand whether we have, in production,",
sentry/src/,77,mismatches between event and group before we permanently rely on events,
sentry/src/,78,for the platform. before adding some more verbose logging on this,
sentry/src/,79,"case, using a stats will give us a sense of the magnitude of the problem.",
sentry/src/,104,Is the issue already assigned to a team or user?,
sentry/src/,109,Cache for an hour if it's assigned. We don't need to move that fast.,
sentry/src/,140,"NOTE: we must pass through the full Event object, and not an",
sentry/src/,141,event_id since the Event object may not actually have been stored,
sentry/src/,142,in the database due to sampling.,
sentry/src/,148,Re-bind node data to avoid renormalization. We only want to,
sentry/src/,149,renormalize when loading old data from the database.,
sentry/src/,153,Re-bind Group since we're pickling the whole Event object,
sentry/src/,154,which may contain a stale Project.,
sentry/src/,158,Re-bind Project and Org since we're pickling the whole Event object,
sentry/src/,159,which may contain stale parent models.,
sentry/src/,168,we process snoozes before rules as it might create a regression,
sentry/src/,169,but not if it's new because you can't immediately snooze a new group,
sentry/src/,178,"TODO(dcramer): ideally this would fanout, but serializing giant",
sentry/src/,179,objects back and forth isn't super efficient,
sentry/src/,239,This cache is also set in post_save|delete.,
sentry/src/,53,"Email all organization users, even if they never linked their accounts.",
sentry/src/,54,This provides a better experience in the case where SSO is enabled and,
sentry/src/,55,disabled in the timespan of users checking their email.,
sentry/src/,104,send invite to setup 2fa,
sentry/src/,34,Delete key before generating configs such that we never have an outdated,
sentry/src/,35,but valid cache.,
sentry/src/,36,,
sentry/src/,37,"If this was running at the end of the task, it would be more effective",
sentry/src/,38,"against bursts of updates, but introduces a different race where an",
sentry/src/,39,outdated cache may be used.,
sentry/src/,46,XXX(markus): I feel like we should be able to cache this but I don't,
sentry/src/,47,want to add another method to src/sentry/db/models/manager.py,
sentry/src/,94,"This cache backend is a noop, don't bother creating a noop celery",
sentry/src/,95,task.,
sentry/src/,111,"If this task is already in the queue, do not schedule another task.",
sentry/src/,116,XXX(markus): We could schedule this task a couple seconds into the,
sentry/src/,117,"future, this would make debouncing more effective. If we want to do this",
sentry/src/,118,we might want to use the sleep queue.,
sentry/src/,22,The maximum (but hopefully not typical) expected delay can be roughly,
sentry/src/,23,"calculated by adding together the schedule interval, the # of shards *",
sentry/src/,24,schedule timeout (at least until these are able to be processed in,
sentry/src/,25,"parallel), the expected duration of time an item spends waiting in the",
sentry/src/,26,queue to be processed for delivery and the expected duration of time an,
sentry/src/,27,"item takes to be processed for delivery, so this timeout should be",
sentry/src/,28,relatively high to avoid requeueing items before they even had a chance,
sentry/src/,29,to be processed.,
sentry/src/,21,"default maximum runtime for a monitor, in minutes",
sentry/src/,48,check for any monitors which are still running and have exceeded their maximum runtime,
sentry/src/,64,we only mark the monitor as failed if a newer checkin wasn't responsible for the state,
sentry/src/,65,change,
sentry/src/,53,we're future proofing this function a bit so it could be used with other code,
sentry/src/,57,email the user,
sentry/src/,61,"now remove the identity, as its invalid",
sentry/src/,73,TODO(dcramer): this function could use some cleanup/refactoring as it's a bit unwieldy,
sentry/src/,111,"if previous commit isn't provided, try to get from",
sentry/src/,112,"previous release otherwise, try to get",
sentry/src/,113,recent commits from provider api,
sentry/src/,181,"XXX(dcramer): i dont know why this would have multiple environments, but for",
sentry/src/,182,our sanity lets assume it can,
sentry/src/,193,"for each repo, update (or create if this is the first one) our records",
sentry/src/,194,of the latest commit-associated release in each env,
sentry/src/,195,"use deploys as a proxy for ReleaseEnvironment, because they contain",
sentry/src/,196,a timestamp in addition to release and env data,
sentry/src/,201,"we need to mark LatestRepoReleaseEnvironment, but only if there's not a",
sentry/src/,202,deploy in the given environment which has completed *after*,
sentry/src/,203,this deploy (given we might process commits out of order),
sentry/src/,68,handle both None and divide by zero case,
sentry/src/,196,unresolved,
sentry/src/,201,TODO: This needs to return ``None`` for periods that don't have any data,
sentry/src/,202,(because the project is not old enough) and possibly extrapolate for,
sentry/src/,203,periods that only have partial periods.,
sentry/src/,225,Fetch all new issues.,
sentry/src/,230,"Fetch all regressions. This is a little weird, since there's no way to",
sentry/src/,231,"tell *when* a group regressed using the Group model. Instead, we query",
sentry/src/,232,all groups that have been seen in the last week and have ever regressed,
sentry/src/,233,and query the Activity model to find out if they regressed within the,
sentry/src/,234,"past week. (In theory, the activity table *could* be used to answer this",
sentry/src/,235,"query without the subselect, but there's no suitable indexes to make it's",
sentry/src/,236,performance predictable.),
sentry/src/,242,signals this has *ever* been resolved,
sentry/src/,425,"XXX: HMSET requires at least one key/value pair, so we need to",
sentry/src/,426,protect ourselves here against organizations that were created,
sentry/src/,427,but haven't set up any projects yet.,
sentry/src/,474,"If an OrganizationMember row doesn't have an associated user, this is",
sentry/src/,475,"actually a pending invitation, so no report should be delivered.",
sentry/src/,493,only count if the issue is still resolved,
sentry/src/,512,"e.g. ""daily"" or ""weekly"",",
sentry/src/,513,"relative to today, e.g. ""yesterday"" or ""this week""",
sentry/src/,514,date format used for large series x axis labeling,
sentry/src/,656,Find the reports with the most total events. (The number of reports to,
sentry/src/,657,keep is the same as the number of colors available to use in the legend.),
sentry/src/,669,Starting building the list of items to include in the report chart. This,
sentry/src/,670,"is a list of [Key, Report] pairs, in *ascending* order of the total sum",
sentry/src/,671,"of values in the series. (This is so when we render the series, the",
sentry/src/,672,largest color blocks are at the bottom and it feels appropriately,
sentry/src/,673,weighted.),
sentry/src/,687,"Collect any reports that weren't in the selection set, merge them",
sentry/src/,688,together and add it at the top (front) of the stack.,
sentry/src/,700,Collect all of the independent series into a single series to make it,
sentry/src/,701,"easier to render, resulting in a series where each value is a sequence of",
sentry/src/,702,"(key, count) pairs.",
sentry/src/,760,XXX: ``values`` must be sorted.,
sentry/src/,29,kill the option to avoid it coming up in the future,
sentry/src/,34,TODO(mattrobenolt): Write tests for all of this,
sentry/src/,55,"Operate on one ""from"" group per task iteration. The task is recursed",
sentry/src/,56,until each group has been merged.,
sentry/src/,75,TODO(jtcunning): figure out why these are full seq scans and/or alternative solution,
sentry/src/,76,"'new_event_id': getattr(new_group.event_set.order_by('-id').first(), 'id', None),",
sentry/src/,77,"'old_event_id': getattr(group.event_set.order_by('-id').first(), 'id', None),",
sentry/src/,78,"'new_hash_id': getattr(new_group.grouphash_set.order_by('-id').first(), 'id', None),",
sentry/src/,79,"'old_hash_id': getattr(group.grouphash_set.order_by('-id').first(), 'id', None),",
sentry/src/,111,"There are no more objects to merge for *this* ""from"" group, remove it",
sentry/src/,112,"from the list of ""from"" groups that are being merged, and finish the",
sentry/src/,113,work for this group.,
sentry/src/,171,TODO(dcramer): ideally these would be SQL clauses,
sentry/src/,176,it's possible to hit an out of range value for counters,
sentry/src/,185,This task is recursed until `from_object_ids` is empty and all,
sentry/src/,186,"""from"" groups have merged into the `to_group_id`.",
sentry/src/,196,All `from_object_ids` have been merged!,
sentry/src/,228,"Not all models have a 'project' or 'project_id' field, but we make a best effort",
sentry/src/,229,to filter on one if it is available.,
sentry/src/,230,Also note that all_fields doesn't contain f.attname,
sentry/src/,231,"(django ForeignKeys have only attribute ""attname"" where ""_id"" is implicitly appended)",
sentry/src/,232,"but we still want to check for ""project_id"" because some models define a project_id bigint.",
sentry/src/,259,"Before deleting, we want to merge in counts",
sentry/src/,30,Is reprocessing on or off by default?,
sentry/src/,236,Do not drop event but actually continue with rest of pipeline,
sentry/src/,237,(persisting unsymbolicated event),
sentry/src/,243,"Requeue the task in the ""sleep"" queue",
sentry/src/,258,"We cannot persist canonical types in the cache, so we need to",
sentry/src/,259,downgrade this.,
sentry/src/,404,Fetch the reprocessing revision,
sentry/src/,409,Event enhancers.  These run before anything else.,
sentry/src/,424,Stacktrace based event processors.,
sentry/src/,439,Do not drop event but actually continue with rest of pipeline,
sentry/src/,440,(persisting unsymbolicated event),
sentry/src/,460,Second round of datascrubbing after stacktrace and language-specific,
sentry/src/,461,processing. First round happened as part of ingest.,
sentry/src/,462,,
sentry/src/,463,*Right now* the only sensitive data that is added in stacktrace,
sentry/src/,464,"processing are usernames in filepaths, so we run directly after",
sentry/src/,465,stacktrace processors and `get_event_enhancers`.,
sentry/src/,466,,
sentry/src/,467,We do not yet want to deal with context data produced by plugins like,
sentry/src/,468,"sessionstack or fullstory (which are in `get_event_preprocessors`), as",
sentry/src/,469,this data is very unlikely to be sensitive data. This is why scrubbing,
sentry/src/,470,happens somewhere in the middle of the pipeline.,
sentry/src/,471,,
sentry/src/,472,"On the other hand, Javascript event error translation is happening after",
sentry/src/,473,this block because it uses `get_event_preprocessors` instead of,
sentry/src/,474,`get_event_enhancers`.,
sentry/src/,475,,
sentry/src/,476,"We are fairly confident, however, that this should run *before*",
sentry/src/,477,re-normalization as it is hard to find sensitive data in partially,
sentry/src/,478,trimmed strings.,
sentry/src/,491,"XXX(markus): When datascrubbing is finally ""totally stable"", we might want",
sentry/src/,492,to drop the event if it crashes to avoid saving PII,
sentry/src/,496,TODO(dcramer): ideally we would know if data changed by default,
sentry/src/,497,Default event processors.,
sentry/src/,514,"We cannot persist canonical types in the cache, so we need to",
sentry/src/,515,downgrade this.,
sentry/src/,520,Run some of normalization again such that we don't:,
sentry/src/,521,- persist e.g. incredibly large stacktraces from minidumps,
sentry/src/,522,- store event timestamps that are older than our retention window,
sentry/src/,523,(also happening with minidumps),
sentry/src/,543,If `create_failed_event` indicates that we need to retry we,
sentry/src/,544,invoke outselves again.  This happens when the reprocessing,
sentry/src/,545,revision changed while we were processing.,
sentry/src/,618,Clear the sent notification if we reprocessed everything,
sentry/src/,619,successfully and reprocessing is enabled,
sentry/src/,641,We can only create failed events for events that can potentially,
sentry/src/,642,create failed events.,
sentry/src/,650,In case there is reprocessing active but the current reprocessing,
sentry/src/,651,"revision is already different than when we started, we want to",
sentry/src/,652,immediately retry the event.  This resolves the problem when,
sentry/src/,653,otherwise a concurrent change of debug symbols might leave a,
sentry/src/,654,reprocessing issue stuck in the project forever.,
sentry/src/,661,The first time we encounter a failed event and the hint was cleared,
sentry/src/,662,we send a notification.,
sentry/src/,676,If reprocessing is not active we bail now without creating the,
sentry/src/,677,processing issues,
sentry/src/,681,We need to get the original data here instead of passing the data in,
sentry/src/,682,from the last processing step because we do not want any,
sentry/src/,683,modifications to take place.,
sentry/src/,741,only when we come from reprocessing we get a project_id sent into,
sentry/src/,742,the task.,
sentry/src/,747,We only need to delete raw events for events that support,
sentry/src/,748,reprocessing.  If the data cannot be found we want to assume,
sentry/src/,749,that we need to delete the raw event.,
sentry/src/,754,This covers two cases: where data is None because we did not manage,
sentry/src/,755,to fetch it from the default cache or the empty dictionary was,
sentry/src/,756,stored in the default cache.  The former happens if the event,
sentry/src/,757,"expired while being on the queue, the second happens on reprocessing",
sentry/src/,758,if the raw event was deleted concurrently while we held on to,
sentry/src/,759,it.  This causes the node store to delete the data and we end up,
sentry/src/,760,fetching an empty dict.  We could in theory not invoke `save_event`,
sentry/src/,761,in those cases but it's important that we always clean up the,
sentry/src/,762,reprocessing reports correctly or they will screw up the UI.  So,
sentry/src/,763,to future proof this correctly we just handle this case here.,
sentry/src/,774,event.project.organization is populated after this statement.,
sentry/src/,788,For the unlikely case that we did not manage to persist the,
sentry/src/,789,event we also delete the key always.,
sentry/src/,15,in prod we run with infinite retries to recover from errors,
sentry/src/,16,"in debug/development, we assume these tasks generally shouldn't fail",
sentry/src/,91,we're using a slow deletion strategy to avoid a lot of custom code for,
sentry/src/,92,postgres,
sentry/src/,129,compat: can be removed after we switch to scheduled deletions,
sentry/src/,235,all groups have been deleted,
sentry/src/,336,compat: can be removed after we switch to scheduled deletions,
sentry/src/,377,dissociate repos from that integration,
sentry/src/,33,Five minutes.,
sentry/src/,37,"We call some models by a different name, publicly, than their class name.",
sentry/src/,38,"For example the model Group is called ""Issue"" in the UI. We want the Service",
sentry/src/,39,Hook events to match what we externally call these primitives.,
sentry/src/,63,"The URL has a regex OR in it (""|"") which means `reverse` cannot generate",
sentry/src/,64,a valid URL (it can't know which option to pick). We have to manually,
sentry/src/,65,"create this URL for, that reason.",
sentry/src/,111,The class is serialized as a string when enqueueing the class.,
sentry/src/,113,The Event model has different hooks for the different event types. The sender,
sentry/src/,114,determines which type eg. Error and therefore the 'name' eg. error,
sentry/src/,123,Some resources are named differently than their model. eg. Group vs Issue.,
sentry/src/,124,Looks up the human name for the model. Defaults to the model name.,
sentry/src/,127,"By default, use Celery's `current` but allow a value to be passed for the",
sentry/src/,128,bound Task.,
sentry/src/,131,We may run into a race condition where this task executes before the,
sentry/src/,132,transaction that creates the Group has committed.,
sentry/src/,135,XXX:(Meredith): Passing through the entire event was an intentional choice,
sentry/src/,136,to avoid having to query NodeStore again for data we had previously in,
sentry/src/,137,"post_process. While this is not ideal, changing this will most likely involve",
sentry/src/,138,"an overhaul of how we do things in post_process, not just this task alone.",
sentry/src/,143,"Explicitly requeue the task, so we don't report this to Sentry until",
sentry/src/,144,we hit the max number of retries.,
sentry/src/,261,The service hook applies to all projects if there are no,
sentry/src/,262,ServiceHookProject records. Otherwise we want check if,
sentry/src/,263,the event is within the allowed projects.,
sentry/src/,266,"TODO(nola): This is disabled for now, because it could potentially affect internal integrations w/ error.created",
sentry/src/,267,"# If the event is error.created & the request is going out to the Org that owns the Sentry App,",
sentry/src/,268,"# Make sure we don't send the request, to prevent potential infinite loops",
sentry/src/,269,if (,
sentry/src/,270,"event == ""error.created""",
sentry/src/,271,and installation.organization_id == installation.sentry_app.owner_id,
sentry/src/,272,):,
sentry/src/,273,# We just want to exclude error.created from the project that the integration lives in,
sentry/src/,274,# Need to first implement project mapping for integration partners,
sentry/src/,275,metrics.incr(,
sentry/src/,276,"""webhook_request.dropped"",",
sentry/src/,277,"tags={""sentry_app"": installation.sentry_app.id, ""event"": event},",
sentry/src/,278,),
sentry/src/,279,return,
sentry/src/,309,Response code of 0 represents timeout,
sentry/src/,311,Re-raise the exception because some of these tasks might retry on the exception,
sentry/src/,25,TODO(dcramer): we should remove identities if they've been inactivate,
sentry/src/,26,for a reasonable interval,
sentry/src/,75,to ensure security we count any kind of error as an invalidation,
sentry/src/,76,event,
sentry/src/,7,NOQA,
sentry/src/,37,Load default event types,
sentry/src/,38,NOQA,
sentry/src/,50,ensure we dont mutate the original,
sentry/src/,51,we dont need to deepcopy as if it recurses into another Map it,
sentry/src/,52,will once again copy itself,
sentry/src/,8,NOQA,
sentry/src/,10,NOQA,
sentry/src/,47,"""asc"" controls whether or not we need to change the ORDER BY to",
sentry/src/,48,ascending.  If we're sorting by DESC but we're using a previous,
sentry/src/,49,"page cursor, we'll change the ordering to ASC and reverse the",
sentry/src/,50,list below (this is so we know how to get the before/after row).,
sentry/src/,51,"If we're sorting ASC _AND_ we're not using a previous page cursor,",
sentry/src/,52,then we'll need to resume using ASC.,
sentry/src/,55,We need to reverse the ORDER BY if we're using a cursor for a,
sentry/src/,56,previous page so we know exactly where we ended last page.  The,
sentry/src/,57,results will get reversed back to the requested order below.,
sentry/src/,102,cursors are:,
sentry/src/,103,"(identifier(integer), row offset, is_prev)",
sentry/src/,116,TODO(dcramer): this does not yet work correctly for ``is_prev`` when,
sentry/src/,117,the key is not unique,
sentry/src/,126,The extra amount is needed so we can decide in the ResultCursor if there is,
sentry/src/,127,more on the next page.,
sentry/src/,129,"this effectively gets us the before row, and the current (after) row",
sentry/src/,130,every time. Do not offset if the provided cursor value was empty since,
sentry/src/,131,there is nothing to traverse past.,
sentry/src/,132,We need to actually fetch the before row so that we can compare it to the,
sentry/src/,133,cursor value. This allows us to handle an edge case where the first row,
sentry/src/,134,for a given cursor is the same row that generated the cursor on the,
sentry/src/,135,"previous page, but we want to display since it has had its its sort value",
sentry/src/,136,updated.,
sentry/src/,144,If the first result is equal to the cursor_value then it's safe to filter,
sentry/src/,145,"it out, since the value hasn't been updated",
sentry/src/,148,"Otherwise we may have fetched an extra row, just drop it off the end if so.",
sentry/src/,170,clear out any select fields (include select_related) and pull just the id,
sentry/src/,206,TODO(dcramer): previous cursors are too complex at the moment for many things,
sentry/src/,207,and are only useful for polling situations. The OffsetPaginator ignores them,
sentry/src/,208,entirely and uses standard paging,
sentry/src/,224,offset is page,
sentry/src/,225,value is page limit,
sentry/src/,377,TODO: It might make sense to ensure that this hi value is at,
sentry/src/,378,least the length of the page + 1 if we want to ensure we return a,
sentry/src/,379,full page of results when paginating backwards while data is,
sentry/src/,380,being mutated.,
sentry/src/,447,Request 1 more than limit so we can tell if there is another page,
sentry/src/,461,"Since we are not issuing ranged queries, our cursors always have",
sentry/src/,462,"`value=0` (ie. all rows have the same value), and so offset naturally",
sentry/src/,463,becomes the absolute row offset from the beginning of the entire,
sentry/src/,464,"dataset, which is the same meaning as SQLs `OFFSET`.",
sentry/src/,470,TODO use Cursor.value as the `end` argument to data_fn() so that,
sentry/src/,471,subsequent pages returned using these cursors are using the same end,
sentry/src/,472,"date for queries, this should stop drift from new incoming events.",
sentry/src/,312,issues endpoints are available both top level (by numerical ID) as well as coupled,
sentry/src/,313,to the organization (and queryable via short ID),
sentry/src/,345,Load plugin group urls,
sentry/src/,350,Relay,
sentry/src/,389,Api Data,
sentry/src/,412,Auth,
sentry/src/,423,List Authenticators,
sentry/src/,429,Broadcasts,
sentry/src/,432,Project transfer,
sentry/src/,438,Organization invite,
sentry/src/,444,Monitors,
sentry/src/,459,Users,
sentry/src/,558,Organizations,
sentry/src/,569,Alert Rules,
sentry/src/,585,Data Export,
sentry/src/,596,Incidents,
sentry/src/,642,Discover,
sentry/src/,678,Dashboards,
sentry/src/,779,This is temporary while we alpha test eventsv2,
sentry/src/,1065,Toplevel app installs,
sentry/src/,1081,Teams,
sentry/src/,1124,Projects,
sentry/src/,1456,Load plugin project urls,
sentry/src/,1471,Tombstone,
sentry/src/,1485,Groups,
sentry/src/,1497,Sentry Apps,
sentry/src/,1559,Grouping configs,
sentry/src/,1570,Symbolicator Builtin Sources,
sentry/src/,1576,Internal,
sentry/src/,1599,Project Wizard,
sentry/src/,1606,Catch all,
sentry/src/,1609,"url(r'^api-auth/', include('rest_framework.urls', namespace='rest_framework'))",
sentry/src/,66,TODO(mitsuhiko): can we return the relay here?  would be nice if we,
sentry/src/,67,could find some common interface for it,
sentry/src/,61,Note: the available renderer and parser classes can be found in conf/server.py.,
sentry/src/,128,"XXX: Since DRF 3.x, when the request is passed into",
sentry/src/,129,`initialize_request` it's set as an internal variable on the returned,
sentry/src/,130,"request. Then when we call `rv.auth` it attempts to authenticate,",
sentry/src/,131,fails and sets `user` and `auth` to None on the internal request. We,
sentry/src/,132,keep track of these here and reassign them as needed.,
sentry/src/,136,"If our request is being made via our internal API client, we need to",
sentry/src/,137,stitch back on auth and user information,
sentry/src/,157,deprecate?,
sentry/src/,159,Tags that will ultimately flow into the metrics backend at the end of,
sentry/src/,160,the request (happens via middleware/stats.py).,
sentry/src/,167,"A ""null"" value should be treated as no Origin for us.",
sentry/src/,168,See RFC6454 for more information on this behavior.,
sentry/src/,182,Get the appropriate handler method,
sentry/src/,193,setup default access,
sentry/src/,261,map results based on callback,
sentry/src/,11,If Snuba throws a RateLimitExceeded then it'll likely be available,
sentry/src/,12,after another second.,
sentry/src/,48,we explicitly do not allow you to override the request *and* the user,
sentry/src/,49,as then other checks like is_superuser would need overwritten,
sentry/src/,56,we encode to ensure compatibility,
sentry/src/,61,Flag to our API class that we should trust this auth passed through,
sentry/src/,88,superuser checks require access to IP,
sentry/src/,13,7 days,
sentry/src/,34,memberId should be coerced back to an integer,
sentry/src/,61,Unable to locate the pending organization member. Cannot setup,
sentry/src/,62,the invite helper.,
sentry/src/,46,fnmatch.translate has no way to handle escaping metacharacters.,
sentry/src/,47,Applied this basic patch to handle it:,
sentry/src/,48,https://bugs.python.org/file27570/issue8402.1.patch,
sentry/src/,54,TODO: We're disabling everything except for wildcard matching for the,
sentry/src/,55,"moment. Just commenting this code out for the moment, since there's a",
sentry/src/,56,reasonable chance we'll add this back in in the future.,
sentry/src/,57,elif c == '?':,
sentry/src/,58,res = res + '.',
sentry/src/,59,elif c == '[':,
sentry/src/,60,j = i,
sentry/src/,61,if j < n and pat[j] == '!':,
sentry/src/,62,j = j + 1,
sentry/src/,63,if j < n and pat[j] == ']':,
sentry/src/,64,j = j + 1,
sentry/src/,65,while j < n and pat[j] != ']':,
sentry/src/,66,j = j + 1,
sentry/src/,67,if j >= n:,
sentry/src/,68,res = res + '\\[',
sentry/src/,69,else:,
sentry/src/,70,"stuff = pat[i:j].replace('\\', '\\\\')",
sentry/src/,71,i = j + 1,
sentry/src/,72,if stuff[0] == '!':,
sentry/src/,73,stuff = '^' + stuff[1:],
sentry/src/,74,elif stuff[0] == '^':,
sentry/src/,75,stuff = '\\' + stuff,
sentry/src/,76,"res = '%s[%s]' % (res, stuff)",
sentry/src/,82,"Explanation of quoted string regex, courtesy of Matt",
sentry/src/,83,"""              // literal quote",
sentry/src/,84,(              // begin capture group,
sentry/src/,85,(?:          // begin uncaptured group,
sentry/src/,86,"[^""]       // any character that's not quote",
sentry/src/,87,|          // or,
sentry/src/,88,"(?<=\\)[""] // A quote, preceded by a \ (for escaping)",
sentry/src/,89,)            // end uncaptured group,
sentry/src/,90,*            // repeat the uncaptured group,
sentry/src/,91,)              // end captured group,
sentry/src/,92,?              // allow to be empty (allow empty quotes),
sentry/src/,93,"""              // quote literal",
sentry/src/,162,Create the known set of fields from the issue properties,
sentry/src/,163,and the transactions and events dataset mapping definitions.,
sentry/src/,199,Negations are mostly just using != operators. But we also have,
sentry/src/,200,"negations on has: filters, which translate to = '', so handle that",
sentry/src/,201,case as well.,
sentry/src/,239,A list of mappers that map source keys to a target name. Format is,
sentry/src/,240,"<target_name>: [<list of source names>],",
sentry/src/,287,"there is a list from search_term and one from raw_search, so flatten them.",
sentry/src/,288,"Flatten each group in the list, since nodes can return multiple items",
sentry/src/,321,key_val_term is a list because of group,
sentry/src/,399,"Even if the search value matches duration format, only act as duration for certain columns",
sentry/src/,402,Extract column and function name out so we can check if we should parse as duration,
sentry/src/,464,TODO: Handle negations,
sentry/src/,476,"If we specify a specific date, it means any event on that day, and if",
sentry/src/,477,we specify a specific datetime then it means a few minutes interval,
sentry/src/,478,on either side of that datetime,
sentry/src/,488,TODO: Handle negations here. This is tricky because these will be,
sentry/src/,489,"separate filters, and to negate this range we need (< val or >= val).",
sentry/src/,490,"We currently AND all filters together, so we'll need extra logic to",
sentry/src/,491,handle. Maybe not necessary to allow negations for this.,
sentry/src/,504,"Because negations are always optional, parsimonious returns a list of nodes",
sentry/src/,505,"containing one node when a negation exists, and a single node when it doesn't.",
sentry/src/,526,"If a date or numeric key gets down to the basic filter, then it means",
sentry/src/,527,"that the value wasn't in a valid format, so raise here.",
sentry/src/,536,"the key is has here, which we don't need",
sentry/src/,539,"if it matched search value instead, it's not a valid key",
sentry/src/,589,"A properly quoted value will match the quoted value regex, so any unescaped",
sentry/src/,590,quotes are errors.,
sentry/src/,695,conditions added to env_conditions are OR'd,
sentry/src/,699,"the ""no environment"" environment is null in snuba",
sentry/src/,713,XXX: We don't want the '^$' values at the beginning and end of,
sentry/src/,714,the regex since we want to find the pattern anywhere in the,
sentry/src/,715,message. Strip off here,
sentry/src/,719,https://clickhouse.yandex/docs/en/query_language/functions/string_search_functions/#position-haystack-needle,
sentry/src/,720,positionCaseInsensitive returns 0 if not found and an index of 1 or more if found,
sentry/src/,721,so we should flip the operator here,
sentry/src/,723,make message search case insensitive,
sentry/src/,728,Escape and convert meta characters for LIKE expressions.,
sentry/src/,734,"Handle ""has"" queries",
sentry/src/,752,"Tags are never null, but promoted tags are columns and so can be null.",
sentry/src/,753,"To handle both cases, use `ifNull` to convert to an empty string and",
sentry/src/,754,compare so we need to check for empty values.,
sentry/src/,758,Handle checks for existence,
sentry/src/,763,"If not a tag, we can just check that the column is null.",
sentry/src/,768,Handle null columns on inequality comparisons. Any comparison,
sentry/src/,769,"between a value and a null will result to null, so we need to",
sentry/src/,770,"explicitly check for whether the condition is null, and OR it",
sentry/src/,771,together with the inequality check.,
sentry/src/,772,"We don't need to apply this for tags, since if they don't exist",
sentry/src/,773,they'll always be an empty string.,
sentry/src/,781,We only want to return as a list if we have the check for null,
sentry/src/,782,present. Returning as a list causes these conditions to be ORed,
sentry/src/,783,"together. Otherwise just return the raw condition, so that it can be",
sentry/src/,784,used correctly in aggregates.,
sentry/src/,796,NOTE: this function assumes project permissions check already happened,
sentry/src/,836,Create a new search filter with the correct values,
sentry/src/,842,A blank term value means that this is a has filter,
sentry/src/,856,"If the key is user, do an OR across all the different possible user fields",
sentry/src/,878,Keys included as url params take precedent if same key is included in search,
sentry/src/,879,They are also considered safe and to have had access rules applied unlike conditions,
sentry/src/,880,from the query string.,
sentry/src/,884,"OrganizationEndpoint.get_filter() uses project_id, but eventstore.Filter uses project_ids",
sentry/src/,892,"Deprecated alias, use `group_ids` instead",
sentry/src/,899,When adding aliases to this list please also update,
sentry/src/,900,static/app/views/eventsV2/eventQueryParams.tsx so that,
sentry/src/,901,the UI builder stays in sync.,
sentry/src/,956,"If we use an alias inside an aggregate, resolve it here",
sentry/src/,1030,When adding functions to this list please also update,
sentry/src/,1031,static/app/views/eventsV2/eventQueryParams.tsx so that,
sentry/src/,1032,the UI builder stays in sync.,
sentry/src/,1092,Snuba is not able to parse Clickhouse infix expressions. We should pass aggregations,
sentry/src/,1093,in a format Snuba can parse so query optimizations can be applied.,
sentry/src/,1094,It has a minimal prefix parser though to bridge the gap between the current state,
sentry/src/,1095,and when we will have an easier syntax.,
sentry/src/,1105,"The user facing signature for this function is histogram(<column>, <num_buckets>)",
sentry/src/,1106,"Internally, snuba.discover.query() expands the user request into this value by",
sentry/src/,1107,calculating the bucket size and start_offset.,
sentry/src/,1132,"TODO(evanh) Count doesn't accept parameters in the frontend, but we support it here",
sentry/src/,1133,for backwards compatibility. Once we've migrated existing queries this should get,
sentry/src/,1134,changed to accept no parameters.,
sentry/src/,1211,"Some functions can optionally take no parameters (rpm(), rps()). In that case use the",
sentry/src/,1212,passed in params to create a default argument if necessary.,
sentry/src/,1220,"Hacky, but we expect column arguments to be strings so easiest to convert it back",
sentry/src/,1270,"These can be very nested functions, so we need to iterate through all the layers",
sentry/src/,1360,Which column to map to project names,
sentry/src/,1363,"If project is requested, we need to map ids to their names since snuba only has ids",
sentry/src/,1367,"since project.name is more specific, if both are included use project.name instead of project",
sentry/src/,1387,Ensure fields we require to build a functioning interface,
sentry/src/,1388,are present. We don't add fields when using a rollup as the additional fields,
sentry/src/,1389,would be aggregated away. When there are aggregations,
sentry/src/,1390,we use argMax to get the latest event/projectid so we can create links.,
sentry/src/,1391,"The `projectid` output name is not a typo, using `project_id` triggers",
sentry/src/,1392,generates invalid queries.,
sentry/src/,1414,Need to use join like this so we don't get a list including Ls which confuses clickhouse,
sentry/src/,1416,"Can't just format a list since we'll get u""string"" instead of a plain 'string'",
sentry/src/,1431,If aggregations are present all columns,
sentry/src/,1432,need to be added to the group by so that the query is valid.,
sentry/src/,34,"TODO: Special case this in the backends, since they currently rely",
sentry/src/,35,on date_from and date_to explicitly,
sentry/src/,54,"the key is ""is"" here, which we don't need",
sentry/src/,18,Note that we no longer call the base `__init__` here. This is because,
sentry/src/,19,DRF now forces all detail messages that subclass `APIException` to a,
sentry/src/,20,"string, which breaks our format.",
sentry/src/,21,https://www.django-rest-framework.org/community/3.0-announcement/#miscellaneous-notes,
sentry/src/,34,code/message currently don't get used,
sentry/src/,42,session-based auth has all scopes for a logged in user,
sentry/src/,85,if the user comes from a signed request,
sentry/src/,86,we let them pass if sso is enabled,
sentry/src/,92,session auth needs to confirm various permissions,
sentry/src/,3,NOQA,
sentry/src/,10,Users without a password are assumed to always have sudo powers,
sentry/src/,25,If we are already authenticated through an API key we do not,
sentry/src/,26,care about the sudo flag.,
sentry/src/,28,TODO(dcramer): support some kind of auth flow to allow this,
sentry/src/,29,externally,
sentry/src/,8,For u2f,
sentry/src/,28,XXX(dcramer): @reboot is not supported (as it cannot be),
sentry/src/,1,"XXX(dcramer): we dont use rest framework's serializers module for actual serialization,",
sentry/src/,2,but rather we use it for validation. Consider this the appropriate place to put these,
sentry/src/,3,"components going forward, though many live in sentry/api/serializers/rest_framework for",
sentry/src/,4,legacy reasons.,
sentry/src/,16,Property Types,
sentry/src/,39,Form Components,
sentry/src/,73,Composable Components,
sentry/src/,107,Feature Components,
sentry/src/,221,catch the validation error and re-write the error so the user knows which element has the issue,
sentry/src/,227,schema validator will catch elements missing,
sentry/src/,239,pre-validators might have unexpected errors if the format is not what they expect in the check,
sentry/src/,240,"if that happens, we should eat the error and let the main validator find the schema error",
sentry/src/,82,TODO: proper pagination support,
sentry/src/,105,List of conditions that mark a SearchFilter as an advanced search. Format is,
sentry/src/,106,"(lambda SearchFilter(): <boolean condition>, '<feature_name')",
sentry/src/,122,"If the organization has advanced search, then no need to perform any",
sentry/src/,123,other checks since they're allowed to use all search features,
sentry/src/,151,TODO(dcramer): remove in 9.0,
sentry/src/,191,"in minutes, max of one week",
sentry/src/,194,"in minutes, max of one week",
sentry/src/,249,"in minutes, max of one week",
sentry/src/,252,"in minutes, max of one week",
sentry/src/,256,TODO(dcramer): remove in 9.0,
sentry/src/,257,"for the moment, the CLI sends this for any issue update, so allow nulls",
sentry/src/,291,grouped by project_id,
sentry/src/,303,"in this case, a tombstone has already been created",
sentry/src/,304,"for a group, so no hash updates are necessary",
sentry/src/,323,"deterministic sort for sanity, and for very large deletions we'll",
sentry/src/,324,"delete the ""smaller"" groups first",
sentry/src/,385,bulk mutations are limited to 1000 items,
sentry/src/,386,"TODO(dcramer): it'd be nice to support more than this, but its",
sentry/src/,387,a bit too complicated right now,
sentry/src/,408,Used during issue resolution to assign to acting user,
sentry/src/,409,returns None if the user didn't elect to self assign on resolution,
sentry/src/,410,"or the group is assigned already, otherwise returns Actor",
sentry/src/,411,representation of current user,
sentry/src/,429,Continue raising the error now that we've incr the metric,
sentry/src/,452,filter down group ids to only valid matches,
sentry/src/,459,TODO(jess): We may want to look into refactoring GroupValidator,
sentry/src/,460,"to support multiple projects, but this is pretty complicated",
sentry/src/,461,because of the assignee validation. Punting on this for now.,
sentry/src/,469,so we won't have to requery for each group,
sentry/src/,476,bulk mutations are limited to 1000 items,
sentry/src/,477,"TODO(dcramer): it'd be nice to support more than this, but its",
sentry/src/,478,a bit too complicated right now,
sentry/src/,489,filter projects down to only those that have groups in the search results,
sentry/src/,505,"TODO(jess): We may want to support this for multi project, but punting on it for now",
sentry/src/,521,no version yet,
sentry/src/,532,TODO(jess): We could update validation to check if release,
sentry/src/,533,"applies to multiple projects, but I think we agreed to punt",
sentry/src/,534,on this for now,
sentry/src/,542,no version yet,
sentry/src/,553,"TODO(jess): Same here, this is probably something we could do, but",
sentry/src/,554,punting for now.,
sentry/src/,576,"if we've specified a commit, let's see if its already been released",
sentry/src/,577,this will allow us to associate the resolution to a release as if we,
sentry/src/,578,were simply using 'inRelease' above,
sentry/src/,579,Note: this is different than the way commit resolution works on deploy,
sentry/src/,580,"creation, as a given deploy is connected to an explicit release, and",
sentry/src/,581,in this case we're simply choosing the most recent release which contains,
sentry/src/,582,the commit.,
sentry/src/,584,"TODO(jess): If we support multiple projects for release / commit resolution,",
sentry/src/,585,we need to update this to find the release for each project (we shouldn't assume,
sentry/src/,586,it's the same),
sentry/src/,645,TODO(dcramer): we need a solution for activity rollups,
sentry/src/,646,before sending notifications on bulk changes,
sentry/src/,764,TODO(dcramer): we need a solution for activity rollups,
sentry/src/,765,before sending notifications on bulk changes,
sentry/src/,821,TODO(dcramer): we could make these more efficient by first,
sentry/src/,822,"querying for rich rows are present (if N > 2), flipping the flag",
sentry/src/,823,"on those rows, and then creating the missing rows",
sentry/src/,827,"NOTE: Subscribing without an initiating event (assignment,",
sentry/src/,828,"commenting, etc.) clears out the previous subscription reason",
sentry/src/,829,to avoid showing confusing messaging as a result of this,
sentry/src/,830,"action. It'd be jarring to go directly from ""you are not",
sentry/src/,831,"subscribed"" to ""you were subscribed due since you were",
sentry/src/,832,"assigned"" just by clicking the ""subscribe"" button (and you",
sentry/src/,833,may no longer be assigned to the issue anyway.),
sentry/src/,846,"We always want to delete an existing share, because triggering",
sentry/src/,847,"an isPublic=True even when it's already public, should trigger",
sentry/src/,848,regenerating.,
sentry/src/,873,XXX(dcramer): this feels a bit shady like it should be its own,
sentry/src/,874,endpoint,
sentry/src/,876,don't allow merging cross project,
sentry/src/,82,"XXX: Due to a bug in `find_resolved`, this was always returning",
sentry/src/,83,"False. It's unused in our frontend, so just defaulting to False",
sentry/src/,84,so that we don't break any other consumers that expect this value.,
sentry/src/,17,Must return a 'sorty_by' selector for pagination that is a datetime,
sentry/src/,28,default,
sentry/src/,31,disable stats,
sentry/src/,48,hide issues if the project is pending removal,
sentry/src/,52,XXX(dcramer): this is very similar to the server-rendered views,
sentry/src/,53,logic for checking valid SSO,
sentry/src/,81,These are based on ProjectReleasePermission,
sentry/src/,82,additional checks to limit actions to releases,
sentry/src/,83,associated with projects people have access to,
sentry/src/,210,A project_id of -1 means 'all projects I have access to',
sentry/src/,211,While no project_ids means 'all projects I am a member of'.,
sentry/src/,260,"get the top level params -- projects, time range, and environment",
sentry/src/,261,from the request,
sentry/src/,294,Track the 'active' organization when the request came from,
sentry/src/,295,a cookie based agent (react app),
sentry/src/,296,Never track any org (regardless of whether the user does or doesn't have,
sentry/src/,297,membership in that org) when the user is in active superuser mode,
sentry/src/,40,"If no scopes were found at all, the endpoint should not be accessible.",
sentry/src/,44,"If there are no scopes listed, it implies a public endpoint.",
sentry/src/,62,GET is ideally a public endpoint but for now we are allowing for,
sentry/src/,63,anyone who has member permissions or above.,
sentry/src/,86,User must be a part of the Org they're trying to create the app in.,
sentry/src/,103,This baseclass is the the SentryApp collection endpoints:,
sentry/src/,104,,
sentry/src/,105,"[GET, POST] /sentry-apps",
sentry/src/,106,,
sentry/src/,107,The GET endpoint is public and doesn't require (or handle) any query,
sentry/src/,108,params or request body.,
sentry/src/,109,,
sentry/src/,110,The POST endpoint is for creating a Sentry App. Part of that creation,
sentry/src/,111,is associating it with the Organization that it's created within.,
sentry/src/,112,,
sentry/src/,113,"So in the case of POST requests, we want to pull the Organization out",
sentry/src/,114,of the request body so that we can ensure the User making the request,
sentry/src/,115,has access to it.,
sentry/src/,116,,
sentry/src/,117,Since ``convert_args`` is conventionally where you materialize model,
sentry/src/,118,"objects from URI params, we're applying the same logic for a param in",
sentry/src/,119,the request body.,
sentry/src/,120,,
sentry/src/,136,used for publishing an app,
sentry/src/,141,GET is ideally a public endpoint but for now we are allowing for,
sentry/src/,142,anyone who has member permissions or above.,
sentry/src/,171,"if app is unpublished, user must be in the Org who owns the app.",
sentry/src/,176,TODO(meredith): make a better way to allow for public,
sentry/src/,177,endpoints. we can't use ensure_scoped_permission now,
sentry/src/,178,that the public endpoint isn't denoted by '()',
sentry/src/,255,NOTE(mn): The only POST endpoint right now is to create External,
sentry/src/,256,"Issues, which uses this baseclass since it's nested under an",
sentry/src/,257,installation.,
sentry/src/,258,,
sentry/src/,259,The scopes below really only make sense for that endpoint. Any other,
sentry/src/,260,nested endpoints will probably need different scopes - figure out how,
sentry/src/,261,to deal with that when it happens.,
sentry/src/,266,"To let the app mark the installation as installed, we don't care about permissions",
sentry/src/,285,"if user is an app, make sure it's for that same app",
sentry/src/,323,"Request must be made as the app's Proxy User, using their Client ID",
sentry/src/,324,and Secret.,
sentry/src/,355,"Anyone logged in can increment the stats, so leave the scopes empty",
sentry/src/,356,Note: this only works for session-based auth so you cannot increment stats through API,
sentry/src/,47,this is only for team-less projects,
sentry/src/,59,this should probably never happen?,
sentry/src/,108,members can do writes,
sentry/src/,111,members can delete their own searches,
sentry/src/,129,Project may have been renamed,
sentry/src/,134,Without object permissions don't reveal the rename,
sentry/src/,137,get full path so that we keep query strings,
sentry/src/,144,Resource was moved/renamed if the requested url is different than the new url,
sentry/src/,148,otherwise project doesn't exist,
sentry/src/,170,"get the top level params -- projects, time range, and environment",
sentry/src/,171,from the request,
sentry/src/,37,"TODO(tkaemming): Ideally, this would return a 302 response, rather",
sentry/src/,38,than just returning the data that is bound to the new group. (It,
sentry/src/,39,"technically shouldn't be a 301, since the response could change again",
sentry/src/,40,as the result of another merge operation that occurs later. This,
sentry/src/,41,"wouldn't break anything though -- it will just be a ""permanent""",
sentry/src/,42,redirect to *another* permanent redirect.) This would require,
sentry/src/,43,rebuilding the URL in one of two ways: either by hacking it in with,
sentry/src/,44,"string replacement, or making the endpoint aware of the URL pattern",
sentry/src/,45,"that caused it to be dispatched, and reversing it with the correct",
sentry/src/,46,`issue_id` keyword argument.,
sentry/src/,73,"we didnt bind context above, so do it now",
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,9,NOQA,
sentry/src/,10,NOQA,
sentry/src/,11,NOQA,
sentry/src/,39,Deprecated. `sort` should be used as it is supported by,
sentry/src/,40,more endpoints.,
sentry/src/,56,TODO(mark) This parameter should be removed in the long term.,
sentry/src/,57,Instead of using this parameter clients should use `issue.id`,
sentry/src/,58,in their query string.,
sentry/src/,98,Ensure all columns in the result have types.,
sentry/src/,110,TODO(mark) move all of this result formatting into discover.query(),
sentry/src/,111,once those APIs are used across the application.,
sentry/src/,118,Look up the short ID and return that in the results,
sentry/src/,155,Backwards compatibility for incidents which uses the old,
sentry/src/,156,column aliases as it straddles both versions of events/discover.,
sentry/src/,157,We will need these aliases until discover2 flags are enabled for all,
sentry/src/,158,users.,
sentry/src/,175,Return with requested yAxis as the key,
sentry/src/,140,TODO(dcramer): this doesnt handle a failure from file.deletefile() to,
sentry/src/,141,the actual deletion of the db row,
sentry/src/,58,If the saved search has an owner then it's the user's pinned,
sentry/src/,59,search. The user can only have one pinned search.,
sentry/src/,64,If a search has the same query as the pinned search we,
sentry/src/,65,want to use that search as the pinned search,
sentry/src/,91,Prevent from creating duplicate queries,
sentry/src/,41,when we just created a clean cache,
sentry/src/,46,This creates a new available hash url for the project wizard,
sentry/src/,22,XXX: this scenario does not work for some inexplicable reasons,
sentry/src/,23,@attach_scenarios([list_tag_values_scenario]),
sentry/src/,42,if the environment doesn't exist then the tag can't possibly exist,
sentry/src/,26,retrieve all teams within the organization,
sentry/src/,23,TODO: conditions need to be based on actions,
sentry/src/,24,this will raise a ValidationError if password is invalid,
sentry/src/,38,make sure `passwordNew` matches `passwordVerify`,
sentry/src/,47,"pass some context to serializer otherwise when we create a new serializer instance,",
sentry/src/,48,user.password gets set to new plaintext password from request and,
sentry/src/,49,`user.has_usable_password` becomes False,
sentry/src/,48,"If we pinned an existing search, return the details about that",
sentry/src/,49,search.,
sentry/src/,34,if the environment doesn't exist then the tag can't possibly exist,
sentry/src/,45,Clear out all slugs first so that we can move them,
sentry/src/,46,around through the uniqueness,
sentry/src/,52,Set new ones,
sentry/src/,37,Bad email,
sentry/src/,125,"If email doesn't exist for user, attempt to add new email",
sentry/src/,142,Check if email is in use,
sentry/src/,143,TODO(dcramer): this needs rate limiting to avoid abuse,
sentry/src/,144,TODO(dcramer): this needs a lock/constraint,
sentry/src/,174,"NOTE(mattrobenolt): When changing your primary email address,",
sentry/src/,175,"we explicitly want to invalidate existing lost password hashes,",
sentry/src/,176,"so that in the event of a compromised inbox, an outstanding",
sentry/src/,177,password hash can't be used to gain access. We also feel this,
sentry/src/,178,is a large enough of a security concern to force logging,
sentry/src/,179,out other current sessions.,
sentry/src/,216,Don't allow deleting primary email?,
sentry/src/,87,TODO(dcramer0:),
sentry/src/,15,We explicitly don't allow a request with an ApiKey,
sentry/src/,16,"since an ApiKey is bound to the Organization, not",
sentry/src/,17,an individual. Not sure if we'd want to allow an ApiKey,
sentry/src/,18,to delete/update other users' comments,
sentry/src/,49,TODO adding mentions to a note doesn't do subscriptions,
sentry/src/,50,or notifications. Should it?,
sentry/src/,51,Remove mentions as they shouldn't go into the database,
sentry/src/,54,Would be nice to have a last_modified timestamp we could bump here,
sentry/src/,29,"if the status is ""pending"" we don't have a rule yet or error",
sentry/src/,70,DELETE checks for role comparison as you can either remove a member,
sentry/src/,71,"with a lower access role, or yourself, without having the req. scope",
sentry/src/,159,XXX(dcramer): if/when this expands beyond reinvite we need to check,
sentry/src/,160,access level,
sentry/src/,175,TODO(dcramer): proper error message,
sentry/src/,179,dupe code from member_index,
sentry/src/,180,ensure listed teams are real teams,
sentry/src/,191,teams may be empty,
sentry/src/,201,A user cannot promote others above themselves,
sentry/src/,207,A user cannot demote a superior,
sentry/src/,252,TODO(dcramer): do we even need this check?,
sentry/src/,120,TODO(dcramer): handle errors with release payloads,
sentry/src/,155,"we don't want to remove the first_release metadata on the Group, and",
sentry/src/,156,"while people might want to kill a release (maybe to remove files),",
sentry/src/,157,removing the release is prevented,
sentry/src/,161,TODO(dcramer): this needs to happen in the queue as it could be a long,
sentry/src/,162,and expensive operation,
sentry/src/,38,User is enrolled to auth interface:,
sentry/src/,39,- display interface details,
sentry/src/,40,- show enrolled specific details like:,
sentry/src/,41,"- created at, last used dates",
sentry/src/,42,- phone number for SMS,
sentry/src/,43,- recovery codes,
sentry/src/,109,Remove a single device and not entire authentication method,
sentry/src/,112,"Can't remove if this is the last device, will return False if so",
sentry/src/,127,"if the user's organization requires 2fa,",
sentry/src/,128,don't delete the last auth method,
sentry/src/,142,if we delete an actual authenticator and all that,
sentry/src/,143,"remains are backup interfaces, then we kill them in the",
sentry/src/,144,process.,
sentry/src/,152,wait to generate entries until all pending writes,
sentry/src/,153,have been sent to db,
sentry/src/,37,isInternal is not field of our model but it is a field of the serializer,
sentry/src/,64,log any errors with schema,
sentry/src/,28,"if the user request a plugin that doesn't exist, throw 404",
sentry/src/,34,"if no plugins were specified, grab all plugins but limit by those that have the ability to be configured",
sentry/src/,38,`keys_to_check` are the ProjectOption keys that tell us if a plugin is enabled (e.g. `plugin:enabled`) or are,
sentry/src/,39,"configured properly, meaning they have the required information - plugin.required_field - needed for the",
sentry/src/,40,plugin to work (ex:`opsgenie:api_key`),
sentry/src/,47,Get all the project options for org that have truthy values,
sentry/src/,65,first add to the set of all projects by plugin,
sentry/src/,70,next check if enabled,
sentry/src/,73,"if the projectoption is not the enable field, it's configuration field",
sentry/src/,77,get the IDs of all projects for found project options and grab them from the DB,
sentry/src/,81,create a key/value map of our projects,
sentry/src/,84,iterate through the desired plugins and serialize them,
sentry/src/,93,iterate through the projects,
sentry/src/,97,only include plugins which are configured,
sentry/src/,105,TODO(steve): do we need?,
sentry/src/,107,TODO(steve): do we need?,
sentry/src/,111,sort by the projectSlug,
sentry/src/,40,Largely copied from ProjectGroupIndexEndpoint,
sentry/src/,47,disable stats,
sentry/src/,51,"TODO: remove this, no longer supported probably",
sentry/src/,105,TODO(davidenwang): remove this after frontend requires only paginated projects,
sentry/src/,25,'active' will be either a boolean or list for the legacy browser filters,
sentry/src/,26,all other filters will be boolean,
sentry/src/,19,"they have organization access but not to this project, thus",
sentry/src/,20,they shouldn't be able to see this user,
sentry/src/,85,This is used when closing an account,
sentry/src/,93,O(N) query,
sentry/src/,171,XXX: endpoint useless for end-users as it needs user context.,
sentry/src/,244,failure on sending this signal is acceptable,
sentry/src/,54,"TODO(lb): better document displayType, displayOptions, and dataSources.",
sentry/src/,33,Note the label part of these ChoiceFields are not used by the frontend,
sentry/src/,89,map API keys to keys in model,
sentry/src/,193,TODO(dcramer): this doesnt handle a failure from file.deletefile() to,
sentry/src/,194,the actual deletion of the db row,
sentry/src/,16,get the sentry_app from the SentryAppBaseEndpoint class,
sentry/src/,29,Validate the token is associated with the application,
sentry/src/,25,TODO(hazat): Create audit entry?,
sentry/src/,17,should be provided during Authentication,
sentry/src/,29,NB: Do not validate pk here (is_active or store). Relay should,
sentry/src/,30,also receive a mapping for disabled public keys and then perform,
sentry/src/,31,the full project config fetch.,
sentry/src/,274,PUT checks for permissions based on fields,
sentry/src/,360,"options isn't part of the serializer, but should not be editable by members",
sentry/src/,488,resolveAge can be None,
sentry/src/,511,TODO(dcramer): rewrite options to use standard API config,
sentry/src/,102,release creation is idempotent to simplify user,
sentry/src/,103,experiences,
sentry/src/,134,TODO(dcramer): handle errors with release payloads,
sentry/src/,147,"This is the closest status code that makes sense, and we want",
sentry/src/,148,a unique 2xx response code so people can understand when,
sentry/src/,149,behavior differs.,
sentry/src/,150,208 Already Reported (WebDAV; RFC 5842),
sentry/src/,51,10 per minute should be enough for anyone,
sentry/src/,65,If email is specified then try to only send one confirmation email,
sentry/src/,78,These aliases are used by v1 of events.,
sentry/src/,43,Disable authentication and permission requirements.,
sentry/src/,52,users can already join organizations with SSO enabled without an invite,
sentry/src/,53,so they should join that way and not through a request to the admins,
sentry/src/,62,"5 per day, 60 x 60 x 24",
sentry/src/,96,default,
sentry/src/,99,disable stats,
sentry/src/,123,we ignore date range for both short id and event ids,
sentry/src/,126,check to see if we've got an event ID,
sentry/src/,129,For a direct hit lookup we want to use any passed project ids,
sentry/src/,130,(we've already checked permissions on these) plus any other,
sentry/src/,131,projects that the user is a member of. This gives us a better,
sentry/src/,132,"chance of returning the correct result, even if the wrong",
sentry/src/,133,project is selected.,
sentry/src/,150,check all projects user has access to,
sentry/src/,156,"If group ids specified, just ignore any query components",
sentry/src/,188,HACK: remove auto resolved entries,
sentry/src/,189,"TODO: We should try to integrate this into the search backend, since",
sentry/src/,190,this can cause us to arbitrarily return fewer results than requested.,
sentry/src/,203,TODO(jess): add metrics that are similar to project endpoint here,
sentry/src/,52,check for an exiting installation and return that if it exists,
sentry/src/,166,TODO(dcramer): handle errors with release payloads,
sentry/src/,222,"we don't want to remove the first_release metadata on the Group, and",
sentry/src/,223,"while people might want to kill a release (maybe to remove files),",
sentry/src/,224,removing the release is prevented,
sentry/src/,228,TODO(dcramer): this needs to happen in the queue as it could be a long,
sentry/src/,229,and expensive operation,
sentry/src/,36,we dont allow read permission with DSNs,
sentry/src/,14,Disable authentication and permission requirements.,
sentry/src/,35,Keep track of the invite email for when we land back on the login page,
sentry/src/,48,If they're already a member of the organization its likely,
sentry/src/,49,they're using a shared account and either previewing this invite,
sentry/src/,50,or are incorrectly expecting this to create a new account.,
sentry/src/,56,Allow users to register an account when accepting an invite,
sentry/src/,61,When SSO is required do *not* set a next_url to return to accept,
sentry/src/,62,invite. The invite will be accepted after SSO is completed.,
sentry/src/,70,"If the org has SSO setup, we'll store the invite cookie to later",
sentry/src/,71,associate the org member after authentication. We can avoid needing,
sentry/src/,72,to come back to the accept invite page since 2FA will *not* be,
sentry/src/,73,required if SSO is required.,
sentry/src/,124,"If a single environment was passed as part of the query, then",
sentry/src/,125,we'll just search for that individual environment in this,
sentry/src/,126,"query, even if more are selected.",
sentry/src/,128,An event can only be associated with a single,
sentry/src/,129,"environment, so if the environments associated with",
sentry/src/,130,the request don't contain the environment provided as a,
sentry/src/,131,"tag lookup, the query cannot contain any valid results.",
sentry/src/,134,XXX: Handle legacy backends here. Just store environment as a,
sentry/src/,135,single tag if we only have one so that we don't break existing,
sentry/src/,136,usage.,
sentry/src/,31,HACK(mattrobenolt): We don't want to surface the,
sentry/src/,32,"""No Environment"" environment to the UI since it",
sentry/src/,33,doesn't really exist. This might very likely change,
sentry/src/,34,"with new tagstore backend in the future, but until",
sentry/src/,35,"then, we're hiding it since it causes more problems",
sentry/src/,36,than it's worth.,
sentry/src/,30,We always fetch the stored hashes here.  The reason for this is,
sentry/src/,31,that we want to show in the UI if the forced grouping algorithm,
sentry/src/,32,produced hashes that would normally also appear in the event.,
sentry/src/,44,Since the hashes are generated on the fly and might no,
sentry/src/,45,longer match the stored ones we indicate if the hash,
sentry/src/,46,generation caused the hash to mismatch.,
sentry/src/,23,XXX: this scenario does not work for some inexplicable reasons,
sentry/src/,24,@attach_scenarios([list_tag_details_scenario]),
sentry/src/,43,if the environment doesn't exist then the tag can't possibly exist,
sentry/src/,97,Figure out which projects need to get updates from the snuba.,
sentry/src/,110,This gives us updates for all release-projects which have seen new,
sentry/src/,111,health data over the last days. It will miss releases where the last,
sentry/src/,112,date is longer than what `get_changed_project_release_model_adoptions`,
sentry/src/,113,considers recent.,
sentry/src/,116,Check which we already have rows for.,
sentry/src/,134,should not happen,
sentry/src/,137,We might have never observed the release.  This for instance can,
sentry/src/,138,happen if the release only had health data so far.  For these cases,
sentry/src/,139,we want to create the release the first time we observed it on the,
sentry/src/,140,health side.,
sentry/src/,145,Make sure that the release knows about this project.  Like we had before,
sentry/src/,146,the project might not have been associated with this release yet.,
sentry/src/,149,Debounce updates for a minute,
sentry/src/,191,This should get us all the projects into postgres that have received,
sentry/src/,192,health data in the last 24 hours.  If health data is not requested,
sentry/src/,193,we don't upsert releases.,
sentry/src/,325,release creation is idempotent to simplify user,
sentry/src/,326,experiences,
sentry/src/,391,"This is the closest status code that makes sense, and we want",
sentry/src/,392,a unique 2xx response code so people can understand when,
sentry/src/,393,behavior differs.,
sentry/src/,394,208 Already Reported (WebDAV; RFC 5842),
sentry/src/,102,"If this query contains a debug identifier, normalize it to allow for",
sentry/src/,103,more lenient queries (e.g. supporting Breakpad ids). Use the index to,
sentry/src/,104,speed up such queries.,
sentry/src/,112,"If a debug ID is specified, do not consider the stored code",
sentry/src/,113,identifier and strictly filter by debug identifier. Often there,
sentry/src/,114,are mismatches in the code identifier in PEs.,
sentry/src/,211,"Legacy endpoint, kept for backwards compatibility",
sentry/src/,271,"First, check the cached assemble status. During assembling, a",
sentry/src/,272,ProjectDebugFile will be created and we need to prevent a race,
sentry/src/,273,condition.,
sentry/src/,287,"Next, check if this project already owns the ProjectDebugFile.",
sentry/src/,288,This can under rare circumstances yield more than one file,
sentry/src/,289,which is why we use first() here instead of get().,
sentry/src/,306,"There is neither a known file nor a cached state, so we will",
sentry/src/,307,have to create a new file.  Assure that there are checksums.,
sentry/src/,308,"If not, we assume this is a poll and report NOT_FOUND",
sentry/src/,313,Check if all requested chunks have been uploaded.,
sentry/src/,322,"We don't have a state yet, this means we can now start",
sentry/src/,323,an assemble job in the background.,
sentry/src/,13,for consistency with organization details endpoint,
sentry/src/,17,"Currently just expose u2f challenge, not sure if it's necessary to list all",
sentry/src/,18,authenticator interfaces that are enabled,
sentry/src/,28,I don't think we currently support multiple interfaces of the same type,
sentry/src/,29,but just future proofing I guess,
sentry/src/,111,"XXX(dcramer): this has a race for most recent deploy, but",
sentry/src/,112,should be unlikely to hit in the real world,
sentry/src/,20,the target group will always be included,
sentry/src/,32,TODO(tkaemming): This should log when we filter out a group that is,
sentry/src/,33,unable to be retrieved from the database. (This will soon be,
sentry/src/,34,"unexpected behavior, but still possible.)",
sentry/src/,33,Check access to the project as this endpoint doesn't use membership checks done,
sentry/src/,34,get_filter_params().,
sentry/src/,38,We return the requested event if we find a match regardless of whether,
sentry/src/,39,it occurred within the range specified,
sentry/src/,20,'3',
sentry/src/,25,'0',
sentry/src/,30,'0',
sentry/src/,35,'1',
sentry/src/,40,'1',
sentry/src/,70,"'1' is true, '0' is false",
sentry/src/,74,This cannot be overridden,
sentry/src/,60,Request should have identifier field stored in TSDBModel,
sentry/src/,87,Timestamp is automatically created,
sentry/src/,32,will allow new events to be captured,
sentry/src/,27,could not find filter with the requested id,
sentry/src/,66,The minimum interval is one hour on the server,
sentry/src/,109,This happens if we have an ID collision or someone copies an existing id,
sentry/src/,14,optional queryparam `key` can be used to get results,
sentry/src/,15,only for specific keys.,
sentry/src/,18,There are 2 use-cases for this method. For the 'Tags' tab we,
sentry/src/,19,"get the top 10 values, for the tag distribution bars we get 9",
sentry/src/,20,This should ideally just be specified by the client,
sentry/src/,50,Replace project ids with slugs as that is what we generally expose to users,
sentry/src/,51,and filter out projects that the user doesn't have access too.,
sentry/src/,121,check if user is an owner of the team's org,
sentry/src/,140,check if user is an owner of the organization,
sentry/src/,46,"While currently the UI suggests teams are a parent of a project, in reality",
sentry/src/,47,"the project is the core component, and which team it is on is simply an",
sentry/src/,48,attribute. Because you can already change the team of a project via mutating,
sentry/src/,49,"it, and because Sentry intends to remove teams as a hierarchy item, we",
sentry/src/,50,"allow you to view a teams projects, as well as create a new project as long",
sentry/src/,51,as you are a member of that team and have project scoped permissions.,
sentry/src/,92,disable stats,
sentry/src/,151,XXX: create sample event?,
sentry/src/,27,Ignore plugins that are not available to this Sentry install.,
sentry/src/,30,Each tuple represents an enabled Plugin (of only the ones we care,
sentry/src/,31,about) and its corresponding Project.,
sentry/src/,19,We'll log project IDS if their config size is larger than this value,
sentry/src/,35,should be provided during Authentication,
sentry/src/,51,Preload all organizations and their options to prevent repeated,
sentry/src/,52,database access when computing the project configuration.,
sentry/src/,85,Try to prevent organization from being fetched again in quotas.,
sentry/src/,20,Disable authentication and permission requirements.,
sentry/src/,28,"if the user is a superuser, but not 'superuser authenticated' we",
sentry/src/,29,allow them to re-authenticate to gain superuser status,
sentry/src/,35,we always reset the state on GET so you dont end up at an odd location,
sentry/src/,38,Auth login verifies the test cookie is set,
sentry/src/,41,Single org mode -- send them to the org-specific handler,
sentry/src/,24,TODO(dcramer): make this validate origins,
sentry/src/,49,TODO(dcramer): move latestEvent/project into SharedGroupSerializer,
sentry/src/,53,Keep link/create separate since create will likely require,
sentry/src/,54,many external API calls that aren't necessary if the user is,
sentry/src/,55,just linking,
sentry/src/,86,"was thinking put for link an existing issue, post for create new issue?",
sentry/src/,164,TODO(jess): would be helpful to return serialized external issue,
sentry/src/,165,"once we have description, title, etc",
sentry/src/,238,TODO(jess): return serialized issue,
sentry/src/,254,note here externalIssue refers to `ExternalIssue.id` whereas above,
sentry/src/,255,it refers to the id from the provider,
sentry/src/,290,check if other groups reference this external issue,
sentry/src/,291,and delete if not,
sentry/src/,36,used in the SASS product,
sentry/src/,53,superusers can slice and dice,
sentry/src/,56,only allow active broadcasts if they're not a superuser,
sentry/src/,22,There is an activity record created for both sides of the unmerge,
sentry/src/,23,"operation, so we only need to include one of them here to avoid",
sentry/src/,24,showing the same entry twice.,
sentry/src/,26,This is a valid state where org does not have an auth provider,
sentry/src/,27,"configured, make sure we respond with a 20x",
sentry/src/,30,cache organization so that we don't need to query for org when serializing,
sentry/src/,32,Make sure the project actually belongs to the org that owns the Sentry App,
sentry/src/,34,Make sure the event actually exists,
sentry/src/,44,"If the project doesn't exist, don't add the error to the result",
sentry/src/,52,"If the org somehow doesn't exist, just don't add it to the result",
sentry/src/,16,Disable authentication and permission requirements.,
sentry/src/,26,Rate limit logins,
sentry/src/,32,10 per minute should be enough for anyone,
sentry/src/,34,teams may be empty,
sentry/src/,204,remove any invitation requests for this email before inviting,
sentry/src/,29,Removing the integration removes the organization,
sentry/src/,30,integrations and all linked issues.,
sentry/src/,29,Cannot skip unskippable tasks,
sentry/src/,21,The blob size must be a power of two,
sentry/src/,22,8MB,
sentry/src/,29,DIF assemble,
sentry/src/,30,Release files assemble,
sentry/src/,31,PDB upload and debug id override,
sentry/src/,32,Source artifact bundle upload,
sentry/src/,54,We fallback to default system url if config is not set,
sentry/src/,85,Create a unique instance so our logger can be decoupled from the request,
sentry/src/,86,and used in threads.,
sentry/src/,96,No files uploaded is ok,
sentry/src/,102,Validate file size,
sentry/src/,39,TODO(mattrobenolt): Expose this as a property on Key.,
sentry/src/,42,"TODO(mattrobenolt): help, placeholder, title, type",
sentry/src/,58,TODO(dcramer): this should validate options before saving them,
sentry/src/,65,TODO(dcramer): unify API errors,
sentry/src/,83,TODO(dcramer): this has nothing to do with configuring options and,
sentry/src/,84,should not be set here,
sentry/src/,41,TODO(dcramer): this code needs shared with other endpoints as its security focused,
sentry/src/,42,TODO(dcramer): this doesnt handle is_global roles,
sentry/src/,85,we dont allow read permission with DSNs,
sentry/src/,52,Used for paginating through events of a single issue in group details,
sentry/src/,53,Skip next/prev for issueless events,
sentry/src/,68,Ignore any time params and search entire retention period,
sentry/src/,38,dashboard_widgets and widget_data should now have the same widgets,
sentry/src/,15,TODO(dcramer): probably convert to tsdb,
sentry/src/,36,"XXX (alex, 08/05/19) key stats were being stored under either key_id or str(key_id)",
sentry/src/,37,so merge both of those back into one stats result.,
sentry/src/,20,See GroupNotesDetailsEndpoint:,
sentry/src/,21,We explicitly don't allow a request with an ApiKey,
sentry/src/,22,"since an ApiKey is bound to the Organization, not",
sentry/src/,23,an individual. Not sure if we'd want to allow an ApiKey,
sentry/src/,24,to delete/update other users' comments,
sentry/src/,35,Only allow modifying comments,
sentry/src/,91,must be a team admin or have global write access,
sentry/src/,32,This returns a dict with `subscriber` and `subscriptions`,
sentry/src/,33,Returns `None` if no subscriptions for user,
sentry/src/,31,XXX: it's not quite clear if this should be documented or not at,
sentry/src/,32,this time.,
sentry/src/,33,doc_section = DocSection.ACCOUNTS,
sentry/src/,61,If 2fa login is enabled then we cannot sign in with username and,
sentry/src/,62,password through this api endpoint.,
sentry/src/,73,Must use the real request object that Django knows about,
sentry/src/,105,See if we have a u2f challenge/response,
sentry/src/,120,attempt password authentication,
sentry/src/,124,"UI treats 401s by redirecting, this 401 should be ignored",
sentry/src/,129,Must use the real request object that Django knows about,
sentry/src/,21,Dists are pretty uncommon.  In case they do appear load them now,
sentry/src/,22,as trying to join this on the DB does terrible things with large,
sentry/src/,23,offsets (it would otherwise generate a left outer join).,
sentry/src/,12,check status of app to make sure it is unpublished,
sentry/src/,22,limit to only teams user has opted into,
sentry/src/,23,"We might be able to stop including these values, but this",
sentry/src/,24,"is a pretty old endpoint, so concerned about breaking",
sentry/src/,25,existing api consumers.,
sentry/src/,71,XXX: The 1000 magic number for `max_hits` is an abstraction leak,
sentry/src/,72,from `sentry.api.paginator.BasePaginator.get_result`.,
sentry/src/,88,statsPeriod=24h,
sentry/src/,129,default,
sentry/src/,132,disable stats,
sentry/src/,147,check to see if we've got an event ID,
sentry/src/,193,HACK: remove auto resolved entries,
sentry/src/,194,"TODO: We should try to integrate this into the search backend, since",
sentry/src/,195,this can cause us to arbitrarily return fewer results than requested.,
sentry/src/,40,"serializer field name, option key name, type, default value",
sentry/src/,158,"Historically, the only check just made sure there was more than 1",
sentry/src/,159,"character for the slug, but since then, there are many slugs that",
sentry/src/,160,"fit within this new imposed limit. We're not fixing existing, but",
sentry/src/,161,just preventing new bad values.,
sentry/src/,262,check if ORG_OPTIONS changed,
sentry/src/,296,check if fields changed,
sentry/src/,303,check if flag fields changed,
sentry/src/,13,"TODO(dcramer): once LatestRepoReleaseEnvironment is backfilled, change this query to use the new",
sentry/src/,14,schema [performance],
sentry/src/,44,OrganizationPermission + team:write,
sentry/src/,93,TODO(dcramer): this should be system-wide default for organization,
sentry/src/,94,based endpoints,
sentry/src/,21,if the environment doesn't exist then the tag can't possibly exist,
sentry/src/,50,NOTE: By sending the `end_delete_tag` message here we are making,
sentry/src/,51,the assumption that the `delete_tag_key` does its work,
sentry/src/,52,synchronously. As of this writing the Snuba `delete_tag_key` method,
sentry/src/,53,is a no-op and this message itself is what causes the deletion to,
sentry/src/,54,be done downstream.,
sentry/src/,53,we dont allow read permission with DSNs,
sentry/src/,46,TODO(dcramer): this should go onto AccessRequestPermission,
sentry/src/,80,Return empty response if user does not have access,
sentry/src/,65,"There is neither a known file nor a cached state, so we will",
sentry/src/,66,have to create a new file.  Assure that there are checksums.,
sentry/src/,67,"If not, we assume this is a poll and report NOT_FOUND",
sentry/src/,28,TODO(dcramer): we want to sort by datetime,
sentry/src/,29,"XXX(dcramer): these are aliased, and we prefer 'active' over 'visible'",
sentry/src/,105,"if repo doesn't have commits, delete immediately",
sentry/src/,36,stop this from bubbling up errors to social-auth's middleware,
sentry/src/,37,XXX(dcramer): IM SO MAD ABOUT THIS,
sentry/src/,47,"XXX(dcramer): we experienced an issue where the identity still existed,",
sentry/src/,48,"and given that this is a cheap query, lets error hard in that case",
sentry/src/,36,TODO(mn): Remove once old Plugins are removed or everyone migrates to,
sentry/src/,37,the new Integrations. Hopefully someday?,
sentry/src/,55,Don't rely on the Integration's API being available. If,
sentry/src/,56,"it's not, the page should still render.",
sentry/src/,69,... this probably needs to handle newsletters and such?,
sentry/src/,99,"no idea wtf is up with django rest framework, but we need is_active",
sentry/src/,100,and isActive,
sentry/src/,147,This serializer should NOT include privileged fields e.g. password,
sentry/src/,151,map API keys to keys in model,
sentry/src/,188,from `frontend/remove_account.py`,
sentry/src/,226,Only active superusers can hard delete accounts,
sentry/src/,242,if the user deleted their own account log them out,
sentry/src/,15,TODO(jess): figure out better way to exclude this,
sentry/src/,97,we generate and validate the slug here instead of the serializer since the slug never changes,
sentry/src/,102,log any errors with schema,
sentry/src/,41,members cannot invite roles higher than their own,
sentry/src/,35,Filtering by the projects that self.get_projects returns deals with,
sentry/src/,36,permission concerns,
sentry/src/,31,"For sake of the API, we don't differentiate between",
sentry/src/,32,"the implicit ""everyone"" and no owners",
sentry/src/,38,Make sure the serialized owners are in the correct order,
sentry/src/,49,TODO(mattrobenolt): We need to change the API here to return,
sentry/src/,50,"all rules, just keeping this way currently for API compat",
sentry/src/,51,hack so the token is included in the response,
sentry/src/,65,TODO(dcramer): remove in 9.0,
sentry/src/,79,we select excess so we can filter dupes,
sentry/src/,82,TODO: we could just generate a signature (hash(text)) for notes,
sentry/src/,83,so there's no special casing,
sentry/src/,179,TODO(dcramer): handle unauthenticated/public response,
sentry/src/,185,WARNING: the rest of this endpoint relies on this serializer,
sentry/src/,186,populating the cache SO don't move this :),
sentry/src/,189,TODO: these probably should be another endpoint,
sentry/src/,251,the current release is the 'latest seen' release within the,
sentry/src/,252,environment even if it hasnt affected this issue,
sentry/src/,311,TODO(dcramer): we need to implement assignedTo in the bulk mutation,
sentry/src/,312,endpoint,
sentry/src/,325,"if action was discard, there isn't a group to serialize anymore",
sentry/src/,329,we need to fetch the object against as the bulk mutation endpoint,
sentry/src/,330,"only returns a delta, and object mutation returns a complete updated",
sentry/src/,331,entity.,
sentry/src/,332,TODO(dcramer): we should update the API and have this be an explicit,
sentry/src/,333,flag (or remove it entirely) so that delta's are the primary response,
sentry/src/,334,for mutation.,
sentry/src/,113,Not all interfaces allow multi enrollment,
sentry/src/,117,User is not enrolled in auth interface:,
sentry/src/,118,- display configuration form,
sentry/src/,122,U2fInterface has no 'secret' attribute,
sentry/src/,133,XXX: Upgrading python-u2flib-server to 5.0.0 changes the response,
sentry/src/,134,"format. Our current js u2f library expects the old format, so",
sentry/src/,135,massaging the data to include appId here,
sentry/src/,154,Using `request.user` here because superuser should not be able to set a user's 2fa,
sentry/src/,156,start activation,
sentry/src/,169,Not all interfaces allow multi enrollment,
sentry/src/,170,,
sentry/src/,171,This is probably un-needed because we catch,
sentry/src/,172,`Authenticator.AlreadyEnrolled` when attempting to enroll,
sentry/src/,182,Need to update interface with phone number before validating OTP,
sentry/src/,186,"Disregarding value of 'otp', if no OTP was provided,",
sentry/src/,187,send text message to phone number with OTP,
sentry/src/,192,Error sending text message,
sentry/src/,195,Attempt to validate OTP,
sentry/src/,199,Try u2f enrollment,
sentry/src/,201,What happens when this fails?,
sentry/src/,230,If there is a pending organization invite accept after the,
sentry/src/,231,authenticator has been configured.,
sentry/src/,86,set of org ids that user is a member of,
sentry/src/,90,"We want ""0"" to be falsey",
sentry/src/,93,make sure user is in org,
sentry/src/,104,list contains org ids that should have reports DISABLED,
sentry/src/,105,so if enabled need to check if org_id exists in list (because by default,
sentry/src/,106,they will have reports enabled),
sentry/src/,130,make sure that the ids we are going to update are a subset of the user's,
sentry/src/,131,list of orgs or projects,
sentry/src/,145,make sure target emails exist and are verified,
sentry/src/,151,Is there a better way to check this?,
sentry/src/,168,"'email' doesn't have a default to delete, and it's a string",
sentry/src/,169,"-1 is a magic value to use ""default"" value, so just delete option",
sentry/src/,175,Values have been saved as strings for `mail:alerts` *shrug*,
sentry/src/,176,`reports:disabled-organizations` requires an array of ids,
sentry/src/,48,Including the organization_id is necessary for postgres to use indexes,
sentry/src/,49,efficiently.,
sentry/src/,53,HACK(mattrobenolt): We don't want to surface the,
sentry/src/,54,"""No Environment"" environment to the UI since it",
sentry/src/,55,doesn't really exist. This might very likely change,
sentry/src/,56,"with new tagstore backend in the future, but until",
sentry/src/,57,"then, we're hiding it since it causes more problems",
sentry/src/,58,than it's worth.,
sentry/src/,30,If we actually render this in the main UI we can also provide,
sentry/src/,31,extra information about the project (org slug and project slug),
sentry/src/,40,"XXX(dcramer): this data is unused, so lets not bother returning it for now",
sentry/src/,41,serialize the commit objects,
sentry/src/,42,serialized_annotated_frames = [,
sentry/src/,43,{,
sentry/src/,44,"'frame': frame['frame'],",
sentry/src/,45,'commits': serialize(frame['commits']),
sentry/src/,46,} for frame in annotated_frames,
sentry/src/,47,],
sentry/src/,51,'annotatedFrames': serialized_annotated_frames,
sentry/src/,17,allow deletes with write permission because it's just removing,
sentry/src/,18,a team from a project and not anything more destructive,
sentry/src/,33,Check for a direct hit on event ID,
sentry/src/,55,return empty result if org doesn't have projects,
sentry/src/,56,or user doesn't have access to projects in org,
sentry/src/,99,"The base API function only uses the last query parameter, but this endpoint",
sentry/src/,100,"needs all the parameters, particularly for the ""field"" query param.",
sentry/src/,75,if project_id or organization_id in required fields make sure they exist,
sentry/src/,76,"if NOT in required fields, insert dummy value so dups aren't recorded",
sentry/src/,18,Convert a lookup and value into,
sentry/src/,19,a string that can be used back in a request query.,
sentry/src/,58,We have no reliable way to map the tag value format,
sentry/src/,59,back into real EventUser rows. EventUser is only unique,
sentry/src/,60,"per-project, and this is an organization aggregate.",
sentry/src/,61,This means a single value maps to multiple rows.,
sentry/src/,98,EventUser needs to be encoded as a,
sentry/src/,99,"project_id, value tuple.",
sentry/src/,198,User is a complex query and can't be treated as a single value.,
sentry/src/,199,And EventUser is a tuple of project_id and the tag value. So we need,
sentry/src/,200,to make sure we always keep them together and query them as a single unit.,
sentry/src/,204,"error.type is special in that in ClickHouse, it's an array. But we need",
sentry/src/,205,to make sure that we don't do any queries across a NULL value or an empty array,
sentry/src/,206,so we must filter them out explicitly. We also are choosing to explicitly take the,
sentry/src/,207,"first element of the exception_stacks array as the ""primary"" error type for the event.",
sentry/src/,208,This is slightly inaccurate due to the fact that a single error may have multiple,
sentry/src/,209,errors.,
sentry/src/,218,"Similar to error.type, we need to also guard against NULL types, but for this case,",
sentry/src/,219,"the NULL type is actually significant for us, which means ""unknown"". So we want",
sentry/src/,220,to also retain and capture this.,
sentry/src/,228,Simple tags don't need any special treatment,
sentry/src/,14,"sets aren't predictable, so generally you should use a list, but it's",
sentry/src/,15,supported out of convenience,
sentry/src/,20,find the first object that is in the registry,
sentry/src/,31,avoid passing NoneType's to the serializer as they're allowed and,
sentry/src/,32,filtered out of serialize(),
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,44,"XXX(epurkhiser): Very hacky, but we really just want validation",
sentry/src/,45,"errors that are more specific, not just 'this wasn't filled out',",
sentry/src/,46,give a more generic error for those.,
sentry/src/,56,Update data from cleaned form values,
sentry/src/,98,XXX(meredith): For rules that have the Slack integration as an action,
sentry/src/,99,we need to check if the channel_id needs to be looked up via an async task.,
sentry/src/,100,"If the ""pending_save"" attribute is set we want to bubble that up to the",
sentry/src/,101,project_rule(_details) endpoints by setting it on attrs,
sentry/src/,104,remove this attribute because we don't want it to be saved in the rule,
sentry/src/,9,"Special case origins that don't fit the normal regex pattern, but are valid",
sentry/src/,25,ports are not supported on matching expressions (yet),
sentry/src/,51,Validate that all mentioned users exist and are on the project.,
sentry/src/,64,Validate that all mentioned teams exist and are on the project.,
sentry/src/,3,NOQA,
sentry/src/,7,JSONField taken from Django rest framework version 3.9.0,
sentry/src/,8,See https://github.com/encode/django-rest-framework/blob/0eb2dc1137189027cc8d638630fb1754b02d6cfa/rest_framework/fields.py,
sentry/src/,9,or https://www.django-rest-framework.org/api-guide/fields/#jsonfield,
sentry/src/,10,for more information,
sentry/src/,13,can only set status to installed,
sentry/src/,62,The Django URLField doesn't distinguish between different types of,
sentry/src/,63,"invalid URLs, so do any manual checks here to give the User a better",
sentry/src/,64,error message.,
sentry/src/,90,an abstraction to pull fields from attrs if they are available or the sentry_app if not,
sentry/src/,95,params might be passed as camel case but we always store as snake case,
sentry/src/,105,-1 comes from the - before the UUID bit,
sentry/src/,122,"if the existing instance already has this scope, skip the check",
sentry/src/,125,add an error if the requester lacks permissions being requested,
sentry/src/,138,validates events against scopes,
sentry/src/,152,validate if webhookUrl is missing that we don't have any webhook features enabled,
sentry/src/,155,"for internal apps, make sure there aren't any events if webhookUrl is null",
sentry/src/,160,also check that we don't have the alert rule enabled,
sentry/src/,168,validate author for public integrations,
sentry/src/,12,Should we expose this?,
sentry/src/,13,"'schema': obj.schema,",
sentry/src/,49,TODO: Remove when frontend isn't using,
sentry/src/,58,TODO: Remove when frontend isn't using,
sentry/src/,60,TODO: Remove when frontend isn't using,
sentry/src/,31,XXX(dcramer): we currently serialize unsaved rule objects,
sentry/src/,32,as part of the rule editor,
sentry/src/,31,authenticator is enrolled,
sentry/src/,112,TODO(dcramer): move this to DetailedUserSerializer,
sentry/src/,144,ignore things that aren't user controlled (like recovery codes),
sentry/src/,166,org can reset 2FA if the user is only in one org,
sentry/src/,173,XXX(dcramer): we dont use is_active_superuser here as we simply,
sentry/src/,174,"want to tell the UI that we're an authenticated superuser, and",
sentry/src/,175,"for requests that require an *active* session, they should prompt",
sentry/src/,176,on-demand. This ensures things like links to the Sentry admin can,
sentry/src/,177,still easily be rendered.,
sentry/src/,46,The integration may not implement a Installed Integration object,
sentry/src/,47,representation.,
sentry/src/,58,"XXX(epurkhiser): This is O(n) for integrations, especially since",
sentry/src/,59,we're using the IntegrationConfigSerializer which pulls in the,
sentry/src/,60,integration installation config object which very well may be making,
sentry/src/,61,API request for config options.,
sentry/src/,70,slack doesn't have an installation implementation,
sentry/src/,73,just doing this to avoid querying for an object we already have,
sentry/src/,141,TODO(jess): move into an external issue serializer?,
sentry/src/,53,map of org id to role,
sentry/src/,141,TODO(dcramer): we should query in bulk for ones we're missing here,
sentry/src/,27,org option default values,
sentry/src/,67,Retrieve all registered organization features,
sentry/src/,75,Remove the organization scope prefix,
sentry/src/,78,Do not include the onboarding feature if OrganizationOptions exist,
sentry/src/,85,Include api-keys feature if they previously had any api-keys,
sentry/src/,89,Organization flag features (not provided through the features module),
sentry/src/,114,Unique user list,
sentry/src/,68,"TODO(dcramer): probably should log this, but not worth",
sentry/src/,69,erring out,
sentry/src/,101,The query we should use to get accurate results in Discover.,
sentry/src/,18,TODO(dcramer); assert on relations,
sentry/src/,91,XXX: We had a problem where Users were embedded into the mentions,
sentry/src/,92,attribute of group notes which needs to be removed,
sentry/src/,93,While group_note update has been fixed there are still many skunky comments,
sentry/src/,94,in the database.,
sentry/src/,110,TODO(dcramer); assert on relations,
sentry/src/,121,"we need to compute stats at 1d (1h resolution), and 14d",
sentry/src/,166,Retrieve all registered organization features,
sentry/src/,174,Remove the project scope prefix,
sentry/src/,258,TODO(jess): remove this when this is deprecated,
sentry/src/,278,Including the organization_id is necessary for postgres to use indexes,
sentry/src/,279,efficiently.,
sentry/src/,284,HACK(lb): avoiding the no environment value,
sentry/src/,338,We just return the version key here so that we cut down on response size,
sentry/src/,386,XXX: This query could be very inefficient for projects with a large,
sentry/src/,387,"number of releases. To work around this, we only check 20 releases",
sentry/src/,388,"ordered by highest release id, which is generally correlated with",
sentry/src/,389,most recent releases for a project. This could potentially result in,
sentry/src/,390,"not having the correct most recent release, but in practice will",
sentry/src/,391,likely work fine.,
sentry/src/,431,we need the epoch to fill in the defaults correctly,
sentry/src/,12,feature gating work done in getsentry expects the format 'featureGate',
sentry/src/,36,XXX(dcramer): These are called entries for future-proofing,
sentry/src/,43,we treat user as a special contextual item,
sentry/src/,48,data might not be returned for e.g. a public HTTP repr,
sentry/src/,49,"However, spans can be an empty list and should still be included.",
sentry/src/,81,data might not be returned for e.g. a public HTTP repr,
sentry/src/,90,"If we have meta, we need to get the tags in their original order",
sentry/src/,91,from the raw event body as the indexes need to line up with the,
sentry/src/,92,metadata indexes. In other cases we can use event.tags,
sentry/src/,111,Add 'query' for each tag to tell the UI what to use as query,
sentry/src/,112,params for this tag.,
sentry/src/,172,TODO(dcramer): convert to get_api_context,
sentry/src/,213,TODO(ja): Temporary workaround to hide certain normalization errors.,
sentry/src/,214,Remove this and the test in tests/sentry/api/serializers/test_event.py,
sentry/src/,225,Sentry at one point attempted to record invalid types here.,
sentry/src/,226,Remove after June 2 2016,
sentry/src/,240,See GH-3248,
sentry/src/,247,TODO(dcramer): move into contexts['extra'],
sentry/src/,267,Serialize attributes that are specific to different types of events.,
sentry/src/,364,XXX for 'message' this doesn't do the proper resolution of logentry,
sentry/src/,365,etc. that _get_legacy_message_with_meta does.,
sentry/src/,374,Needed to generate minidump links in UI,
sentry/src/,398,XXX for 'message' this doesn't do the proper resolution of logentry,
sentry/src/,399,etc. that _get_legacy_message_with_meta does.,
sentry/src/,11,XXX(dcramer): At some point Organization.flags was serialized as a BitHandler,
sentry/src/,15,There was a point in time where full Team objects,
sentry/src/,16,"got serialized into our AuditLogEntry.data, so these",
sentry/src/,17,values need to be stripped and reduced down to integers,
sentry/src/,28,TODO(dcramer); assert on relations,
sentry/src/,9,notification_option_key is one of:,
sentry/src/,10,- mail:alert,
sentry/src/,11,- workflow:notifications,
sentry/src/,12,- deploy-emails,
sentry/src/,13,- reports:disabled-organizations,
sentry/src/,14,- mail:email,
sentry/src/,44,UserOption for key=reports:disabled-organizations saves a list of orgIds,
sentry/src/,45,that should not receive reports,
sentry/src/,46,This UserOption should have both project + organization = None,
sentry/src/,61,TODO(jess): remove when snuba is primary backend,
sentry/src/,93,"Collect all of the projects to look up, and keep a set of groups that",
sentry/src/,94,are part of that project. (Note that the common -- but not only --,
sentry/src/,95,case here is that all groups are part of the same project.),
sentry/src/,100,Fetch the options for each project -- we'll need this to identify if,
sentry/src/,101,a user has totally disabled workflow notifications for a project.,
sentry/src/,102,NOTE: This doesn't use `values_list` because that bypasses field,
sentry/src/,103,"value decoding, so the `value` field would not be unpickled.",
sentry/src/,113,"If there is a subscription record associated with the group, we can",
sentry/src/,114,"just use that to know if a user is subscribed or not, as long as",
sentry/src/,115,notifications aren't disabled for the project.,
sentry/src/,134,This is the user's default value for any projects that don't have,
sentry/src/,135,the option value specifically recorded. (The default,
sentry/src/,136,"""participating_only"" value is convention.)",
sentry/src/,200,"due to our laziness, and django's inability to do a reasonable join here",
sentry/src/,201,we end up with two queries,
sentry/src/,243,"if no groups, then we can't proceed but this seems to be a valid use case",
sentry/src/,247,this should never happen but if it does we should know about it,
sentry/src/,253,should only have 1 org at this point,
sentry/src/,256,find all the integration installss that have issue tracking,
sentry/src/,275,find the external issues for sentry apps and add them in,
sentry/src/,292,add the annotations for plugins,
sentry/src/,293,note that the model GroupMeta where all the information is stored is already cached at the top of this function,
sentry/src/,294,so these for loops doesn't make a bunch of queries,
sentry/src/,342,counts return the delta remaining when window is not set,
sentry/src/,386,"If user is not logged in and member of the organization,",
sentry/src/,387,do not return the permalink which contains private information i.e. org name.,
sentry/src/,391,If user is a sentry_app then it's a proxy user meaning we can't do a org lookup via `get_orgs()`,
sentry/src/,392,because the user isn't an org member. Instead we can use the auth token and the installation,
sentry/src/,393,it's associated with to find out what organization the token has access to.,
sentry/src/,501,TODO: missing?,
sentry/src/,520,"we need to compute stats at 1d (1h resolution), and 14d",
sentry/src/,29,TODO: Remove once we've completely deprecated Sentry 9,
sentry/src/,34,TODO: Remove once we've completely deprecated Sentry 9,
sentry/src/,36,TODO: Remove once we've completely deprecated Sentry 9,
sentry/src/,39,TODO: Remove once we've completely deprecated Sentry 9,
sentry/src/,12,TODO(dcramer): assert on relations,
sentry/src/,18,label is here for compatibility,
sentry/src/,40,Filter users based on the emails provided in the commits,
sentry/src/,45,Filter users belonging to the organization associated with,
sentry/src/,46,the release,
sentry/src/,55,Figure out which email address matches to a user,
sentry/src/,60,user can be None if there's a user associated,
sentry/src/,61,with user_email in separate organization,
sentry/src/,63,"TODO(dcramer): probably should log this, but not worth",
sentry/src/,64,erring out,
sentry/src/,18,"when sentry auto assigns, auto resolves, etc.",
sentry/src/,19,or when an alert rule is triggered,
sentry/src/,12,Returns a human readable description to display in the UI,
sentry/src/,14,TODO(dcramer): assert on relations,
sentry/src/,59,results is a map of member id -> team_slug[],
sentry/src/,87,"Note: For this to be efficient, call",
sentry/src/,88,`.prefetch_related(,
sentry/src/,89,"'teams',",
sentry/src/,90,"'teams__projectteam_set',",
sentry/src/,91,"'teams__projectteam_set__project',",
sentry/src/,92,)` on your queryset before using this serializer,
sentry/src/,96,Filter in python here so that we don't break the prefetch,
sentry/src/,24,TODO(dcramer): add in various context from the event,
sentry/src/,25,context == user / http / extra interfaces,
sentry/src/,49,TODO(dcramer); assert on relations,
sentry/src/,30,"If we have an integer, fall back to assuming it's a User",
sentry/src/,34,"If the actor_identifier is a simple integer as a string,",
sentry/src/,35,we're also a User,
sentry/src/,3,NOQA,
sentry/src/,29,"method: (type, function(callargs) -> set[model])",
sentry/src/,61,"model: (read, write)",
sentry/src/,72,default backend (possibly invoke base directly instead?),
sentry/src/,90,We have to apply these methods into RedisSnubaTSDB through,
sentry/src/,91,a metaclass since we can't simply overload `__getattr__` due to,
sentry/src/,92,the fact that the subclass BaseTSDB already defines all the methods.,
sentry/src/,93,So we need to actually apply methods on top to override them.,
sentry/src/,18,`dataset` - the dataset in Snuba that we want to query,
sentry/src/,19,`groupby` - the column in Snuba that we want to put in the group by statement,
sentry/src/,20,`aggregate` - the column in Snuba that we want to run the aggregate function on,
sentry/src/,21,`conditions` - any additional model specific conditions we want to pass in the query,
sentry/src/,38,``non_outcomes_query_settings`` are all the query settings for for non outcomes based TSDB models.,
sentry/src/,39,"Single tenant reads Snuba for these models, and writes to DummyTSDB. It reads and writes to Redis for all the",
sentry/src/,40,other models.,
sentry/src/,64,``project_filter_model_query_settings`` and ``outcomes_partial_query_settings`` are all the TSDB models for,
sentry/src/,65,outcomes,
sentry/src/,130,``model_query_settings`` is a translation of TSDB models into required settings for querying snuba,
sentry/src/,146,"The Outcomes dataset aggregates outcomes into chunks of an hour. So, for rollups less than an hour, we want to",
sentry/src/,147,"query the raw outcomes dataset, with a few different settings (defined in lower_rollup_query_settings).",
sentry/src/,221,XXX: to counteract the hack in project_key_stats.py,
sentry/src/,229,10s is the only rollup under an hour that we support,
sentry/src/,247,"Special case, because count has different semantics, we change:",
sentry/src/,248,`COUNT(model_aggregate)` to `COUNT() GROUP BY model_aggregate`,
sentry/src/,260,For historical compatibility with bucket-counted TSDB implementations,
sentry/src/,261,we grab the original bucketed series and add the rollup time to the,
sentry/src/,262,timestamp of the last bucket to get the end time.,
sentry/src/,276,copy because we modify the conditions in snuba.query,
sentry/src/,305,Zerofill missing keys,
sentry/src/,324,Skip over time group,
sentry/src/,333,10s is the only rollup under an hour that we support,
sentry/src/,356,convert,
sentry/src/,357,"{group:{timestamp:count, ...}}",
sentry/src/,358,into,
sentry/src/,359,"{group: [(timestamp, count), ...]}",
sentry/src/,375,convert,
sentry/src/,376,"{group:{timestamp:count, ...}}",
sentry/src/,377,into,
sentry/src/,378,"{group: [(timestamp, count), ...]}",
sentry/src/,421,convert,
sentry/src/,422,"{group:[top1, ...]}",
sentry/src/,423,into,
sentry/src/,424,"{group: [(top1, score), ...]}",
sentry/src/,445,convert,
sentry/src/,446,"{group:{timestamp:[top1, ...]}}",
sentry/src/,447,into,
sentry/src/,448,"{group: [(timestamp, {top1: score, ...}), ...]}",
sentry/src/,470,convert,
sentry/src/,471,{group:{timestamp:{agg:count}}},
sentry/src/,472,into,
sentry/src/,473,"{group: [(timestamp, {agg: count, ...}), ...]}",
sentry/src/,24,number of events seen specific to grouping,
sentry/src/,29,the number of events sent to the server,
sentry/src/,31,the number of events rejected due to rate limiting,
sentry/src/,33,the number of events blocked due to being blacklisted,
sentry/src/,35,the number of events forwarded to third party processors (data forwarding),
sentry/src/,38,the number of events sent to the server,
sentry/src/,40,the number of events rejected due to rate limiting,
sentry/src/,42,the number of events blocked due to being blacklisted,
sentry/src/,45,distinct count of users that have been affected by an event in a group,
sentry/src/,47,distinct count of users that have been affected by an event in a project,
sentry/src/,50,frequent_organization_received_by_system = 400,
sentry/src/,51,frequent_organization_rejected_by_system = 401,
sentry/src/,52,frequent_organization_blacklisted_by_system = 402,
sentry/src/,53,frequent_values_by_issue_tag = 405,
sentry/src/,55,"number of events seen for a project, by organization",
sentry/src/,56,frequent_projects_by_organization = 403  # DEPRECATED,
sentry/src/,57,"number of issues seen for a project, by project",
sentry/src/,59,"number of events seen for a release, by issue",
sentry/src/,60,frequent_releases_by_group = 406  # DEPRECATED,
sentry/src/,61,"number of events seen for a release, by issue",
sentry/src/,63,"number of events seen for an environment, by issue",
sentry/src/,66,the number of events sent to the server,
sentry/src/,68,the number of events rejected due to rate limiting,
sentry/src/,70,the number of events blocked due to being blacklisted,
sentry/src/,73,the number of events filtered by ip,
sentry/src/,75,the number of events filtered by release,
sentry/src/,77,the number of events filtered by error message,
sentry/src/,79,the number of events filtered by browser extension,
sentry/src/,81,the number of events filtered by legacy browser,
sentry/src/,83,the number of events filtered by localhost,
sentry/src/,85,the number of events filtered by web crawlers,
sentry/src/,87,the number of events filtered by invalid csp,
sentry/src/,89,the number of events filtered by invalid origin,
sentry/src/,91,the number of events filtered because their group was discarded,
sentry/src/,96,the number of views that a Sentry App receives,
sentry/src/,98,the number of interactions a Sentry App UI Component receives,
sentry/src/,170,The ``SENTRY_TSDB_LEGACY_ROLLUPS`` setting should be used to store,
sentry/src/,171,previous rollup configuration values after they are modified in,
sentry/src/,172,``SENTRY_TSDB_ROLLUPS``. The values can be removed after the new,
sentry/src/,173,rollup period is full of new data.,
sentry/src/,224,This loop attempts to find the smallest possible rollup that will,
sentry/src/,225,contain both the start and end timestamps. ``self.rollups`` is,
sentry/src/,226,ordered from the highest resolution (smallest interval) to lowest,
sentry/src/,227,resolution (largest interval.),
sentry/src/,228,"XXX: There is a bug here, since this function assumes that the end",
sentry/src/,229,timestamp is always equal to or greater than the current time. If the,
sentry/src/,230,time range is shifted far enough into the past (e.g. a 30 second,
sentry/src/,231,"window, retrieved several days after it's occurrence), this can",
sentry/src/,232,"return a rollup that has already been evicted due to TTL, even if a",
sentry/src/,233,lower resolution representation of the range exists.,
sentry/src/,238,"If nothing actually matches the requested range, just return the",
sentry/src/,239,lowest resolution interval.,
sentry/src/,249,This attempts to create a range with a duration as close as possible,
sentry/src/,250,to the requested interval using the requested (or inferred) rollup,
sentry/src/,251,"resolution. This result always includes the ``end`` timestamp, but",
sentry/src/,252,may not include the ``start`` timestamp.,
sentry/src/,48,allow the wrapped manager to perform any cleanup tasks regardless,
sentry/src/,49,of whether or not we are suppressing an exception raised within,
sentry/src/,50,the managed block,
sentry/src/,192,We specialize integers so that a pure int-map can be optimized by,
sentry/src/,193,"Redis, whereas long strings (say tag values) will store in a more",
sentry/src/,194,efficient hashed format.,
sentry/src/,196,enforce utf-8 encoding,
sentry/src/,235,"(hash_key, hash_field) -> count",
sentry/src/,237,"(hash_key) -> ""max expiration encountered""",
sentry/src/,277,redis backend doesn't support multiple envs,
sentry/src/,395,``timestamp`` is not actually a timestamp :(,
sentry/src/,456,XXX: The current versions of the Redis driver don't implement,
sentry/src/,457,``PFCOUNT`` correctly (although this is fixed in the Git,
sentry/src/,458,"master, so should be available in the next release) and only",
sentry/src/,459,supports a single key argument -- not the variadic signature,
sentry/src/,460,supported by the protocol -- so we have to call the command,
sentry/src/,461,directly here instead.,
sentry/src/,523,all values will be merged into this key,
sentry/src/,526,Choose a random host to execute the reduction on. (We use a host,
sentry/src/,527,here that we've already accessed as part of this process -- this,
sentry/src/,528,"way, we constrain the choices to only hosts that we know are",
sentry/src/,529,running.),
sentry/src/,538,TODO: This could be optimized to skip the intermediate step for the,
sentry/src/,539,host that has the largest number of keys if the final merge and count,
sentry/src/,540,"is performed on that host. If that host contains *all* keys, the",
sentry/src/,541,"final reduction could be performed as a single PFCOUNT, skipping the",
sentry/src/,542,MSET and PFMERGE operations entirely.,
sentry/src/,663,``timestamp`` is not actually a timestamp :(,
sentry/src/,675,"Figure out all of the keys we need to be incrementing, as",
sentry/src/,676,well as their expiration policies.,
sentry/src/,692,"Since we're essentially merging dictionaries, we need to",
sentry/src/,693,append this to any value that already exists at the key.,
sentry/src/,778,"Here we freeze ordering of the members, since we'll be passing these",
sentry/src/,779,as positional arguments to the Redis script and later associating the,
sentry/src/,780,results (which are returned in the same order that the arguments were,
sentry/src/,781,provided) with the original input values to compose the result.,
sentry/src/,890,pop off the result of DEL,
sentry/src/,193,self.data[model][key][rollup] = count,
sentry/src/,196,self.sets[model][key][rollup] = set of elements,
sentry/src/,199,self.frequencies[model][key][rollup] = Counter(),
sentry/src/,7,NOQA,
sentry/src/,61,TODO(dcramer): it'd be nice if we collected the default relationships,
sentry/src/,63,"ModelRelation(Model, {'parent_id': instance.id})",
sentry/src/,68,"ModelRelation(Model, {'parent_id__in': [i.id for id in instance_list]})",
sentry/src/,121,Ideally this runs through the deletion manager,
sentry/src/,203,"slow, but ensures Django cascades are handled",
sentry/src/,212,Don't log Group and Event child object deletions.,
sentry/src/,270,Don't log Group and Event child object deletions.,
sentry/src/,26,NOQA,
sentry/src/,31,Team must come first,
sentry/src/,43,"Depends on Group deletions, a child of Project",
sentry/src/,14,"ProjectKey gets revoked immediately, in bulk",
sentry/src/,18,in bulk,
sentry/src/,62,in bulk,
sentry/src/,63,Release needs to handle deletes after Group is cleaned up as the foreign,
sentry/src/,64,key is protected,
sentry/src/,10,in bulk,
sentry/src/,51,Remove from nodestore,
sentry/src/,55,Remove EventAttachment and UserReport,
sentry/src/,71,prioritize GroupHash,
sentry/src/,95,Skip EventDataDeletionTask if this is being called from cleanup.py,
sentry/src/,79,This is already running,
sentry/src/,72,attachment_chunk messages need to be processed before attachment/event messages.,
sentry/src/,127,check that we haven't already processed this event (a previous instance of the forwarder,
sentry/src/,128,died before it could commit the event queue offset),
sentry/src/,136,message already processed do not reprocess,
sentry/src/,144,Parse the JSON payload. This is required to compute the cache key and,
sentry/src/,145,"call process_event. The payload will be put into Kafka raw, to avoid",
sentry/src/,146,serializing it again.,
sentry/src/,147,XXX: Do not use CanonicalKeyDict here. This may break preprocess_event,
sentry/src/,148,which assumes that data passed in is a raw dictionary.,
sentry/src/,162,"Preprocess this event, which spawns either process_event or",
sentry/src/,163,save_event. Pass data explicitly to avoid fetching it again from the,
sentry/src/,164,cache.,
sentry/src/,169,remember for an 1 hour that we saved this event (deduplication protection),
sentry/src/,172,emit event_accepted once everything is done,
sentry/src/,205,Attachments may be uploaded for events that already exist. Fetch the,
sentry/src/,206,"existing group_id, so that the attachment can be fetched by group-level",
sentry/src/,207,APIs. This is inherently racy.,
sentry/src/,9,consumes simple events ( from the Events topic),
sentry/src/,10,consumes events with attachments ( from the Attachments topic),
sentry/src/,11,consumes transaction events ( from the Transactions topic),
sentry/src/,52,"no project. this is valid, so ignore silently.",
sentry/src/,57,nothing to do here,
sentry/src/,20,XXX(dcramer): enforce case insensitivity by coercing this to a lowercase string,
sentry/src/,26,TODO(dcramer): we should probably create the user if they dont,
sentry/src/,27,"exist, and ideally we'd also associate that with the event",
sentry/src/,36,"if the event is more than 30 minutes old, we dont allow updates",
sentry/src/,37,as it might be abusive,
sentry/src/,49,"There was a duplicate, so just overwrite the existing",
sentry/src/,50,row with the new one. The only way this ever happens is,
sentry/src/,51,"if someone is messing around with the API, or doing",
sentry/src/,52,"something wrong with the SDK, but this behavior is",
sentry/src/,53,more reasonable than just hard erroring and is more,
sentry/src/,54,expected.,
sentry/src/,60,"if the existing report was submitted more than 5 minutes ago, we dont",
sentry/src/,61,allow updates as it might be abusive (replay attacks),
sentry/src/,3,"HACK(dcramer): Django doesn't play well with our naming schemes, and we prefer",
sentry/src/,4,our methods ways over Django's limited scoping,
sentry/src/,5,NOQA,
sentry/src/,7,NOQA,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,13,TODO(dcramer): this being pickle and not JSON has the ability to cause,
sentry/src/,14,hard errors as it accepts other serialization than native JSON,
sentry/src/,3,NOQA,
sentry/src/,16,Cache an instance of the encoder we want to use,
sentry/src/,38,Fast check for an existing connection cached,
sentry/src/,41,"if missing, we acquire our lock to initialize a new one",
sentry/src/,44,It's possible that the lock was blocked waiting,
sentry/src/,45,"on someone else who already initialized, so",
sentry/src/,46,we first check again to make sure this isn't the case.,
sentry/src/,84,TODO(mattrobenolt): Remove this,
sentry/src/,144,Check if a TTL column exists,
sentry/src/,145,"for this row. If there is,",
sentry/src/,146,we can use the `timestamp` property of the,
sentry/src/,147,cells to see if we should return the,
sentry/src/,148,row or not.,
sentry/src/,150,"If we needed the actual value, we could unpack it.",
sentry/src/,151,"ttl = struct.unpack('<I', columns[self.ttl_column][0].value)[0]",
sentry/src/,157,Read our flags,
sentry/src/,162,"Check for a compression flag on, if so",
sentry/src/,163,decompress the data.,
sentry/src/,178,"Call to delete is just a state mutation,",
sentry/src/,179,and in this case is just used to clear all columns,
sentry/src/,180,"so the entire row will be replaced. Otherwise,",
sentry/src/,181,"if an existing row were mutated, and it took up more",
sentry/src/,182,"than one column, it'd be possible to overwrite",
sentry/src/,183,beginning columns and still retain the end ones.,
sentry/src/,186,"If we are setting a TTL on this row,",
sentry/src/,187,we want to set the timestamp of the cells,
sentry/src/,188,into the future. This allows our GC policy,
sentry/src/,189,to delete them when the time comes. It also,
sentry/src/,190,allows us to filter the rows on read if,
sentry/src/,191,we are past the timestamp to not return.,
sentry/src/,192,We want to set a ttl column to the ttl,
sentry/src/,193,value in the future if we wanted to bump the timestamp,
sentry/src/,194,and rewrite a row with a new ttl.,
sentry/src/,207,Track flags for metadata about this row.,
sentry/src/,208,This only flag we're tracking now is whether compression,
sentry/src/,209,is on or not for the data column.,
sentry/src/,215,Only need to write the column at all if any flags,
sentry/src/,216,"are enabled. And if so, pack it into a single byte.",
sentry/src/,265,"With automatic expiry, we set a GC rule to automatically",
sentry/src/,266,"delete rows with an age of 0. This sounds odd, but when",
sentry/src/,267,"we write rows, we write them with a future timestamp as long",
sentry/src/,268,"as a TTL is set during write. By doing this, we are effectively",
sentry/src/,269,"writing rows into the future, and they will be deleted due to TTL",
sentry/src/,270,when their timestamp is passed.,
sentry/src/,274,"NOTE: Bigtable can't actually use 0 TTL, and",
sentry/src/,275,requires a minimum value of 1ms.,
sentry/src/,276,> InvalidArgument desc = Error in field 'Modifications list' : Error in element #0 : max_age must be at least one millisecond,
sentry/src/,3,NOQA,
sentry/src/,55,manually break circular references,
sentry/src/,233,"If all frames are in_app, flip all of them. This is expected by the UI",
sentry/src/,237,Default to false in all cases where processors or grouping enhancers,
sentry/src/,238,have not yet set in_app.,
sentry/src/,261,Put the trimmed function names into the frames.  We only do this if,
sentry/src/,262,the trimming produces a different function than the function we have,
sentry/src/,263,otherwise stored in `function` to not make the payload larger,
sentry/src/,264,unnecessarily.,
sentry/src/,267,Restore the original in_app value before the first grouping,
sentry/src/,268,enhancers have been run. This allows to re-apply grouping,
sentry/src/,269,enhancers on the original frame data.,
sentry/src/,284,"If a grouping config is available, run grouping enhancers",
sentry/src/,289,normalize in-app,
sentry/src/,358,TODO: associate errors with the frames and processing issues,
sentry/src/,386,is not empty,
sentry/src/,460,by_stacktrace_info requires stable sorting as it is used in,
sentry/src/,461,StacktraceProcessingTask.iter_processable_stacktraces. This is important,
sentry/src/,462,to guarantee reproducible symbolicator requests.,
sentry/src/,486,This operation scales bad but we do not expect that many items to,
sentry/src/,487,"end up in rv, so that should be okay enough to do.",
sentry/src/,502,Early out if we have no processors.  We don't want to record a timer,
sentry/src/,503,in that case.,
sentry/src/,509,Build a new processing task,
sentry/src/,513,Preprocess step,
sentry/src/,518,Process all stacktraces,
sentry/src/,520,Let the stacktrace processors touch the exception,
sentry/src/,526,If the stacktrace is empty we skip it for processing,
sentry/src/,1,coding: utf-8,
sentry/src/,111,Ensure we don't operate on objc functions,
sentry/src/,115,Chop off C++ trailers,
sentry/src/,122,"Because operator<< really screws with our balancing, so let's work",
sentry/src/,123,around that by replacing it with a character we do not observe in,
sentry/src/,124,`split_func_tokens` or `replace_enclosed_string`.,
sentry/src/,133,normalize C++ lambdas.  This is necessary because different,
sentry/src/,134,compilers use different rules for now to name a lambda and they are,
sentry/src/,135,all quite inconsistent.  This does not give us perfect answers to,
sentry/src/,136,this problem but closer.  In particular msvc will call a lambda,
sentry/src/,137,something like `lambda_deadbeefeefffeeffeeff` whereas clang for,
sentry/src/,138,instance will name it `main::$_0` which will tell us in which outer,
sentry/src/,139,function it was declared.,
sentry/src/,143,Normalize MSVC anonymous namespaces from inline functions.  For inline,
sentry/src/,144,"functions, the compiler inconsistently renders anonymous namespaces with",
sentry/src/,145,"their hash.  For regular functions,  ""`anonymous namespace'"" is used.",
sentry/src/,146,"The regular expression matches the trailing ""::"" to avoid accidental",
sentry/src/,147,replacement in mangled function names.,
sentry/src/,151,Remove the arguments if there is one.,
sentry/src/,160,"Resolve generic types, but special case rust which uses things like",
sentry/src/,161,<Foo as Bar>::baz to denote traits.,
sentry/src/,163,Special case for lambdas,
sentry/src/,170,Rust special cases,
sentry/src/,171,prefer trait for blanket impls,
sentry/src/,179,MSVC demangles generic operator functions with a space between the,
sentry/src/,180,function name and the generics. Ensure that those two components both end,
sentry/src/,181,up in the function name.,
sentry/src/,186,find the token which is the function name.  Since we chopped of C++,
sentry/src/,187,trailers there are only two cases we care about: the token left to,
sentry/src/,188,the -> return marker which is for instance used in Swift and if that,
sentry/src/,189,"is not found, the last token in the last.",
sentry/src/,190,,
sentry/src/,191,"[""unsigned"", ""int"", ""whatever""] -> whatever",
sentry/src/,192,"[""@objc"", ""whatever"", ""->"", ""int""] -> whatever",
sentry/src/,209,This really should never happen,
sentry/src/,213,trim off rust markers,
sentry/src/,216,trim off windows decl markers,
sentry/src/,227,"if there is a raw function, prioritize the function unchanged",
sentry/src/,231,otherwise trim the function on demand,
sentry/src/,93,We require eslint in path but we actually call an eslint wrapper,
sentry/src/,96,"Note, in CI, we run a relaxed version of our eslint rules (.eslint.relax.js)",
sentry/src/,183,Get Prettier version from package.json,
sentry/src/,225,manually exclude some bad files,
sentry/src/,288,"this is not quite correct, but it at least represents what would be staged",
sentry/src/,324,packages,
sentry/src/,328,bail early if a deps failed,
sentry/src/,334,python autoformatting is now done via pre-commit (black),
sentry/src/,337,run eslint with --fix and skip these linters down below,
sentry/src/,342,bail early if a formatter failed,
sentry/src/,348,flake8 linting was moved to pre-commit,
sentry/src/,350,stylelint `--fix` doesn't work well,
sentry/src/,354,"these tasks are called when we need to format, so skip it here",
sentry/src/,127,"XXX: Unused by Relay, required by Python store",
sentry/src/,131,This is all we need for external Relay processors,
sentry/src/,237,property not set or path goes beyond the Config defined valid path,
sentry/src/,268,Order of merging is important here. We want to apply organization rules,
sentry/src/,269,before project rules. For example:,
sentry/src/,270,,
sentry/src/,271,"* Organization rule: remove substrings ""mypassword""",
sentry/src/,272,"* Project rule: remove substrings ""my""",
sentry/src/,273,,
sentry/src/,274,"If we were to apply project rules before organization rules, ""password""",
sentry/src/,275,would leak. We effectively disabled an organization rule using a project rule.,
sentry/src/,276,,
sentry/src/,277,"Of course organization rules can also break project rules the same way,",
sentry/src/,278,but we communicate in the UI that organization options take precedence,
sentry/src/,279,here.,
sentry/src/,353,special case for legacy browser.,
sentry/src/,354,If the number of special cases increases we'll have to factor this functionality somewhere,
sentry/src/,360,"new style filter, per legacy browser type handling",
sentry/src/,361,ret_val['options'] = setting.split(' '),
sentry/src/,27,TODO(mitsuhiko): support for pending or failing queries,
sentry/src/,10,1 hr,
sentry/src/,34,XXX(markus): Figure out how to do pipelining here. We may have,
sentry/src/,35,multiple routing keys (-> multiple clients).,
sentry/src/,36,,
sentry/src/,37,"We cannot route by org, because Relay does not know the org when",
sentry/src/,38,fetching.,
sentry/src/,46,XXX(markus): Figure out how to do pipelining here. We may have,
sentry/src/,47,multiple routing keys (-> multiple clients).,
sentry/src/,48,,
sentry/src/,49,"We cannot route by org, because Relay does not know the org when",
sentry/src/,50,fetching.,
sentry/src/,14,Cache,
sentry/src/,15,"register('cache.backend', flags=FLAG_NOSTORE)",
sentry/src/,16,"register('cache.options', type=Dict, flags=FLAG_NOSTORE)",
sentry/src/,18,System,
sentry/src/,23,"register('system.debug', default=False, flags=FLAG_NOSTORE)",
sentry/src/,27,Absolute URL to the sentry root directory. Should not include a trailing slash.,
sentry/src/,32,This is used for the chunk upload endpoint,
sentry/src/,36,Redis,
sentry/src/,45,Processing worker caches,
sentry/src/,57,Mail,
sentry/src/,72,SMS,
sentry/src/,77,U2F,
sentry/src/,91,Beacon,
sentry/src/,94,Filestore,
sentry/src/,98,Symbol server,
sentry/src/,106,Symbolicator,
sentry/src/,114,Analytics,
sentry/src/,120,Slack Integration,
sentry/src/,125,GitHub Integration,
sentry/src/,133,VSTS Integration,
sentry/src/,137,PagerDuty Integration,
sentry/src/,140,Snuba,
sentry/src/,152,"The percentage of tagkeys that we want to cache. Set to 1.0 in order to cache everything, <=0.0 to stop caching",
sentry/src/,155,Kafka Publisher,
sentry/src/,159,Ingest refactor,
sentry/src/,160,unused,
sentry/src/,161,unused,
sentry/src/,162,"positive value means stable opt-in in the range 0.0 to 1.0, negative value",
sentry/src/,163,means random opt-in with the same range.,
sentry/src/,164,unused,
sentry/src/,166,From 0.0 to 1.0: Randomly disable normalization code in interfaces when loading from db,
sentry/src/,169,Enable multiple topics for eventstream. It allows specific event types to be sent,
sentry/src/,170,to specific topic.,
sentry/src/,173,if this is turned to `True` sentry will behave like relay would do with,
sentry/src/,174,regards to filter responses.,
sentry/src/,177,Toggles between processing transactions directly in the ingest consumer,
sentry/src/,178,(``False``) and spawning a save_event task (``True``).,
sentry/src/,181,Symbolicator refactors,
sentry/src/,182,- Disabling minidump stackwalking in endpoints,
sentry/src/,183,unused,
sentry/src/,184,unused,
sentry/src/,185,unused,
sentry/src/,188,Normalization after processors,
sentry/src/,189,unused,
sentry/src/,190,unused,
sentry/src/,192,Data scrubbing in Rust,
sentry/src/,193,unused,
sentry/src/,194,unused,
sentry/src/,196,Post Process Error Hook Sampling,
sentry/src/,197,unused,
sentry/src/,198,From 0.0 to 1.0: Randomly enqueue process_resource_change task,
sentry/src/,199,unused,
sentry/src/,201,Transaction events,
sentry/src/,202,True => kill switch to disable ingestion of transaction events for internal project.,
sentry/src/,205,Moving signals and TSDB into outcomes consumer,
sentry/src/,209,Node data save rate,
sentry/src/,213,Use nodestore for eventstore.get_events,
sentry/src/,216,Discover2 incremental rollout rate. Tied to feature handlers in getsentry,
sentry/src/,219,Alerts / Workflow incremental rollout rate. Tied to feature handlers in getsentry,
sentry/src/,222,Max number of tags to combine in a single query in Discover2 tags facet.,
sentry/src/,225,Killswitch for datascrubbing after stacktrace processing. Set to False to,
sentry/src/,226,disable datascrubbers.,
sentry/src/,229,Killswitch for sending internal errors to the internal project or,
sentry/src/,230,`SENTRY_SDK_CONFIG.relay_dsn`. Set to `0` to only send to,
sentry/src/,231,"`SENTRY_SDK_CONFIG.dsn` (the ""upstream transport"") and nothing else.",
sentry/src/,232,,
sentry/src/,233,Note: A value that is neither 0 nor 1 is regarded as 0,
sentry/src/,5,NOQA,
sentry/src/,18,See notes in ``runner.initializer`` regarding lazy cache configuration.,
sentry/src/,24,expose public API,
sentry/src/,30,NOQA,
sentry/src/,36,NOQA,
sentry/src/,70,"As a last ditch effort, let's hope we have a key",
sentry/src/,71,in local cache that's possibly stale,
sentry/src/,116,"Key is within normal expiry window, so just return it",
sentry/src/,120,"If we're able to accept within grace window, return it",
sentry/src/,124,Let's clean up values if we're beyond grace.,
sentry/src/,129,This could only exist in a race condition,
sentry/src/,130,"where another thread has already deleted this key,",
sentry/src/,131,but we'll guard ourselves against it Justin Case.,
sentry/src/,132,"In this case, it's also possible that another thread",
sentry/src/,133,"has updated the value at this key, causing us to evict",
sentry/src/,134,"it prematurely. This isn't ideal, but not terrible",
sentry/src/,135,since I don't want to introduce locking to prevent this.,
sentry/src/,136,"Even if it did happen, the consequence is just another",
sentry/src/,137,network hop.,
sentry/src/,140,"If we're outside the grace window, even if we ask for it",
sentry/src/,141,"in grace, too bad. The value is considered bad.",
sentry/src/,165,we only attempt to populate the cache if we were previously,
sentry/src/,166,able to successfully talk to the backend,
sentry/src/,167,NOTE: There is definitely a race condition here between updating,
sentry/src/,168,the store and the cache,
sentry/src/,253,It's possible for the dictionary to be mutated in another thread,
sentry/src/,254,"while iterating, but this case is rare, so instead of making a",
sentry/src/,255,"copy and iterating that, it's more efficient to just let it fail",
sentry/src/,256,gracefully. It'll just get re-run later.,
sentry/src/,263,This could only exist in a race condition,
sentry/src/,264,"where another thread has already deleted this key,",
sentry/src/,265,but we'll guard ourselves against it Justin Case.,
sentry/src/,275,Periodically force an expire on the local cache.,
sentry/src/,276,This cleanup is purely to keep memory low and garbage collect,
sentry/src/,277,old values. It's not required to run to keep things consistent.,
sentry/src/,278,"Internally, if an option is fetched and it's expired, it gets",
sentry/src/,279,evicted immediately. This is purely for options that haven't,
sentry/src/,280,been fetched since they've expired.,
sentry/src/,11,Prevent outselves from clobbering the builtin,
sentry/src/,24,Value can't be changed at runtime,
sentry/src/,26,Don't check/set in the datastore. Option only exists from file.,
sentry/src/,28,"Values that should only exist in datastore, and shouldn't exist in",
sentry/src/,29,config files.,
sentry/src/,31,Values that must be defined for setup to be considered complete,
sentry/src/,33,"If the value is defined on disk, use that and don't attempt to fetch from db.",
sentry/src/,34,This also make the value immutable to changes from web UI.,
sentry/src/,36,If the value is allowed to be empty to be considered valid,
sentry/src/,39,How long will a cache key exist in local memory before being evicted,
sentry/src/,41,How long will a cache key exist in local memory *after ttl* while the backing store is erroring,
sentry/src/,77,"If an option isn't able to exist in the store, we can't set it at runtime",
sentry/src/,79,Enforce immutability on key,
sentry/src/,81,Enforce immutability if value is already set on disk,
sentry/src/,97,"HACK: Historically, Options were used for random adhoc things.",
sentry/src/,98,"Fortunately, they all share the same prefix, 'sentry:', so",
sentry/src/,99,we special case them here and construct a faux key until we migrate.,
sentry/src/,102,"History shows, there was an expectation of no types, and empty string",
sentry/src/,103,as the default response value,
sentry/src/,129,TODO(mattrobenolt): Perform validation on key returned for type Justin Case,
sentry/src/,130,"values change. This case is unlikely, but good to cover our bases.",
sentry/src/,133,"First check if the option should exist on disk, and if it actually",
sentry/src/,134,"has a value set, let's use that one instead without even attempting",
sentry/src/,135,to fetch from network storage.,
sentry/src/,148,HACK(mattrobenolt): SENTRY_URL_PREFIX must be kept in sync,
sentry/src/,149,when reading values from the database. This should,
sentry/src/,150,be replaced by a signal.,
sentry/src/,155,Some values we don't want to allow them to be configured through,
sentry/src/,156,config files and should only exist in the datastore,
sentry/src/,161,default to the hardcoded local configuration for this key,
sentry/src/,181,"If an option isn't able to exist in the store, we can't set it at runtime",
sentry/src/,183,Enforce immutability on key,
sentry/src/,202,"If our default is a callable, execute it to",
sentry/src/,203,"see what value is returns, so we can use that to derive the type",
sentry/src/,213,Guess type based on the default value,
sentry/src/,215,the default value would be equivalent to '' if no type / default,
sentry/src/,216,is specified and we assume six.text_type for safety,
sentry/src/,225,We disallow None as a value for options since this is ambiguous and doesn't,
sentry/src/,226,really make sense as config options. There should be a sensible default,
sentry/src/,227,"value instead that matches the type expected, rather than relying on None.",
sentry/src/,231,Make sure the type is correct at registration time,
sentry/src/,235,"If we don't have a default, but we have a type, pull the default",
sentry/src/,236,value from the type,
sentry/src/,241,"Boolean values need to be set to ALLOW_EMPTY becaues otherwise, ""False""",
sentry/src/,242,would be treated as a not valid value,
sentry/src/,254,Raise here or nah?,
sentry/src/,8,change locale file dir name to locale code,
sentry/src/,6,NOQA,
sentry/src/,39,"First check an internal cache, so we can `pop` multiple times",
sentry/src/,40,without actually losing the value.,
sentry/src/,45,We do this so when the process forks off into uwsgi,
sentry/src/,46,we want to actually be popping off values. This is so that,
sentry/src/,47,"at runtime, the variables aren't actually available.",
sentry/src/,75,Hosts that are considered in the same network (including VPNs).,
sentry/src/,78,List of IP subnets which should not be accessible,
sentry/src/,81,Hosts that are allowed to use system token authentication.,
sentry/src/,82,http://en.wikipedia.org/wiki/Reserved_IP_addresses,
sentry/src/,107,XXX(dcramer): handle case when we've installed from source vs just running,
sentry/src/,108,this straight out of the repository,
sentry/src/,142,Ensure default database exists.,
sentry/src/,145,Update with environment configuration.,
sentry/src/,158,This should always be UTC.,
sentry/src/,161,Language code for this installation. All choices can be found here:,
sentry/src/,162,http://www.i18nguy.com/unicode/language-identifiers.html,
sentry/src/,249,"If you set this to False, Django will make some optimizations so as not",
sentry/src/,250,to load the internationalization machinery.,
sentry/src/,253,"If you set this to False, Django will not format dates, numbers and",
sentry/src/,254,calendars according to the current locale,
sentry/src/,259,"CAVEAT: If you're adding a middleware that modifies a response's content,",
sentry/src/,260,"and appears before CommonMiddleware, you must either reorder your middleware",
sentry/src/,261,"so that responses aren't modified after Content-Length is set, or have the",
sentry/src/,262,response modifying middleware reset the Content-Length header.,
sentry/src/,263,This is because CommonMiddleware Sets the Content-Length header for non-streaming responses.,
sentry/src/,274,Must exist before CommonMiddleware,
sentry/src/,288,"TODO(joshuarli): Django 1.10 introduced this option, which restricts the size of a",
sentry/src/,289,request body. We have some middleware in sentry.middleware.proxy that sets the,
sentry/src/,290,Content Length to max uint32 in certain cases related to minidump.,
sentry/src/,291,"Once relay's fully rolled out, that can be deleted.",
sentry/src/,292,"Until then, the safest and easiest thing to do is to disable this check",
sentry/src/,293,to leave things the way they were with Django <1.9.,
sentry/src/,344,Silence internal hints from Django's system checks,
sentry/src/,346,Django recommends to use OneToOneField over ForeignKey(unique=True),
sentry/src/,347,however this changes application behavior in ways that break association,
sentry/src/,348,loading,
sentry/src/,350,"We have a ""catch-all"" react_page_view that we only want to match on URLs",
sentry/src/,351,ending with a `/` to allow APPEND_SLASHES to kick in for the ones lacking,
sentry/src/,352,the trailing slash. This confuses the warning as the regex is `/$` which,
sentry/src/,353,looks like it starts with a slash but it doesn't.,
sentry/src/,360,various middleware will use this to identify resources which should not access,
sentry/src/,361,cookies,
sentry/src/,378,setup a default media root to somewhere useless,
sentry/src/,386,Auth configuration,
sentry/src/,395,The following authentication backends are used by social auth only.,
sentry/src/,396,We don't use them for user authentication.,
sentry/src/,453,Auth engines and the settings required for them to be listed,
sentry/src/,482,Queue configuration,
sentry/src/,488,Ensure workers run async by default,
sentry/src/,489,in Development you might want them to run in-process,
sentry/src/,490,though it would cause timeouts/recursions in some cases,
sentry/src/,600,XXX: Make sure to register the monitor_id for each job in `SENTRY_CELERYBEAT_MONITORS`!,
sentry/src/,676,"05:00 PDT, 09:00 EDT, 12:00 UTC",
sentry/src/,695,"Sentry logs to two major places: stdout, and it's internal project.",
sentry/src/,696,"To disable logging to the internal project, add a logger who's only",
sentry/src/,697,handler is 'console' and disable propagating upwards.,
sentry/src/,698,"Additionally, Sentry has the ability to override logger levels by",
sentry/src/,699,providing the cli with -l/--loglevel or the SENTRY_LOG_LEVEL env var.,
sentry/src/,700,The loggers that it overrides are root and any in LOGGING.overridable.,
sentry/src/,701,"Be very careful with this in a production system, because the celery",
sentry/src/,702,logger can be extremely verbose when given INFO or DEBUG.,
sentry/src/,734,LOGGING.overridable is a list of loggers including root that will change,
sentry/src/,735,based on the overridden level defined above.,
sentry/src/,743,This only needs to go to Sentry for now.,
sentry/src/,750,https://github.com/celery/celery/commit/597a6b1f3359065ff6dbabce7237f86b866313df,
sentry/src/,751,This commit has not been rolled into any release and leads to a,
sentry/src/,752,large amount of errors when working with postgres.,
sentry/src/,770,django-rest-framework,
sentry/src/,786,Percy config for visual regression testing.,
sentry/src/,790,Sentry and internal client configuration,
sentry/src/,793,Enables user registration.,
sentry/src/,795,"Enable advanced search features, like negation and wildcard matching.",
sentry/src/,797,Enable obtaining and using API keys.,
sentry/src/,799,Enable explicit use of AND and OR in search.,
sentry/src/,801,Enable creating organizations within sentry (if SENTRY_SINGLE_ORGANIZATION,
sentry/src/,802,is not enabled).,
sentry/src/,804,Enable the 'data-export' interface.,
sentry/src/,806,Enable the 'discover' interface.,
sentry/src/,808,Enable attaching arbitrary files to events.,
sentry/src/,810,Allow organizations to configure built-in symbol sources.,
sentry/src/,812,Allow organizations to configure custom external symbol sources.,
sentry/src/,814,Enable the events stream interface.,
sentry/src/,816,Enable events v2 instead of the events stream,
sentry/src/,818,Enable discover 2 basic functions,
sentry/src/,820,Enable discover 2 custom queries and saved queries,
sentry/src/,822,Enable Performance view,
sentry/src/,824,Enable multi project selection,
sentry/src/,826,Turns on grouping info.,
sentry/src/,828,Lets organizations upgrade grouping configs and tweak them,
sentry/src/,830,Lets organizations manage grouping configs,
sentry/src/,832,Enable Releases v2 feature,
sentry/src/,834,Enable rule page.,
sentry/src/,836,Enable incidents feature,
sentry/src/,838,Enable integration functionality to create and link groups to issues on,
sentry/src/,839,external services.,
sentry/src/,841,Enable interface functionality to synchronize groups between sentry and,
sentry/src/,842,issues on external services.,
sentry/src/,844,Enable interface functionality to receive event hooks.,
sentry/src/,846,Enable data forwarding functionality for organizations.,
sentry/src/,848,Special feature flag primarily used on the sentry.io SAAS product for,
sentry/src/,849,easily enabling features while in early development.,
sentry/src/,851,Enable inviting members to organizations.,
sentry/src/,853,"Enable selection of members, teams or code owners as email targets for issue alerts.",
sentry/src/,855,Enable org-wide saved searches and user pinned search,
sentry/src/,857,Prefix host with organization ID when giving users DSNs (can be,
sentry/src/,858,customized with SENTRY_ORG_SUBDOMAIN_TEMPLATE),
sentry/src/,860,Enable access to more advanced (alpha) datascrubbing settings.,
sentry/src/,862,"Enable usage of external relays, for use with Relay. See",
sentry/src/,863,https://github.com/getsentry/relay.,
sentry/src/,865,"Enable basic SSO functionality, providing configurable single sign on",
sentry/src/,866,using services like GitHub / Google. This is *not* the same as the signup,
sentry/src/,867,and login with Github / Azure DevOps that sentry.io provides.,
sentry/src/,869,Enable SAML2 based SSO functionality. getsentry/sentry-auth-saml2 plugin,
sentry/src/,870,must be installed to use this functionality.,
sentry/src/,872,Enable Rippling SSO functionality.,
sentry/src/,874,Enable functionality to specify custom inbound filters on events.,
sentry/src/,876,Enable data forwarding functionality for projects.,
sentry/src/,878,Enable functionality to discard groups.,
sentry/src/,880,DEPRECATED: pending removal,
sentry/src/,882,Enable functionality for attaching  minidumps to events and displaying,
sentry/src/,883,then in the group UI.,
sentry/src/,885,Enable functionality for project plugins.,
sentry/src/,887,Enable functionality for rate-limiting events on projects.,
sentry/src/,889,Enable functionality for sampling of events on projects.,
sentry/src/,891,Enable functionality to trigger service hooks upon event ingestion.,
sentry/src/,893,Use Kafka (instead of Celery) for ingestion pipeline.,
sentry/src/,895,Don't add feature defaults down here! Please add them in their associated,
sentry/src/,896,group sorted alphabetically.,
sentry/src/,899,Default time zone for localization in the UI.,
sentry/src/,900,http://en.wikipedia.org/wiki/List_of_tz_zones_by_name,
sentry/src/,903,Enable the Sentry Debugger (Beta),
sentry/src/,908,Should we send the beacon to the upstream server?,
sentry/src/,911,Allow access to Sentry without authentication.,
sentry/src/,914,Instruct Sentry that this install intends to be run by a single organization,
sentry/src/,915,and thus various UI optimizations should be enabled.,
sentry/src/,918,Login url (defaults to LOGIN_URL),
sentry/src/,921,Default project ID (for internal errors),
sentry/src/,925,Default organization to represent the Internal Sentry project.,
sentry/src/,926,Used as a default when in SINGLE_ORGANIZATION mode.,
sentry/src/,929,Project ID for recording frontend (javascript) exceptions,
sentry/src/,931,"DSN for the frontend to use explicitly, which takes priority",
sentry/src/,932,over SENTRY_FRONTEND_PROJECT or SENTRY_PROJECT,
sentry/src/,934,DSN for tracking all client HTTP requests (which can be noisy) [experimental],
sentry/src/,937,Configuration for JavaScript's whitelistUrls - defaults to ALLOWED_HOSTS,
sentry/src/,940,Sample rate for Sentry transactions,
sentry/src/,943,DSN to use for Sentry monitors,
sentry/src/,947,"'scheduled-name': 'monitor_guid',",
sentry/src/,950,Web Service,
sentry/src/,955,SMTP Service,
sentry/src/,996,set of backends that do not support needing SMTP mail.* settings,
sentry/src/,997,"This list is a bit fragile and hardcoded, but it's unlikely that",
sentry/src/,998,a user will be using a different backend that also mandates SMTP,
sentry/src/,999,credentials.,
sentry/src/,1010,Should users without superuser permissions be allowed to,
sentry/src/,1011,make projects public,
sentry/src/,1014,Will an invite be sent when a member is added to an organization?,
sentry/src/,1017,Default to not sending the Access-Control-Allow-Origin header on api/store,
sentry/src/,1020,Enable scraping of javascript context for source code,
sentry/src/,1023,Buffer backend,
sentry/src/,1027,Cache backend,
sentry/src/,1028,XXX: We explicitly require the cache to be configured as its not optional,
sentry/src/,1029,and causes serious confusion with the default django cache,
sentry/src/,1033,Attachment blob cache backend,
sentry/src/,1037,The internal Django cache is still used in many places,
sentry/src/,1038,TODO(dcramer): convert uses over to Sentry's backend,
sentry/src/,1041,The cache version affects both Django's internal cache (at runtime) as well,
sentry/src/,1042,as Sentry's cache. This automatically overrides VERSION on the default,
sentry/src/,1043,CACHES backend.,
sentry/src/,1046,Digests backend,
sentry/src/,1050,Quota backend,
sentry/src/,1054,Cache for Relay project configs,
sentry/src/,1058,Rate limiting backend,
sentry/src/,1062,The default value for project-level quotas,
sentry/src/,1065,Snuba configuration,
sentry/src/,1068,Node storage backend,
sentry/src/,1072,Tag storage backend,
sentry/src/,1076,Search backend,
sentry/src/,1081,SENTRY_SEARCH_OPTIONS = {,
sentry/src/,1082,"'urls': ['http://127.0.0.1:9200/'],",
sentry/src/,1083,"'timeout': 5,",
sentry/src/,1084,},
sentry/src/,1086,Time-series storage backend,
sentry/src/,1096,rollups must be ordered from highest granularity to lowest,
sentry/src/,1098,"(time in seconds, samples to keep)",
sentry/src/,1099,60 minutes at 10 seconds,
sentry/src/,1100,7 days at 1 hour,
sentry/src/,1101,90 days at 1 day,
sentry/src/,1104,Internal metrics,
sentry/src/,1109,Order this by most frequent prefixes.,
sentry/src/,1111,URI Prefixes for generating DSN URLs,
sentry/src/,1112,(Defaults to URL_PREFIX by default),
sentry/src/,1116,Hostname prefix to add for organizations that are opted into the,
sentry/src/,1117,`organizations:org-subdomains` feature.,
sentry/src/,1120,"Prevent variables (e.g. context locals, http data, etc) from exceeding this",
sentry/src/,1121,size in characters,
sentry/src/,1124,Prevent variables within extra context from exceeding this size in,
sentry/src/,1125,characters,
sentry/src/,1126,16kb,
sentry/src/,1128,For changing the amount of data seen in Http Response Body part.,
sentry/src/,1129,16kb,
sentry/src/,1131,"For various attributes we don't limit the entire attribute on size, but the",
sentry/src/,1132,individual item. In those cases we also want to limit the maximum number of,
sentry/src/,1133,keys,
sentry/src/,1138,Gravatar service base url,
sentry/src/,1141,Timeout (in seconds) for fetching remote source files (e.g. JS),
sentry/src/,1144,Timeout (in seconds) for socket operations when fetching remote source files,
sentry/src/,1147,Maximum content length for source files before we abort fetching,
sentry/src/,1150,Fields which managed users cannot change via Sentry UI. Username and password,
sentry/src/,1151,cannot be changed by managed users. Optionally include 'email' and,
sentry/src/,1152,'name' in SENTRY_MANAGED_USER_FIELDS.,
sentry/src/,1209,"Roles are ordered, which represents a sort-of hierarchy, as well as how",
sentry/src/,1210,they're presented in the UI. This is primarily important in that a member,
sentry/src/,1211,that is earlier in the chain cannot manage the settings of a member later,
sentry/src/,1212,in the chain (they still require the appropriate scope).,
sentry/src/,1312,See sentry/options/__init__.py for more information,
sentry/src/,1316,You should not change this setting after your database has been created,
sentry/src/,1317,unless you have altered all schemas first,
sentry/src/,1320,Encryption schemes available to Sentry. You should *never* remove from this,
sentry/src/,1321,list until the key is no longer used in the database. The first listed,
sentry/src/,1322,implementation is considered the default and will be used to encrypt all,
sentry/src/,1323,values (as well as re-encrypt data when it's re-saved).,
sentry/src/,1325,identifier: implementation,
sentry/src/,1326,"('0', Fernet(b'super secret key probably from Fernet.generate_key()')),",
sentry/src/,1329,Delay (in ms) to induce on API responses,
sentry/src/,1332,Watchers for various application purposes (such as compiling static media),
sentry/src/,1333,XXX(dcramer): this doesn't work outside of a source distribution as the,
sentry/src/,1334,webpack.config.js is not part of Sentry's datafiles,
sentry/src/,1351,Controls whether DEVSERVICES will spin up a Relay and direct store traffic through Relay or not.,
sentry/src/,1352,If Relay is used a reverse proxy server will be run at the 8000 (the port formally used by Sentry) that,
sentry/src/,1353,"will split the requests between Relay and Sentry (all store requests will be passed to Relay, and the",
sentry/src/,1354,rest will be forwarded to Sentry),
sentry/src/,1360,SENTRY_DEVSERVICES = {,
sentry/src/,1361,"""service-name"": {",
sentry/src/,1362,"""image"": ""image-name:version"",",
sentry/src/,1363,# optional ports to expose,
sentry/src/,1364,"""ports"": {""internal-port/tcp"": external-port},",
sentry/src/,1365,# optional command,
sentry/src/,1366,"""command"": [""exit 1""],",
sentry/src/,1367,optional mapping of volumes,
sentry/src/,1368,"""volumes"": {""volume-name"": {""bind"": ""/path/in/container""}},",
sentry/src/,1369,# optional statement to test if service should run,
sentry/src/,1370,"""only_if"": lambda settings, options: True,",
sentry/src/,1371,# optional environment variables,
sentry/src/,1372,"""environment"": {",
sentry/src/,1373,"""ENV_VAR"": ""1"",",
sentry/src/,1374,},
sentry/src/,1375,},
sentry/src/,1376,},
sentry/src/,1491,Max file size for avatar photo uploads,
sentry/src/,1494,The maximum age of raw events before they are deleted,
sentry/src/,1497,statuspage.io support,
sentry/src/,1503,Whether we should look at X-Forwarded-For header or not,
sentry/src/,1504,when checking REMOTE_ADDR ip addresses,
sentry/src/,1534,Callable to bind additional context for the Sentry SDK,
sentry/src/,1535,,
sentry/src/,1536,"def get_org_context(scope, organization, **kwargs):",
sentry/src/,1537,"scope.set_tag('organization.cool', '1')",
sentry/src/,1538,,
sentry/src/,1539,SENTRY_ORGANIZATION_CONTEXT_HELPER = get_org_context,
sentry/src/,1542,Config options that are explicitly disabled from Django,
sentry/src/,1545,This will eventually get set from values in SENTRY_OPTIONS during,
sentry/src/,1546,sentry.runner.initializer:bootstrap_options,
sentry/src/,1559,"Endpoint to https://github.com/getsentry/sentry-release-registry, used for",
sentry/src/,1560,alerting the user on outdated SDKs.,
sentry/src/,1563,Hardcoded SDK versions for SDKs that do not have an entry in the release,
sentry/src/,1564,registry.,
sentry/src/,1589,sdk name => new sdk name,
sentry/src/,1603,The Ruby SDK used to go by the name 'sentry-raven'...,
sentry/src/,1610,Internal sources for debug information files,
sentry/src/,1611,,
sentry/src/,1612,"There are two special values in there: ""microsoft"" and ""ios"".  These are",
sentry/src/,1613,"added by default to any project created.  The ""ios"" source is currently",
sentry/src/,1614,not enabled in the open source build of sentry because it points to a,
sentry/src/,1615,sentry internal repository and it's unclear if these can be,
sentry/src/,1616,redistributed under the Apple EULA.  If however someone configures their,
sentry/src/,1617,own iOS source and name it 'ios' it will be enabled by default for all,
sentry/src/,1618,projects.,
sentry/src/,1710,Relay,
sentry/src/,1711,List of PKs whitelisted by Sentry.  All relays here are always,
sentry/src/,1712,registered as internal relays.,
sentry/src/,1714,NOTE (RaduW) This is the relay key for the relay instance used by devservices.,
sentry/src/,1715,This should NOT be part of any production environment.,
sentry/src/,1716,This key should match the key in /sentry/config/relay/credentials.json,
sentry/src/,1720,When open registration is not permitted then only relays in the,
sentry/src/,1721,whitelist can register.,
sentry/src/,1724,GeoIP,
sentry/src/,1725,Used for looking up IP addresses.,
sentry/src/,1726,For example /usr/local/share/GeoIP/GeoIPCity.mmdb,
sentry/src/,1729,CDN,
sentry/src/,1730,If this is an absolute url like e.g.: https://js.sentry-cdn.com/,
sentry/src/,1731,the full url will look like this: https://js.sentry-cdn.com/<public_key>.min.js,
sentry/src/,1732,otherwise django reverse url lookup will be used.,
sentry/src/,1734,Version of the SDK - Used in header Surrogate-Key sdk/JS_SDK_LOADER_SDK_VERSION,
sentry/src/,1736,This should be the url pointing to the JS SDK,
sentry/src/,1739,block domains which are generally used by spammers -- keep this configurable in case an onpremise,
sentry/src/,1740,install wants to allow it,
sentry/src/,1743,"This is customizable for sentry.io, but generally should only be additive",
sentry/src/,1744,(currently the values not used anymore so this is more for documentation purposes),
sentry/src/,1751,"50MB, default is 1MB",
sentry/src/,1769,Topic for receiving simple events (error events without attachments) from Relay,
sentry/src/,1771,Topic for receiving 'complex' events (error events with attachments) from Relay,
sentry/src/,1773,Topic for receiving transaction events (APM events) from Relay,
sentry/src/,1777,Enable this to use the legacy Slack Workspace Token apps. You will likely,
sentry/src/,1778,never need to switch this unless you created a workspace app before slack,
sentry/src/,1779,disabled them.,
sentry/src/,1827,From sentry-plugins,
sentry/src/,1832,"Whether to use Django migrations to create the database, or just build it based off",
sentry/src/,1833,"of models, similar to how syncdb used to work. The former is more correct, the latter",
sentry/src/,1834,is much faster.,
sentry/src/,1836,Specifies the list of django apps to include in the lockfile. If Falsey then include,
sentry/src/,1837,all apps with migrations,
sentry/src/,1839,Where to write the lockfile to.,
sentry/src/,1842,Log error and abort processing (without dropping event) when process_event is,
sentry/src/,1843,taking more than n seconds to process event,
sentry/src/,1846,Log warning when process_event is taking more than n seconds to process event,
sentry/src/,1849,Block process_event for this many seconds to wait for a response from,
sentry/src/,1850,"symbolicator. If too low, too many events up in the sleep queue. If too high,",
sentry/src/,1851,process_event might backlog and affect events from other platforms.,
sentry/src/,14,Valid pattern for tag key names,
sentry/src/,17,"Number of tag values to return by default for any query returning the ""top""",
sentry/src/,18,values for a tag.,
sentry/src/,21,These tags are special and are used in pairing with `sentry:{}`,
sentry/src/,22,they should not be allowed to be set via data ingest due to ambiguity,
sentry/src/,26,TODO(dcramer): pull in enum library,
sentry/src/,95,XXX(dcramer): kill sentry prefix for internal reserved tags,
sentry/src/,297,"only the snuba backend supports multi env, and that overrides this method",
sentry/src/,301,"If keys is unspecified, we will grab all tag keys for this group.",
sentry/src/,15,HACK(mattrobenolt): This is copy/pasted directly from,
sentry/src/,16,https://github.com/django/django/blob/stable/1.6.x/django/db/models/query.py#L482-L496,
sentry/src/,17,with 1 important change. It removes the `transaction.commit_on_success_unless_managed`,
sentry/src/,18,block. The effect of this is we now can perform a simple `UPDATE` query without,
sentry/src/,19,incurring the overhead of 4 statements and an explicit transaction. This is a safe,
sentry/src/,20,"assumption made by Django, but we can forego it for performance.",
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,29,columns we want to exclude from methods that return,
sentry/src/,30,all values for a given tag/column,
sentry/src/,76,Use the hash so that seconds past the hour gets rounded differently per query.,
sentry/src/,79,"Round seconds to a multiple of duration, cause this uses ""floor"" division shouldn't give us a future window",
sentry/src/,81,If the time is past the rounded seconds then we want our key to be for this timewindow,
sentry/src/,84,"Otherwise we're in the previous time window, subtract duration to give us the previous timewindows start",
sentry/src/,88,"Since we're adding seconds past the hour, we want time but without minutes or seconds",
sentry/src/,91,Use timedelta here so keys are consistent around hour boundaries,
sentry/src/,266,If we want to continue attempting to cache after checking against the cache rate,
sentry/src/,268,Needs to happen before creating the cache suffix otherwise rounding will cause different durations,
sentry/src/,270,"Cause there's rounding to create this cache suffix, we want to update the query end so results match",
sentry/src/,308,If only one aggregate is requested then data is just that raw,
sentry/src/,309,"aggregate value, rather than a dictionary of",
sentry/src/,310,key:aggregate_value pairs,
sentry/src/,358,We want to disable FINAL in the snuba query to reduce load.,
sentry/src/,360,"If we are fetching less than MAX_UNSAMPLED_PROJECTS, then disable",
sentry/src/,361,the sampling that turbo enables so that we get more accurate results.,
sentry/src/,362,"We only want sampling when we have a large number of projects, so",
sentry/src/,363,that we don't cause performance issues for Snuba.,
sentry/src/,408,"NB this uses a 'top' values function, but the limit is None so it should",
sentry/src/,409,return all values for this key.,
sentry/src/,443,"Get the total times seen, first seen, and last seen across multiple environments",
sentry/src/,498,Similar to __get_tag_key_and_top_values except we get the top values,
sentry/src/,499,for all the keys provided. value_limit in this case means the number,
sentry/src/,500,"of top values for each key, so the total rows returned should be",
sentry/src/,501,num_keys * limit.,
sentry/src/,503,First get totals and unique counts by key.,
sentry/src/,506,Then get the top values with first_seen/last_seen/count for each,
sentry/src/,534,Then supplement the key objects with the top values for each.,
sentry/src/,588,NB we add release as a condition rather than a filter because,
sentry/src/,589,this method is already dealing with version strings rather than,
sentry/src/,590,release ids which would need to be translated by the snuba util.,
sentry/src/,743,TODO: This means they can't actually paginate all TagValues.,
sentry/src/,779,Closest thing to pre-existing `-id` order,
sentry/src/,803,Snuba has no unique id per GroupTagValue so we'll substitute `-first_seen`,
sentry/src/,821,This method is not implemented because it is only used by the Django,
sentry/src/,822,search backend.,
sentry/src/,3,NOQA,
sentry/src/,7,"TODO(mark) Once this import is removed, transform_results should not",
sentry/src/,8,be exported.,
sentry/src/,30,"if this is non zero, that means there are strings before this index",
sentry/src/,31,that should be converted to snuba column names,
sentry/src/,32,"e.g. ['func1', ['column', 'func2', ['arg1']]]",
sentry/src/,40,check for nested functions in args,
sentry/src/,42,look for columns,
sentry/src/,45,check each argument for column names,
sentry/src/,50,probably a column name,
sentry/src/,83,"if list, means there are potentially nested functions and need to",
sentry/src/,84,iterate and translate potential columns,
sentry/src/,68,max_length here is based on the maximum for transactions in relay,
sentry/src/,60,Old discover expects all queries and uses this parameter.,
sentry/src/,55,prevent conflicting date ranges from being supplied,
sentry/src/,89,"Handle error (exception_stacks), stack(exception_frames)",
sentry/src/,116,Cast boolean values to 1 / 0,
sentry/src/,120,Strip double quotes on strings,
sentry/src/,126,Apply has function to any array field if it's = / != and not part of arrayjoin,
sentry/src/,149,This block of fields is only accepted by discover 1 which omits the version,
sentry/src/,150,attribute or has it set to 1,
sentry/src/,157,There are multiple versions of saved queries supported.,
sentry/src/,160,Attributes that are only accepted if version = 2,
sentry/src/,247,Limit the number of key transactions,
sentry/src/,7,Relaxed permissions for saved queries in Discover,
sentry/src/,60,Convert snuba types to json types,
sentry/src/,130,Make sure that all selected fields are in the group by clause if there,
sentry/src/,131,are aggregations,
sentry/src/,37,"Encapsulates a reference to the callback, including arguments. The `key`",
sentry/src/,38,attribute may be specifically used to key the callbacks when they are,
sentry/src/,39,collated during rule processing.,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,71,"XXX(dcramer): if theres no condition should we really skip it,",
sentry/src/,72,or should we just apply it blindly?,
sentry/src/,51,Fetch the event level from the tags since event.level is,
sentry/src/,52,event.group.level which may have changed,
sentry/src/,75,TODO(dcramer): add support for stacktrace.vars.[name],
sentry/src/,91,TODO(dcramer): we should validate attributes (when we can) before,
sentry/src/,51,subclass must implement,
sentry/src/,86,subclass must implement,
sentry/src/,3,NOQA,
sentry/src/,66,"If we can't find the sentry app OR plugin,",
sentry/src/,67,"we've removed the plugin no need to error, just skip.",
sentry/src/,3,NOQA,
sentry/src/,35,plugin is now wrapped in the LegacyPluginService object,
sentry/src/,62,Expire the pipeline after 10 minutes of inactivity.,
sentry/src/,122,TODO(dcramer): this is very similar to attach,
sentry/src/,135,this is likely the case when someone was removed from the org,
sentry/src/,136,but still has access to rejoin,
sentry/src/,163,If the user is either currently *pending* invite acceptance (as indicated,
sentry/src/,164,from the pending-invite cookie) OR an existing invite exists on this,
sentry/src/,165,organziation for the email provided by the identity provider.,
sentry/src/,170,If we are able to accept an existing invite for the user for this,
sentry/src/,171,"organization, do so, otherwise handle new membership",
sentry/src/,177,"It's possible the user has an _invite request_ that hasn't been approved yet,",
sentry/src/,178,and is able to join the organization without an invite through the SSO flow.,
sentry/src/,179,"In that case, delete the invite request and create a new membership.",
sentry/src/,182,Otherwise create a new membership,
sentry/src/,216,prioritize identifying by the SSO provider's user ID,
sentry/src/,221,otherwise look for an already attached identity,
sentry/src/,222,this can happen if the SSO provider's internal ID changes,
sentry/src/,235,"TODO(dcramer): this might leave the user with duplicate accounts,",
sentry/src/,236,and in that kind of situation its very reasonable that we could,
sentry/src/,237,test email addresses + is_managed to determine if we can auto,
sentry/src/,238,merge,
sentry/src/,240,"it's possible the user has an existing identity, let's wipe it out",
sentry/src/,241,so that the new identifier gets used (other we'll hit a constraint),
sentry/src/,242,"violation since one might exist for (provider, user) as well as",
sentry/src/,243,"(provider, ident)",
sentry/src/,248,since we've identify an identity which is no longer valid,
sentry/src/,249,lets preemptively mark it as such,
sentry/src/,335,"Always remove any pending invite cookies, pending invites will have been",
sentry/src/,336,accepted during the SSO flow.,
sentry/src/,360,TODO(dcramer): its possible they have multiple accounts and at,
sentry/src/,361,least one is managed (per the check below),
sentry/src/,377,If they already have an SSO account and the identity provider says,
sentry/src/,378,the email matches we go ahead and let them merge it. This is the,
sentry/src/,379,"only way to prevent them having duplicate accounts, and because",
sentry/src/,380,"we trust identity providers, its considered safe.",
sentry/src/,381,"Note: we do not trust things like SAML, so the SSO implementation needs",
sentry/src/,382,to consider if 'email_verified' can be trusted or not,
sentry/src/,384,we only allow this flow to happen if the existing user has,
sentry/src/,385,"membership, otherwise we short circuit because it might be",
sentry/src/,386,an attempt to hijack membership of another organization,
sentry/src/,402,assume they've confirmed they want to attach the identity,
sentry/src/,405,force them to create a new account,
sentry/src/,407,"without a usable password they cant login, so let's clear the acting_user",
sentry/src/,418,"confirm authentication, login",
sentry/src/,421,This flow is special.  If we are going through a 2FA,
sentry/src/,422,flow here (login returns False) we want to instruct the,
sentry/src/,423,system to return upon completion of the 2fa flow to the,
sentry/src/,424,current URL and continue with the dialog.,
sentry/src/,425,,
sentry/src/,426,If there is no 2fa we don't need to do this and can just,
sentry/src/,427,go on.,
sentry/src/,470,XXX(dcramer): this is repeated from above,
sentry/src/,533,logging in or registering,
sentry/src/,535,configuring the provider,
sentry/src/,587,"we serialize the pipeline to be [AuthView().get_ident(), ...] which",
sentry/src/,588,allows us to determine if the pipeline has changed during the auth,
sentry/src/,589,flow or if the user is somehow circumventing a chunk of it,
sentry/src/,640,"The state data may have expried, in which case the state data will",
sentry/src/,641,simply be None.,
sentry/src/,651,create identity and authenticate the user,
sentry/src/,687,Handle migration of identity keys,
sentry/src/,707,"If the User attached to this AuthIdentity is not active,",
sentry/src/,708,"we want to clobber the old account and take it over, rather than",
sentry/src/,709,getting logged into the inactive account.,
sentry/src/,711,"Current user is also not logged in, so we have to",
sentry/src/,712,assume unknown.,
sentry/src/,757,disable require 2FA for the organization,
sentry/src/,758,since only SSO or require 2FA can be enabled,
sentry/src/,802,create identity and authenticate the user,
sentry/src/,29,TODO(dcramer): we want to optimize this access pattern as its several,
sentry/src/,30,network hops and needed in a lot of places,
sentry/src/,48,"If an owner is trying to gain access,",
sentry/src/,49,allow bypassing SSO if there are no other,
sentry/src/,50,owners with SSO enabled.,
sentry/src/,72,teams with membership,
sentry/src/,74,projects with membership,
sentry/src/,76,"if has_global_access is True, then any project",
sentry/src/,77,matching organization_id is valid. This is used for,
sentry/src/,78,both `organization.allow_joinleave` and to indicate,
sentry/src/,79,that the role is global / a user is an active superuser,
sentry/src/,172,"TODO(dcramer): this is still a little gross, and ideally backend access",
sentry/src/,173,would be based on the same scopes as API access so theres clarity in,
sentry/src/,174,what things mean,
sentry/src/,280,we special case superuser so that if they're a member of the org,
sentry/src/,281,"they must still follow SSO checks, but they gain global access",
sentry/src/,351,ensure cached relation,
sentry/src/,358,TODO(dcramer): we want to optimize this access pattern as its several,
sentry/src/,359,network hops and needed in a lot of places,
sentry/src/,62,singleton,
sentry/src/,19,Default to id when coercing for query lookup,
sentry/src/,31,All auth providers by default require the sso-basic feature,
sentry/src/,10,"Ideally this and PluginManager abstracted from the same base, but",
sentry/src/,11,InstanceManager has become convoluted and wasteful,
sentry/src/,35,dont allow unregistering of arbitrary provider,
sentry/src/,38,we gracefully handle a missing provider,
sentry/src/,43,the maximum time the session can stay alive,
sentry/src/,46,the maximum time the session can stay alive without making another request,
sentry/src/,80,if we've been logged out,
sentry/src/,83,if superuser status was changed,
sentry/src/,86,if the user has changed,
sentry/src/,96,if we've bound superuser to an organization they must,
sentry/src/,97,have completed SSO to gain status,
sentry/src/,100,"if there's no IPs configured, we allow assume its the same as *",
sentry/src/,242,"we bind uid here, as if you change users in the same request",
sentry/src/,243,we wouldn't want to still support superuser auth (given,
sentry/src/,244,the superuser check happens right here),
sentry/src/,250,the absolute maximum age of this session,
sentry/src/,252,do we have a valid superuser session?,
sentry/src/,254,"is the session active? (it could be valid, but inactive)",
sentry/src/,260,XXX(dcramer): do we really need the uid safety m echanism,
sentry/src/,308,always re-bind the cookie to update the idle expiration window,
sentry/src/,314,"set max_age to None, as we want this cookie to expire on browser close",
sentry/src/,321,"otherwise, if the session is invalid and there's a cookie set, clear it",
sentry/src/,88,TODO: this needs the auth yet,
sentry/src/,118,"we can either expect the API to be implicit and say ""im looking for",
sentry/src/,119,"blah within state data"" or we need to pass implementation + call a",
sentry/src/,120,hook here,
sentry/src/,162,data = state['data'],
sentry/src/,163,return {,
sentry/src/,164,"'id': '',",
sentry/src/,165,"'email': '',",
sentry/src/,166,"'name': '',",
sentry/src/,167,"'data': self.get_oauth_data(data),",
sentry/src/,168,},
sentry/src/,172,we want to maintain things like refresh_token that might not,
sentry/src/,173,exist on a refreshed state,
sentry/src/,202,"this may not be common, but at the very least Google will return",
sentry/src/,203,an invalid grant when a user is suspended,
sentry/src/,27,we request repo as we share scopes with the other GitHub integration,
sentry/src/,30,deprecated please use GITHUB_API_DOMAIN and GITHUB_BASE_DOMAIN,
sentry/src/,65,A user hasn't set their name in their Github profile so it isn't,
sentry/src/,66,populated in the response,
sentry/src/,83,"TODO(dcramer): this isnt ideal, but our current flow doesnt really",
sentry/src/,84,support this behavior;,
sentry/src/,20,In some scenarios the IDP sticks the x509cert in the x509certMulti,
sentry/src/,21,parameter,
sentry/src/,40,cast unicode xml to byte string so lxml won't complain when trying to,
sentry/src/,41,parse a xml document with a type declaration.,
sentry/src/,97,"Data is bound, do not respond with a form to signal the nexts steps",
sentry/src/,102,NOTE: These fields explicitly map to the sentry.auth.saml2.Attributes keys,
sentry/src/,78,"During the setup pipeline, the provider will not have been configured yet,",
sentry/src/,79,so build the config first from the state.,
sentry/src/,89,"With SAML, the SSO request can be initiated by both the Service Provider",
sentry/src/,90,"(sentry) (the typical case) and the Identity Provider. In the second case,",
sentry/src/,91,the auth assertion is directly posted to the ACS URL. Because the user will,
sentry/src/,92,not have initiated their SSO flow we must provide a endpoint similar to,
sentry/src/,93,"auth_provider_login, but with support for initing the auth flow.",
sentry/src/,101,"SP initiated authentication, request helper is provided",
sentry/src/,108,IdP initiated authentication. The organizatio_slug must be valid and,
sentry/src/,109,an auth provider must exist for this organization to proceed with,
sentry/src/,110,IdP initiated SAML auth.,
sentry/src/,139,If we're authenticating during the setup pipeline the provider will,
sentry/src/,140,"not have been configured yet, build the config first from the state",
sentry/src/,149,SSO response verification failed,
sentry/src/,169,No need to logout an anonymous user.,
sentry/src/,284,Default attribute mapping if none bound,
sentry/src/,294,map configured provider attributes,
sentry/src/,298,Email and identifier MUST be correctly mapped,
sentry/src/,317,Nothing to refresh,
sentry/src/,345,TODO(epurkhiser): This is also available in the helper and should probably come from there.,
sentry/src/,10,Onelogin specifically calls their Metadata URL a 'Issuer URL',
sentry/src/,31,Rippling is currently it's own feature,
sentry/src/,55,process_metadata will return None when the action was successful and,
sentry/src/,56,data was bound to the helper.,
sentry/src/,21,Auth0 does not provider first / last names,
sentry/src/,46,support legacy style domains with pure domain regexp,
sentry/src/,21,TODO(dcramer): ideally we could look at the current resulting state,
sentry/src/,22,"when an existing auth happens, and if they're missing a refresh_token",
sentry/src/,23,we should re-prompt them a second time with ``approval_prompt=force``,
sentry/src/,39,if a domain is not configured this is part of the setup pipeline,
sentry/src/,40,this is a bit complex in Sentry's SSO implementation as we don't,
sentry/src/,41,provide a great way to get initial state for new setup pipelines,
sentry/src/,42,vs missing state in case of migrations.,
sentry/src/,77,https://developers.google.com/identity/protocols/OpenIDConnect#server-flow,
sentry/src/,78,data.user => {,
sentry/src/,79,"""iss"":""accounts.google.com"",",
sentry/src/,80,"""at_hash"":""HK6E_P6Dh8Y93mRNtsDB1Q"",",
sentry/src/,81,"""email_verified"":""true"",",
sentry/src/,82,"""sub"":""10769150350006150715113082367"",",
sentry/src/,83,"""azp"":""1234987819200.apps.googleusercontent.com"",",
sentry/src/,84,"""email"":""jsmith@example.com"",",
sentry/src/,85,"""aud"":""1234987819200.apps.googleusercontent.com"",",
sentry/src/,86,"""iat"":1353601026,",
sentry/src/,87,"""exp"":1353604926,",
sentry/src/,88,"""hd"":""example.com""",
sentry/src/,89,},
sentry/src/,93,XXX(epurkhiser): We initially were using the email as the id key.,
sentry/src/,94,This caused account dupes on domain changes. Migrate to the,
sentry/src/,95,account-unique sub key.,
sentry/src/,108,The minimal list of columns we need to get from snuba to bootstrap an,
sentry/src/,109,event. If the client is planning on loading the entire event body from,
sentry/src/,110,"nodestore anyway, we may as well only fetch the minimum from snuba to",
sentry/src/,111,avoid duplicated work.,
sentry/src/,120,NOQA,
sentry/src/,140,NOQA,
sentry/src/,170,NOQA,
sentry/src/,181,NOQA,
sentry/src/,192,NOQA,
sentry/src/,203,NOQA,
sentry/src/,234,Remove duplicates from the list of nodes to be fetched,
sentry/src/,45,do not pickle cached info.  We want to fetch this on demand,
sentry/src/,46,again.  In particular if we were to pickle interfaces we would,
sentry/src/,47,pickle a CanonicalKeyView which old sentry workers do not know,
sentry/src/,48,about,
sentry/src/,129,Nodestore implementation,
sentry/src/,140,"at one point Sentry allowed invalid tag sets such as (foo, bar)",
sentry/src/,141,"vs ((tag, foo), (tag, bar))",
sentry/src/,266,TODO We need a better way to cache these properties.  functools32,
sentry/src/,267,doesn't quite do the trick as there is a reference bug with unsaved,
sentry/src/,268,models. But the current _group_cache thing is also clunky because these,
sentry/src/,269,properties need to be stripped out in __getstate__.,
sentry/src/,317,For some inexplicable reason we have some cases where the data,
sentry/src/,318,is completely empty.  In that case we want to hobble along,
sentry/src/,319,further.,
sentry/src/,334,"If we have hashes stored in the data we use them, otherwise we",
sentry/src/,335,fall back to generating new ones from the data.  We can only use,
sentry/src/,336,this if we do not force a different config.,
sentry/src/,361,Forcing configs has two separate modes.  One is where just the,
sentry/src/,362,config ID is given in which case it's merged with the stored or,
sentry/src/,363,default config dictionary,
sentry/src/,372,Otherwise we just use the same grouping config as stored.  if,
sentry/src/,373,this is None the `get_grouping_variants_for_event` will fill in,
sentry/src/,374,the default.,
sentry/src/,385,TODO: This *might* need to be protected from an IndexError?,
sentry/src/,416,We use a OrderedDict to keep elements ordered for a potential JSON serializer,
sentry/src/,433,for a long time culprit was not persisted.  In those cases put,
sentry/src/,434,the culprit in from the group.,
sentry/src/,438,Override title and location with dynamically generated data,
sentry/src/,476,Events are currently populated from the Events dataset,
sentry/src/,5,NOQA,
sentry/src/,51,NOQA,
sentry/src/,61,NOQA,
sentry/src/,71,NOQA,
sentry/src/,81,NOQA,
sentry/src/,91,NOQA,
sentry/src/,98,NOQA,
sentry/src/,102,This is an optimization for the Group.filter_by_event_id query where we,
sentry/src/,103,have a single event ID and want to check all accessible projects for a,
sentry/src/,104,direct hit. In this case it's usually faster to go to nodestore first.,
sentry/src/,143,Bind previously fetched node data,
sentry/src/,187,Return None if there was no data in nodestore,
sentry/src/,191,Load group_id from Snuba if not a transaction,
sentry/src/,202,Return None if the event from Nodestore was not yet written to Snuba,
sentry/src/,214,NOQA,
sentry/src/,215,NOQA,
sentry/src/,220,NOQA,
sentry/src/,222,NOQA,
sentry/src/,223,NOQA,
sentry/src/,228,NOQA,
sentry/src/,230,NOQA,
sentry/src/,235,NOQA,
sentry/src/,240,NOQA,
sentry/src/,245,NOQA,
sentry/src/,247,NOQA,
sentry/src/,252,NOQA,
sentry/src/,257,NOQA,
sentry/src/,262,NOQA,
sentry/src/,267,NOQA,
sentry/src/,271,This query uses the discover dataset to enable,
sentry/src/,272,"getting events across both errors and transactions, which is",
sentry/src/,273,required when doing pagination in discover,
sentry/src/,286,This can happen when the date conditions for paging,
sentry/src/,287,and the current event generate impossible conditions.,
sentry/src/,3,NOQA,
sentry/src/,30,just check for the Relay object and insert it if it does not exist,
sentry/src/,36,NOQA,
sentry/src/,37,relay already registered  probably the first test (registration happened at Relay handshake time),
sentry/src/,38,NOQA,
sentry/src/,59,"50MB, default is 1MB",
sentry/src/,111,check that we found it in Snuba,
sentry/src/,121,NOQA,
sentry/src/,130,noqa,
sentry/src/,131,noqa,
sentry/src/,1,-*- coding: utf-8 -*-,
sentry/src/,81,src/sentry/testutils/,
sentry/src/,82,src/sentry/,
sentry/src/,83,src/,
sentry/src/,221,TODO(dcramer): consider moving to something more scaleable like factoryboy,
sentry/src/,332,add commits,
sentry/src/,457,UserEmail is created by a signal,
sentry/src/,476,"Like `create_event`, but closer to how events are actually",
sentry/src/,477,ingested. Prefer to use this method over `create_event`,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,151,"order matters here, session -> user -> other things",
sentry/src/,160,"TODO(dcramer): ideally superuser_sso would be False by default, but that would require",
sentry/src/,161,a lot of tests changing,
sentry/src/,181,TODO(dcramer): ideally this would get abstracted,
sentry/src/,185,"logging in implicitly binds superuser, but for test cases we",
sentry/src/,186,want that action to be explicit to avoid accidentally testing,
sentry/src/,187,superuser-only code,
sentry/src/,189,XXX(dcramer): we're calling the internal method to avoid logging,
sentry/src/,193,XXX(dcramer): awful hack to ensure future attempts to instantiate,
sentry/src/,194,the Superuser object are successful,
sentry/src/,206,Save the session values.,
sentry/src/,304,"HTTP_USER_AGENT=DEFAULT_USER_AGENT,",
sentry/src/,452,"In some cases we want to pass querystring params to put/post, handle",
sentry/src/,453,this here.,
sentry/src/,528,TestCase automatically sets up dummy provider,
sentry/src/,570,disable default allow_joinleave access,
sentry/src/,655,"Old plugins, plugin is a class, new plugins, it's an instance",
sentry/src/,656,New plugins don't need to be registered,
sentry/src/,715,Forward session cookie to django client.,
sentry/src/,752,"XXX(dcramer): this is a bit of a hack, but it helps contain this test",
sentry/src/,813,TODO: Abstract and combine this with the stream code in,
sentry/src/,814,"getsentry once it is merged, so that we don't alter one",
sentry/src/,815,without updating the other.,
sentry/src/,14,XXX(dcramer): this is a compatibility layer to transition to pytest-based fixtures,
sentry/src/,15,all of the memoized fixtures are copypasta due to our inability to use pytest fixtures,
sentry/src/,16,on a per-class method basis,
sentry/src/,32,XXX(dcramer): ensure that your org slug doesnt match your team slug,
sentry/src/,33,and the same for your project slug,
sentry/src/,39,XXX: handle legacy team fixture,
sentry/src/,27,Patch options into SENTRY_OPTIONS as well,
sentry/src/,23,DELETE * FROM ...,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,9,NOQA,
sentry/src/,10,NOQA,
sentry/src/,21,"We end up caching these disallowed ips on this function, so",
sentry/src/,22,make sure we clear the cache as part of cleanup,
sentry/src/,62,Attempt to resolve all arguments into actual variables.,
sentry/src/,63,"This converts a value such as `""foo""` into the string `foo`",
sentry/src/,64,and will look up a value such as `foo` from the context as,
sentry/src/,65,"the variable `foo`. If the variable does not exist, silently",
sentry/src/,66,"resolve as an empty string, which matches the behavior",
sentry/src/,67,`SimpleTagNode`,
sentry/src/,76,No args is just fine,
sentry/src/,79,"If there's only 1 argument, there's nothing to format",
sentry/src/,87,We're doing an `as foo` and we want to assign the result,
sentry/src/,88,to a variable instead of actually returning.,
sentry/src/,99,Check if the last two bits are `as {var}`,
sentry/src/,226,value is assumed to be in ms,
sentry/src/,35,"They share the same domain prefix, so we don't need CORS",
sentry/src/,51,"it's possible that request at this point, LANGUAGE_CODE hasn't be bound",
sentry/src/,52,to the Request object yet. This specifically happens when rendering our own,
sentry/src/,53,"500 error page, resulting in yet another error trying to render our error.",
sentry/src/,15,Adapted from http://en.gravatar.com/site/implement/images/django/,
sentry/src/,16,"The ""mm"" default is for the grey, ""mystery man"" icon. See:",
sentry/src/,17,http://en.gravatar.com/site/implement/images/,
sentry/src/,40,Don't use this in any situations where you're rendering more,
sentry/src/,41,than 1-2 avatars. It will make a request for every user!,
sentry/src/,49,user can be User or OrganizationMember,
sentry/src/,70,user can be User or OrganizationMember,
sentry/src/,39,Check to make sure it's not already in sys.modules in case of a reload(),
sentry/src/,41,pragma: no cover,
sentry/src/,55,Install into sys.modules explicitly,
sentry/src/,71,Django doesn't play too nice without the config file living as a real,
sentry/src/,72,"file, so let's fake it.",
sentry/src/,75,install the default settings for this app,
sentry/src/,78,install the custom settings for this app,
sentry/src/,108,entry_points={,
sentry/src/,109,'sentry.apps': [,
sentry/src/,110,'phabricator = sentry_phabricator',
sentry/src/,111,"],",
sentry/src/,112,"},",
sentry/src/,135,In case the user forgot the comma.,
sentry/src/,137,Any setting that starts with EXTRA_ and matches a setting that is a list or tuple,
sentry/src/,138,will automatically append the values to the current setting.,
sentry/src/,139,It might make sense to make this less magical,
sentry/src/,22,entry_points={,
sentry/src/,23,'sentry.plugins': [,
sentry/src/,24,'phabricator = sentry_phabricator.plugins:PhabricatorPlugin',
sentry/src/,25,"],",
sentry/src/,26,"},",
sentry/src/,72,Register contexts from plugins if necessary,
sentry/src/,103,force signal registration,
sentry/src/,104,NOQA,
sentry/src/,118,Options which must get extracted into Django settings while,
sentry/src/,119,bootstrapping. Everything else will get validated and used,
sentry/src/,120,as a part of OptionsManager.,
sentry/src/,122,"'cache.backend': 'SENTRY_CACHE',",
sentry/src/,123,"'cache.options': 'SENTRY_CACHE_OPTIONS',",
sentry/src/,124,"'system.databases': 'DATABASES',",
sentry/src/,125,"'system.debug': 'DEBUG',",
sentry/src/,144,Make sure our options have gotten registered,
sentry/src/,151,Attempt to load our config yaml file,
sentry/src/,160,Gracefully fail if yaml file doesn't exist,
sentry/src/,167,"Empty options file, so fail gracefully",
sentry/src/,170,Options needs to be a dict,
sentry/src/,178,First move options from settings into options,
sentry/src/,184,Stuff everything else into SENTRY_OPTIONS,
sentry/src/,185,these will be validated later after bootstrapping,
sentry/src/,189,Now go back through all of SENTRY_OPTIONS and promote,
sentry/src/,190,back into settings. This catches the case when values are defined,
sentry/src/,191,only in SENTRY_OPTIONS and no config.yml file,
sentry/src/,195,Map the mail.backend aliases to something Django understands,
sentry/src/,201,Escalate the few needed to actually get the app bootstrapped into settings,
sentry/src/,272,Commonly setups don't correctly configure themselves for production envs,
sentry/src/,273,so lets try to provide a bit more guidance,
sentry/src/,426,https://code.djangoproject.com/ticket/27187,
sentry/src/,427,Django 1.10 breaks pickle compat with 1.9 models.,
sentry/src/,430,"Django 1.10 needs this to unpickle 1.9 models, but we can't branch while",
sentry/src/,431,monkeypatching else our monkeypatched funcs won't be pickleable.,
sentry/src/,432,So just vendor simple_class_factory from 1.9.,
sentry/src/,437,"This monkeypatches django's migration executor with our own, which",
sentry/src/,438,adds some small but important customizations.,
sentry/src/,439,NOQA,
sentry/src/,443,The default ``OptionsStore`` instance is initialized without the cache,
sentry/src/,444,backend attached. The store itself utilizes the cache during normal,
sentry/src/,445,"operation, but can't use the cache before the options (which typically",
sentry/src/,446,includes the cache configuration) have been bootstrapped from the legacy,
sentry/src/,447,settings and/or configuration values. Those options should have been,
sentry/src/,448,"loaded at this point, so we can plug in the cache backend before",
sentry/src/,449,continuing to initialize the remainder of the application.,
sentry/src/,475,SENTRY_USE_QUEUE used to determine if Celery was eager or not,
sentry/src/,517,Provide backwards compatibility to plugins expecting there to be a,
sentry/src/,518,``SENTRY_REDIS_OPTIONS`` setting by using the ``default`` cluster.,
sentry/src/,519,This should be removed when ``SENTRY_REDIS_OPTIONS`` is officially,
sentry/src/,520,deprecated. (This also assumes ``FLAG_NOSTORE`` on the configuration,
sentry/src/,521,option.),
sentry/src/,527,HACK: We need to have some value here for backwards compatibility,
sentry/src/,532,non-UTC timezones are not supported,
sentry/src/,535,Set ALLOWED_HOSTS if it's not already available,
sentry/src/,551,HACK(mattrobenolt): This is a one-off assertion for a system.secret-key value.,
sentry/src/,552,"If this becomes a pattern, we could add another flag to the OptionsManager to cover this, but for now",
sentry/src/,553,this is the only value that should prevent the app from booting up. Currently FLAG_REQUIRED is used to,
sentry/src/,554,"trigger the Installation Wizard, not abort startup.",
sentry/src/,584,TODO(mattrobenolt): Remove ServiceDelegator check,
sentry/src/,594,"All good here, it doesn't matter what else is going on",
sentry/src/,11,We need to run this here because of a concurrency bug in Python's locale,
sentry/src/,12,with the lazy initialization.,
sentry/src/,15,Parse out a pretty version for use with --version,
sentry/src/,40,"Elevate --config option to SENTRY_CONF env var, and just assume this",
sentry/src/,41,always will exist down the line,
sentry/src/,47,TODO(mattrobenolt): Autodiscover commands?,
sentry/src/,124,TODO(mattrobenolt): Surface this also as a CLI option?,
sentry/src/,70,"This is the old, now deprecated code path where SENTRY_CONF is pointed directly",
sentry/src/,71,to a python file,
sentry/src/,92,Make sure that our warnings are always displayed,
sentry/src/,97,"for now, squelch Django 2 warnings so prod logs aren't clogged",
sentry/src/,102,Add in additional mimetypes that are useful for our static files,
sentry/src/,103,which aren't common in default system registries,
sentry/src/,121,`yaml` will be None when SENTRY_CONF is pointed,
sentry/src/,122,"directly to a file, in which case, this file must exist",
sentry/src/,138,Add autoreload for config.yml file if needed,
sentry/src/,148,HACK: we need to force access of django.conf.settings to,
sentry/src/,149,ensure we don't hit any import-driven recursive behavior,
sentry/src/,23,HACK: We can't call `configure()` from within tests,
sentry/src/,24,"since we don't load config files from disk, so we",
sentry/src/,25,need a way to bypass this initialization step,
sentry/src/,26,"Process the list of models, and get the list of dependencies",
sentry/src/,34,Add any explicitly defined dependencies,
sentry/src/,42,Now add a dependency for any FK relation with a model that,
sentry/src/,43,defines a natural key,
sentry/src/,50,Also add a dependency for any simple M2M relation with a model,
sentry/src/,51,that defines a natural key.  M2M relations with explicit through,
sentry/src/,52,models don't count as dependencies.,
sentry/src/,60,Now sort the models to ensure that dependencies are met. This,
sentry/src/,61,is done by repeatedly iterating over the input list of models.,
sentry/src/,62,"If all the dependencies of a given model are in the final list,",
sentry/src/,63,that model is promoted to the end of the final list. This process,
sentry/src/,64,"continues until the input list is empty, or we do a full iteration",
sentry/src/,65,over the input models without promoting a model to the final list.,
sentry/src/,66,"If we do a full iteration without a promotion, that means there are",
sentry/src/,67,circular dependencies in the list.,
sentry/src/,75,If all of the models in the dependency list are either already,
sentry/src/,76,"on the final model list, or not on the original serialization list,",
sentry/src/,77,then we've found another model with all it's dependencies satisfied.,
sentry/src/,119,Collate the objects to be serialized.,
sentry/src/,7,"If this changes, make sure to also update in the `__doc__`",
sentry/src/,47,"Can't have both a file and command, when passing both",
sentry/src/,48,-c takes priority and rest is ignored. This mimics,
sentry/src/,49,`python -c` behavior.,
sentry/src/,53,"If we specify neither, read from stdin",
sentry/src/,102,Need to reindent the code to fit inside the `try` block,
sentry/src/,108,Chop off `exec` from `sys.argv` so scripts can handle,
sentry/src/,109,this as expected.,
sentry/src/,112,globals context,
sentry/src/,114,Inject `__name__ = '__main__' for scripts,
sentry/src/,118,we use globals as locals due to:,
sentry/src/,119,http://stackoverflow.com/a/2906198/154651,
sentry/src/,55,remove command line arguments to avoid optparse failures with service code,
sentry/src/,56,"that calls call_command which reparses the command line, and if --noupgrade is supplied",
sentry/src/,57,a parse error is thrown,
sentry/src/,10,List of migrations which we'll fake if we're coming from South,
sentry/src/,13,Note that we need to have ops make the `django_content_type.name` column nullable.,
sentry/src/,14,"This migration removes the column in the same migration, which will likely take",
sentry/src/,15,sentry down.,
sentry/src/,96,ensure the django_migrations relation exists,
sentry/src/,120,migrate legacy south history into new django migrations automatically,
sentry/src/,72,"default configuration, the dev server address depends on weather we have a reverse proxy",
sentry/src/,73,in front that splits the requests between Relay and the dev server or we pass everything,
sentry/src/,74,to the dev server,
sentry/src/,90,NODE_ENV *must* use production for any prod-like environment as third party libraries look,
sentry/src/,91,for this magic constant,
sentry/src/,100,Make sure we're trying to use a port that we can actually bind to,
sentry/src/,123,Make sure we reload really quickly for local dev in case it,
sentry/src/,124,"doesn't want to shut down nicely on it's own, NO MERCY",
sentry/src/,126,We need stdin to support pdb in devserver,
sentry/src/,128,accept ridiculously large files,
sentry/src/,130,do something with chunked,
sentry/src/,151,We proxy all requests through webpacks devserver on the configured port.,
sentry/src/,152,The backend is served on port+1 and is proxied via the webpack,
sentry/src/,153,configuration.,
sentry/src/,166,webpack and/or typescript is causing memory issues,
sentry/src/,171,Replace the webpack watcher with the drop-in webpack-dev-server,
sentry/src/,179,"If we are the bare http server, use the http option with uwsgi protocol",
sentry/src/,180,See https://uwsgi-docs.readthedocs.io/en/latest/HTTP.html,
sentry/src/,183,Make sure uWSGI spawns an HTTP server for us as we don't,
sentry/src/,184,have a proxy/load-balancer in front in dev mode.,
sentry/src/,187,This is needed to prevent https://git.io/fj7Lw,
sentry/src/,212,Determine a random port for the backend http server,
sentry/src/,226,"A better log-format for local dev when running through honcho,",
sentry/src/,227,"but if there aren't any other daemons, we don't want to override.",
sentry/src/,235,"If we don't need any other daemons, just launch a normal uwsgi webserver",
sentry/src/,236,and avoid dealing with subprocesses,
sentry/src/,247,Make sure that the environment is prepared before honcho takes over,
sentry/src/,248,"This sets all the appropriate uwsgi env vars, etc",
sentry/src/,32,"If there is no interface specified, make sure the",
sentry/src/,33,default interface is 127.0.0.1,
sentry/src/,95,HACK(mattrobenolt): special handle snuba backend because it needs to,
sentry/src/,96,handle different values based on the eventstream backend,
sentry/src/,97,"For snuba, we can't run the full suite of devserver, but can only",
sentry/src/,98,run the api.,
sentry/src/,41,Providing a compatibility with splitting,
sentry/src/,42,the `events` queue until multiple queues,
sentry/src/,43,without the need to explicitly add them.,
sentry/src/,211,"These options are no longer used, but keeping around",
sentry/src/,212,for backwards compatibility,
sentry/src/,220,"NOTE: without_mingle breaks everything,",
sentry/src/,221,we can't get rid of this. Intentionally kept,
sentry/src/,222,here as a warning. Jobs will not process.,
sentry/src/,223,"without_mingle=True,",
sentry/src/,233,`worker.exitcode` was added in a newer version of Celery:,
sentry/src/,234,https://github.com/celery/celery/commit/dc28e8a5,
sentry/src/,235,so this is an attempt to be forwards compatible,
sentry/src/,272,"without_gossip=True,",
sentry/src/,273,"without_mingle=True,",
sentry/src/,274,"without_heartbeat=True,",
sentry/src/,45,TODO(mattrobenolt): Add help to option keys,
sentry/src/,46,if key.help:,
sentry/src/,47,click.echo(key.help + '\n'),
sentry/src/,22,"In this case, the config is pointing directly to a file, so we",
sentry/src/,23,"must maintain old behavior, and just abort",
sentry/src/,25,TODO: Link to docs explaining about new behavior of SENTRY_CONF?,
sentry/src/,66,TODO(mattrobenolt): Accept password over stdin?,
sentry/src/,92,TODO(dcramer): kill this when we improve flows,
sentry/src/,103,if we've only got a single team let's go ahead and give,
sentry/src/,104,access to that team as its likely the desired outcome,
sentry/src/,14,allows services like tagstore to add their own (abstracted) models,
sentry/src/,15,to cleanup,
sentry/src/,33,We need a unique value to indicate when to stop multiprocessing queue,
sentry/src/,34,an identity on an object() isn't guaranteed to work between parent,
sentry/src/,35,and child proc,
sentry/src/,42,Configure within each Process,
sentry/src/,56,"On first task, configure Sentry environment",
sentry/src/,67,Handled by other parts of cleanup,
sentry/src/,73,Handled by TTL,
sentry/src/,137,Make sure we fork off multiprocessing pool,
sentry/src/,138,before we import or configure the app,
sentry/src/,165,list of models which this query is restricted to,
sentry/src/,175,Deletions that use `BulkDeleteQuery` (and don't need to worry about child relations),
sentry/src/,176,"(model, datetime_field, order_by)",
sentry/src/,184,Deletions that use the `deletions` code path (which handles their child relations),
sentry/src/,185,"(model, datetime_field, order_by)",
sentry/src/,221,SentryAppInstallations are associated to ApiTokens. We're okay,
sentry/src/,222,with these tokens sticking around so that the Integration can,
sentry/src/,223,"refresh them, but all other non-associated tokens should be",
sentry/src/,224,deleted.,
sentry/src/,302,Clean up FileBlob instances which are no longer used and aren't super,
sentry/src/,303,recent (as there could be a race between blob creation and reference),
sentry/src/,312,Shut down our pool,
sentry/src/,316,And wait for it to drain,
sentry/src/,31,TODO: We should probably warn about this? Also note that this,
sentry/src/,32,"doesn't use the Django specified timezone, since settings haven't",
sentry/src/,33,been configured yet.,
sentry/src/,48,"XXX(dcramer): this doesnt handle leading spaces, but they're not common",
sentry/src/,49,paths so its ok,
sentry/src/,63,"Some APIs will return JSON with an invalid content-type, so we try",
sentry/src/,64,to decode it anyways,
sentry/src/,196,is still None,
sentry/src/,252,subclasses should override ``request``,
sentry/src/,20,TODO(dcramer): pull in XML support from Jira,
sentry/src/,26,perhaps it's XML?,
sentry/src/,28,must be an awful code.,
sentry/src/,28,how many times do we want to try if stuff goes wrong,
sentry/src/,31,how long are we willing to wait?,
sentry/src/,35,"_client cache is a 3-tuple of project_id, credentials, Client",
sentry/src/,36,"this is so if any information changes under it, it invalidates",
sentry/src/,37,the cache. This scenario is possible since `options` are dynamic,
sentry/src/,50,Partials,
sentry/src/,88,Normalize Windows style paths,
sentry/src/,91,os.path.normpath() can strip trailing slashes so we implement,
sentry/src/,92,a workaround here.,
sentry/src/,94,Add a trailing slash as it was stripped.,
sentry/src/,97,"Given an empty string, os.path.normpath() will return ., which we don't want",
sentry/src/,121,posixpath.normpath() strips the trailing /. Add it back.,
sentry/src/,128,Ensure final_path starts with base_path and that the next character after,
sentry/src/,129,the base path is /.,
sentry/src/,160,NOTE(mattrobenolt): This is the same change in behavior as in,
sentry/src/,161,the s3 backend. We're opting now to load the file,
sentry/src/,162,or metadata at this step. This means we won't actually,
sentry/src/,163,know a file doesn't exist until we try to read it.,
sentry/src/,226,The max amount of memory a returned file can take up before being,
sentry/src/,227,rolled over into a temporary file on disk. Default is 0: Do not roll over.,
sentry/src/,231,check if some of the settings we've provided as class attributes,
sentry/src/,232,need to be overwritten with values passed in here,
sentry/src/,293,root element aka the bucket,
sentry/src/,305,for the bucket.list and logic below name needs to end in /,
sentry/src/,306,"But for the root path """" we leave it as an empty string",
sentry/src/,319,File,
sentry/src/,322,Directory,
sentry/src/,327,Wrap google.cloud.storage's blob to raise if the file doesn't exist,
sentry/src/,352,Preserve the trailing slash after normalizing the path.,
sentry/src/,96,Ensure final_path starts with base_path and that the next character after,
sentry/src/,97,"the final path is '/' (or nothing, in which case final_path must be",
sentry/src/,98,equal to base_path).,
sentry/src/,126,TODO: Read/Write (rw) mode may be a bit undefined at the moment. Needs testing.,
sentry/src/,127,"TODO: When Django drops support for Python 2.5, rewrite to use the",
sentry/src/,128,BufferedIO streams in the Python 2.6 io module.,
sentry/src/,136,NOTE(mattrobenolt): This is an explicit deviation from,
sentry/src/,137,django-storages. This adds an extra HEAD request before,
sentry/src/,138,every GET. This effectively doubles the time it takes for,
sentry/src/,139,every chunk in our filestore. We explicitly are opting,
sentry/src/,140,out of this behavior to avoid this overhead.,
sentry/src/,141,,
sentry/src/,142,if 'w' not in mode:,
sentry/src/,143,# Force early RAII-style exception if object does not exist,
sentry/src/,144,self.obj.load(),
sentry/src/,148,5 MB is the minimum part size (if there is more than one part).,
sentry/src/,149,"Amazon allows up to 10,000 parts.  The default supports uploads",
sentry/src/,150,up to roughly 50 GB.  Increase the part size to accommodate,
sentry/src/,151,for files larger than this.,
sentry/src/,222,TODO: Possibly cache the part ids as they're being uploaded,
sentry/src/,223,"instead of requesting parts from server. For now, emulating",
sentry/src/,224,s3boto's behavior.,
sentry/src/,247,XXX: note that this file reads entirely into memory before the first,
sentry/src/,248,read happens.  This means that it should only be used for small,
sentry/src/,249,files (eg: see how sentry.models.file works with it through the,
sentry/src/,250,ChunkedFileBlobIndexWrapper.,
sentry/src/,256,"If config provided in init, signature_version and addressing_style settings/args are ignored.",
sentry/src/,259,used for looking up the access and secret key from env vars,
sentry/src/,296,check if some of the settings we've provided as class attributes,
sentry/src/,297,need to be overwritten with values passed in here,
sentry/src/,302,For backward-compatibility of old differing parameter names,
sentry/src/,309,Backward-compatibility: given the anteriority of the SECURE_URL setting,
sentry/src/,310,we fall back to https if specified in order to avoid the construction,
sentry/src/,311,of unsecure urls.,
sentry/src/,330,"TODO: Support host, port like in s3boto",
sentry/src/,331,Note that proxies are handled by environment variables that the underlying,
sentry/src/,332,urllib/requests libraries read. See https://github.com/boto/boto3/issues/338,
sentry/src/,333,and http://docs.python-requests.org/en/latest/user/advanced/#proxies,
sentry/src/,336,"If this is running on an ec2 instance, allow boto to connect using an IAM role",
sentry/src/,337,instead of explicitly provided an access key and secret,
sentry/src/,338,http://boto3.readthedocs.io/en/latest/guide/configuration.html#iam-role,
sentry/src/,400,Directly call head_bucket instead of bucket.load() because head_bucket(),
sentry/src/,401,"fails on wrong region, while bucket.load() does not.",
sentry/src/,411,"Notes: When using the us-east-1 Standard endpoint, you can create",
sentry/src/,412,buckets in other regions. The same is not true when hitting region specific,
sentry/src/,413,"endpoints. However, when you create the bucket not in the same region, the",
sentry/src/,414,connection will fail all future requests to the Bucket after the creation,
sentry/src/,415,(301 Moved Permanently).,
sentry/src/,416,,
sentry/src/,417,"For simplicity, we enforce in S3Boto3Storage that any auto-created",
sentry/src/,418,bucket must match the region that the connection is for.,
sentry/src/,419,,
sentry/src/,420,"Also note that Amazon specifically disallows ""us-east-1"" when passing bucket",
sentry/src/,421,region names; LocationConstraint *must* be blank to create in US Standard.,
sentry/src/,442,Normalize Windows style paths,
sentry/src/,445,os.path.normpath() can strip trailing slashes so we implement,
sentry/src/,446,a workaround here.,
sentry/src/,448,Add a trailing slash as it was stripped.,
sentry/src/,479,"Boto 2 returned the InMemoryUploadedFile with the file pointer replaced,",
sentry/src/,480,but Boto 3 seems to have issues with that. No need for fp.name in Boto3,
sentry/src/,481,so just returning the BytesIO directly,
sentry/src/,491,Let it bubble up if it was some other error,
sentry/src/,503,setting the content_type in the key object is not enough.,
sentry/src/,516,"Note: In boto3, after a put, last_modified is automatically reloaded",
sentry/src/,517,the next time it is accessed; no need to specifically reload it.,
sentry/src/,521,only pass backwards incompatible arguments if they vary from the default,
sentry/src/,555,for the bucket.objects.filter and logic below name needs to end in /,
sentry/src/,556,"But for the root path """" we leave it as an empty string",
sentry/src/,567,File,
sentry/src/,570,Directory,
sentry/src/,590,only call self.bucket.Object() if the key is not found,
sentry/src/,591,in the preloaded metadata.,
sentry/src/,595,boto3 returns TZ aware timestamps,
sentry/src/,605,Boto3 does not currently support generating URLs that are unsigned. Instead we,
sentry/src/,606,take the signed URLs and strip any querystring params related to signing and expiration.,
sentry/src/,607,"Note that this may end up with URLs that are still invalid, especially if params are",
sentry/src/,608,"passed in that only work with signed URLs, e.g. response header params.",
sentry/src/,609,The code attempts to strip all query parameters that match names of known parameters,
sentry/src/,610,"from v2 and v4 signatures, regardless of the actual signature version used.",
sentry/src/,628,Note: Parameters that did not have a value in the original query string will have,
sentry/src/,629,"an '=' sign appended to it, e.g ?foo&bar becomes ?foo=&bar=",
sentry/src/,635,Preserve the trailing slash after normalizing the path.,
sentry/src/,636,TODO: Handle force_http=not self.secure_urls like in s3boto,
sentry/src/,4,latest epoch,
sentry/src/,7,grouping related configs,
sentry/src/,8,,
sentry/src/,9,The default values are hardcoded because some grouping configs might,
sentry/src/,10,only exists temporarily for testing purposes.  If we delete them from,
sentry/src/,11,the codebase and a customer still has them set in the options we want to,
sentry/src/,12,fall back to the oldest config.,
sentry/src/,13,,
sentry/src/,14,TODO: we might instead want to fall back to the latest of the project's,
sentry/src/,15,epoch instead.,
sentry/src/,27,Grouping enhancements defaults,
sentry/src/,36,server side fingerprinting defaults.,
sentry/src/,39,The JavaScript loader version that is the project default.  This option,
sentry/src/,40,is expected to be never set but the epoch defaults are used if no,
sentry/src/,41,version is set on a project's DSN.,
sentry/src/,44,Default symbol sources.  The ios source does not exist by default and,
sentry/src/,45,will be skipped later.  The microsoft source exists by default and is,
sentry/src/,46,unlikely to be disabled.,
sentry/src/,52,Default legacy-browsers filter,
sentry/src/,55,Default legacy-browsers filter,
sentry/src/,58,Default legacy-browsers filter,
sentry/src/,61,Default legacy-browsers filter,
sentry/src/,9,expose public api,
sentry/src/,27,NOQA,
sentry/src/,28,NOQA,
sentry/src/,48,The options are frozen in a receiver hook for project saves.,
sentry/src/,49,See `sentry.receivers.core.freeze_option_epoch_for_project`,
sentry/src/,31,Not using `abort=1` because we don't want to exit out from further execution,
sentry/src/,73,XXX(dcramer): we cannot setup onboarding tasks without a user,
sentry/src/,120,"If complete, pass (creation fails due to organization, task unique constraint)",
sentry/src/,121,"If pending, update.",
sentry/src/,122,"If does not exist, create.",
sentry/src/,154,Only counts if it's a new project and platform,
sentry/src/,238,checking to see if only ip address is being sent (our js library does this automatically),
sentry/src/,239,testing for this in test_no_user_tracking_for_ip_address_only,
sentry/src/,240,list(d.keys()) pattern is to make this python3 safe,
sentry/src/,12,Set user language if set,
sentry/src/,33,Remove pending password recovery hashes; user was able to login,
sentry/src/,76,First Event,
sentry/src/,90,Platform,
sentry/src/,94,Release Tracking,
sentry/src/,98,Environment Tracking,
sentry/src/,102,User Tracking,
sentry/src/,104,We'd like them to tag with id or email.,
sentry/src/,105,Certain SDKs automatically tag with ip address.,
sentry/src/,106,Check to make sure more the ip address is being sent.,
sentry/src/,107,testing for this in test_no_user_tracking_for_ip_address_only,
sentry/src/,108,list(d.keys()) pattern is to make this python3 safe,
sentry/src/,112,Custom Tags,
sentry/src/,116,Sourcemaps,
sentry/src/,120,Breadcrumbs,
sentry/src/,38,TODO: https://github.com/getsentry/sentry/issues/2495,
sentry/src/,39,https://celery.readthedocs.io/en/latest/userguide/signals.html#task-revoked,
sentry/src/,40,"def task_revoked_handler(sender, expired=False, **kwargs):",
sentry/src/,41,if expired:,
sentry/src/,42,"metrics.incr('jobs.expired', instance=sender)",
sentry/src/,43,else:,
sentry/src/,44,"metrics.incr('jobs.revoked', instance=sender)",
sentry/src/,45,,
sentry/src/,46,,
sentry/src/,47,task_revoked.connect(,
sentry/src/,48,"task_revoked_handler,",
sentry/src/,49,"weak=False,",
sentry/src/,50,"dispatch_uid='sentry.stats.tasks.revoked',",
sentry/src/,51,),
sentry/src/,6,"Upon login, we automatically want to enable superuser",
sentry/src/,7,status,
sentry/src/,34,"TODO(dcramer): ideally this would simply ""undo"" the link change,",
sentry/src/,35,but we don't know for a fact that the resolution was most recently from,
sentry/src/,36,the GroupLink,
sentry/src/,56,Delete GroupLinks where message may have changed,
sentry/src/,74,XXX(dcramer): This code is somewhat duplicated from the,
sentry/src/,75,project_group_index mutation api,
sentry/src/,108,while we only create activity and assignment for one user we want to,
sentry/src/,109,subscribe every user,
sentry/src/,152,Delete GroupLinks where message may have changed,
sentry/src/,49,"This guards against sentry installs that have SENTRY_PROJECT set to None, so",
sentry/src/,50,that they don't error after every migration. Specifically for single tenant.,
sentry/src/,97,HACK: manually update the ID after insert due to Postgres,
sentry/src/,98,"sequence issues. Seriously, fuck everything about this.",
sentry/src/,151,Anything that relies on default objects that may not exist with default,
sentry/src/,152,fields should be wrapped in handle_db_failure,
sentry/src/,32,An object to indicate ownership is implicitly everyone,
sentry/src/,114,Automatic assignment prefers the owner with the longest,
sentry/src/,115,matching pattern as the match is more specific.,
sentry/src/,123,Can happen if the ownership rule references a user/team that no longer,
sentry/src/,124,is assigned to the project or has been removed from the org.,
sentry/src/,154,"teams aren't technical case insensitive, but teams also",
sentry/src/,155,"aren't allowed to have non-lowercase in slugs, so",
sentry/src/,156,this kinda works itself out correctly since they won't match,
sentry/src/,170,We don't require verified emails,
sentry/src/,171,"emails__is_verified=True,",
sentry/src/,193,Signals update the cached reads used in post_processing,
sentry/src/,27,users can generate tokens without being application-bound,
sentry/src/,26,"'issue.created', This is only allowed for Sentry Apps, but listing it",
sentry/src/,27,here for discoverability purposes.,
sentry/src/,51,"hooks may be bound to an api application, or simply registered by a user",
sentry/src/,62,"check if we have head commits, which",
sentry/src/,63,would indicate that we're waiting for,
sentry/src/,64,fetch_commits to complete,
sentry/src/,83,"Somewhat hacky, only send notification for one",
sentry/src/,84,Deploy Activity record because it will cover all projects,
sentry/src/,57,an inactive membership simply removes the team from the default list,
sentry/src/,58,but still allows them to re-join without request,
sentry/src/,121,Deprecated -- no longer used,
sentry/src/,184,Old tokens don't expire to preserve compatibility and not require,
sentry/src/,185,a backfill migration.,
sentry/src/,267,Nothing to send if this member isn't associated to a user,
sentry/src/,17,TODO(dcramer): pull in enum library,
sentry/src/,28,"any, all",
sentry/src/,29,minutes,
sentry/src/,25,the release in which its suggested this was resolved,
sentry/src/,26,which allows us to indicate if it still happens in newer versions,
sentry/src/,61,"if no release is present, we assume we've gone from ""no release"" to ""some release""",
sentry/src/,62,"in application configuration, and thus this must be older",
sentry/src/,27,How long we cache a conversion failure by checksum in cache.  Currently,
sentry/src/,28,10 minutes is assumed to be a reasonable value here.,
sentry/src/,88,"In case we've never computed features for any of these files, we",
sentry/src/,89,just take the first one and assume that it matches.,
sentry/src/,94,There's at least one file with computed features. Older files are,
sentry/src/,95,considered redundant and will be deleted. We search for the first,
sentry/src/,96,file matching the given feature set. This might not resolve if no,
sentry/src/,97,DIF matches the given feature set.,
sentry/src/,176,"We always keep the latest file. If it has no features, likely the",
sentry/src/,177,"previous files did not have features either and will be removed, or we",
sentry/src/,178,keep both. Subsequent uploads will remove this file later.,
sentry/src/,247,The DIF we've just created might actually be removed here again. But since,
sentry/src/,248,"this can happen at any time in near or distant future, we don't care and",
sentry/src/,249,assume a successful upload. The DIF will be reported to the uploader and,
sentry/src/,250,reprocessing can start.,
sentry/src/,293,Only allow overrides in the debug_id's age if the rest of the debug id,
sentry/src/,294,matches with what we determine from the object file. We generally,
sentry/src/,295,trust the server more than the client.,
sentry/src/,306,TODO: Extract the object name from the object,
sentry/src/,321,proguard files (proguard/UUID.txt) or,
sentry/src/,322,(proguard/mapping-UUID.txt).,
sentry/src/,338,"native debug information files (MachO, ELF or Breakpad)",
sentry/src/,389,Uploading new dsysm changes the reprocessing revision,
sentry/src/,29,TODO(dcramer): pull in enum library,
sentry/src/,46,access to post events to the store endpoint,
sentry/src/,48,read/write access to rest API,
sentry/src/,68,"store projectkeys in memcached for longer than other models,",
sentry/src/,69,specifically to make the relay_projectconfig endpoint faster.,
sentry/src/,75,support legacy project keys in API,
sentry/src/,113,"ValueError would come from a non-integer project_id,",
sentry/src/,114,which is obviously a DoesNotExist. We catch and rethrow this,
sentry/src/,115,so anything downstream expecting DoesNotExist works fine,
sentry/src/,153,"If we do not have a scheme or domain/hostname, dsn is never valid",
sentry/src/,21,TODO(dcramer): pull in enum library,
sentry/src/,67,Collect interfaces user is enrolled in,
sentry/src/,77,Collect additional interfaces that the user,
sentry/src/,78,is not enrolled in,
sentry/src/,95,"If we're not forcing, check for a backup interface already setup",
sentry/src/,96,"or if it's missing, we'll need to set it.",
sentry/src/,216,Prevent bad recursion if stuff wants to access the default,
sentry/src/,217,config,
sentry/src/,231,This method needs to be empty for the default,
sentry/src/,232,`requires_activation` property to make sense.,
sentry/src/,347,OTP uses an internal counter that increments every 30 seconds.,
sentry/src/,348,A hash function generates a six digit code based on the counter,
sentry/src/,349,and a secret key.  If the generated PIN was used it is marked in,
sentry/src/,350,redis as used by remembering which counter it was generated,
sentry/src/,351,from.  This is what we check for here.,
sentry/src/,358,Mark us used for three windows,
sentry/src/,511,XXX: The previous version of python-u2flib-server didn't store,
sentry/src/,512,the `version` in the device binding. Defaulting to `U2F_V2` here,
sentry/src/,513,so that we don't break existing u2f registrations.,
sentry/src/,560,XXX: Upgrading python-u2flib-server to 5.0.0 changes the response,
sentry/src/,561,"format. Our current js u2f library expects the old format, so",
sentry/src/,562,massaging the data to include the old `authenticateRequests` key here.,
sentry/src/,17,Languages,
sentry/src/,34,Frameworks,
sentry/src/,44,Configuration,
sentry/src/,65,Web UI,
sentry/src/,101,Admin UI,
sentry/src/,105,API,
sentry/src/,184,This can occur if redis somehow loses the set of complete features and,
sentry/src/,185,"we attempt to insert duplicate (org_id, feature_id) rows",
sentry/src/,186,This also will happen if we get parallel processes running `bulk_record` and,
sentry/src/,187,`get_all_cache` returns in the second process before the first process,
sentry/src/,188,can `bulk_set_cache`.,
sentry/src/,206,Is this feature applicable to this team?,
sentry/src/,48,"this column is called first_name for legacy reasons, but it is the entire",
sentry/src/,49,display name,
sentry/src/,214,TODO: we could discover relations automatically and make this useful,
sentry/src/,245,identify the highest priority membership,
sentry/src/,286,remove any duplicate identities that exist on the current user that,
sentry/src/,287,might conflict w/ the new users existing SSO,
sentry/src/,329,HACK(dcramer): last_login needs nullable for Django 1.8,
sentry/src/,332,"When a user logs out, we want to always log them out of all",
sentry/src/,333,sessions and refresh their nonce.,
sentry/src/,10,DEPRECATED,
sentry/src/,69,TODO(epurkhiser): This is deprecated and will be removed soon. Do not use,
sentry/src/,70,Project Integrations.,
sentry/src/,96,"metadata might be used to store things like credentials, but it should NOT",
sentry/src/,97,"be used to store organization-specific information, as the Integration",
sentry/src/,98,instance is shared among multiple organizations,
sentry/src/,48,User is not a member of the organization at all,
sentry/src/,51,"If a scope is passed through, make sure this scope is",
sentry/src/,52,available on the OrganizationMember object.,
sentry/src/,83,these kinds of queries make people sad :(,
sentry/src/,91,TODO(dcramer): pull in enum library,
sentry/src/,188,"likely this means a team already exists, let's try to coerce to",
sentry/src/,189,it instead of a blind transfer,
sentry/src/,200,remove associations with releases from other org,
sentry/src/,208,remove any pending access requests from the old organization,
sentry/src/,212,identify shared members and ensure they retain team access,
sentry/src/,213,under the new organization,
sentry/src/,239,we use a cursor here to avoid automatic cascading of relations,
sentry/src/,240,in Django,
sentry/src/,45,SentryApp's are installed and scoped to an Organization. They will have,
sentry/src/,46,"access, defined by their scopes, to Teams, Projects, etc. under that",
sentry/src/,47,"Organization, implicitly.",
sentry/src/,52,Each installation has a Grant that the integration can exchange for an,
sentry/src/,53,Access Token.,
sentry/src/,61,Two scenarios for tokens:,
sentry/src/,62,"1) An installation gets an access token once the Grant has been exchanged,",
sentry/src/,63,and is updated when the token gets refreshed.,
sentry/src/,64,,
sentry/src/,65,2) An installation is created for an internal SentryApp. This token will,
sentry/src/,66,not need to be refreshed as it will live forever,
sentry/src/,89,Used when first creating an Installation to tell the serializer that the,
sentry/src/,90,grant code should be included in the serialization.,
sentry/src/,11,Force email address to lowercase because GitHub does this. Note though that this isn't technically,
sentry/src/,12,to spec; only the domain part of the email address is actually case-insensitive.,
sentry/src/,13,See: https://stackoverflow.com/questions/9807909/are-email-addresses-case-sensitive,
sentry/src/,14,external service that's linked to the sentry issue,
sentry/src/,31,group annotations by group id,
sentry/src/,61,Same as releaseenvironment model. Minimizes last_seen updates to once a minute,
sentry/src/,12,if the entry was created via a user,
sentry/src/,14,if the entry was created via an api key,
sentry/src/,18,"all commit metadata must be optional, as it may not be available",
sentry/src/,19,when the initial commit object is referenced (and thus created),
sentry/src/,24,"When a developer selects to receive ""<Resource> Webhooks"" it really means",
sentry/src/,25,listening to a list of specific events. This is a mapping of what those,
sentry/src/,26,specific events are for each resource.,
sentry/src/,32,"We present Webhook Subscriptions per-resource (Issue, Project, etc.), not",
sentry/src/,33,"per-event-type (issue.created, project.deleted, etc.). These are valid",
sentry/src/,34,resources a Sentry App may subscribe to.,
sentry/src/,46,The only events valid for Sentry Apps are the ones listed in the values of,
sentry/src/,47,EVENT_EXPANSION above. This list is likely a subset of all valid ServiceHook,
sentry/src/,48,events.,
sentry/src/,62,"for internal, add some uuid to make it unique",
sentry/src/,84,Much of the OAuth system in place currently depends on a User existing.,
sentry/src/,85,"This ""proxy user"" represents the SentryApp in those cases.",
sentry/src/,90,"The Organization the Sentry App was created in ""owns"" it. Members of that",
sentry/src/,91,"Org have differing access, dependent on their role within the Org.",
sentry/src/,104,"does the application subscribe to `event.alert`,",
sentry/src/,105,meaning can it be used in alert rules as a {service} ?,
sentry/src/,108,does the application need to wait for verification,
sentry/src/,109,on behalf of the external service to know if its installations,
sentry/src/,110,are successfully installed ?,
sentry/src/,30,alias,
sentry/src/,44,an alias,
sentry/src/,47,"realistically Enum shouldn't even creating these, but alas",
sentry/src/,62,"def get_by_natural_key(self, slug):",
sentry/src/,63,return self.get(slug=slug),
sentry/src/,310,TODO(jess): update this when adding unique constraint,
sentry/src/,311,"on version, organization for releases",
sentry/src/,381,TODO: Make these a mixin,
sentry/src/,65,"TODO(dcramer): this would be good to buffer, but until then we minimize",
sentry/src/,66,"updates to once a minute, and allow Postgres to optimistically skip",
sentry/src/,67,it even if we can't,
sentry/src/,17,access request from a different user than the member,
sentry/src/,62,find members which are either team scoped or have access to all teams,
sentry/src/,86,In case the issue moved away from unresolved we want to make,
sentry/src/,87,sure it's back to unresolved,
sentry/src/,45,"(TYPE, verb-slug)",
sentry/src/,71,"index on (type, ident)",
sentry/src/,74,"if the user is not set, it's assumed to be the system",
sentry/src/,93,XXX(dcramer): fix for bad data,
sentry/src/,107,HACK: support Group.num_comments,
sentry/src/,114,HACK: support Group.num_comments,
sentry/src/,31,Only log once every 5 minutes for the same user/ip_address pair,
sentry/src/,32,"since this is hit pretty frequently by all API calls in the UI, etc.",
sentry/src/,7,Generic,
sentry/src/,10,Schema validation,
sentry/src/,19,Processing: Http,
sentry/src/,28,Processing: JavaScript,
sentry/src/,29,deprecated in favor of FETCH_GENERIC_ERROR,
sentry/src/,30,deprecated in favor of FETCH_INVALID_HTTP_CODE,
sentry/src/,38,deprecated in favor of FETCH_TOO_LARGE,
sentry/src/,39,deprecated in favor of FETCH_TIMEOUT,
sentry/src/,41,Processing: Native,
sentry/src/,53,Processing: Proguard,
sentry/src/,74,i.e. saved discover query,
sentry/src/,34,TODO(dcramer): pull in enum library,
sentry/src/,51,TODO(dcramer): we might want to cache this per user,
sentry/src/,102,projects that were created before this field was present,
sentry/src/,103,will have their first_event field set to date_added,
sentry/src/,162,TODO: Make these a mixin,
sentry/src/,258,determine members default settings,
sentry/src/,320,NOTE: this will only work properly if the new team is in a different,
sentry/src/,321,"org than the existing one, which is currently the only use case in",
sentry/src/,322,production,
sentry/src/,323,TODO(jess): refactor this to make it an org transfer only,
sentry/src/,348,Both environments and releases are bound at an organization level.,
sentry/src/,349,"Due to this, when you transfer a project into another org, we have to",
sentry/src/,350,handle this behavior somehow. We really only have two options here:,
sentry/src/,351,* Copy over all releases/environments into the new org and handle de-duping,
sentry/src/,352,* Delete the bindings and let them reform with new data.,
sentry/src/,353,We're generally choosing to just delete the bindings since new data,
sentry/src/,354,flowing in will recreate links correctly. The tradeoff is that,
sentry/src/,355,"historical data is lost, but this is a compromise we're willing to",
sentry/src/,356,take and a side effect of allowing this feature. There are exceptions,
sentry/src/,357,"to this however, such as rules, which should maintain their",
sentry/src/,358,configuration when moved across organizations.,
sentry/src/,362,"this is getting really gross, but make sure there aren't lingering associations",
sentry/src/,363,with old orgs or teams,
sentry/src/,381,ensure this actually exists in case from team was null,
sentry/src/,430,remove all previous project settings,
sentry/src/,433,add settings from other project to self,
sentry/src/,31,1min,
sentry/src/,33,one mb,
sentry/src/,36,2GB is the maximum offset supported by fileblob,
sentry/src/,70,test for presence,
sentry/src/,185,Before we go and do something with the files we calculate,
sentry/src/,186,the checksums and compare it against the reference.  This,
sentry/src/,187,also deduplicates duplicates uploaded in the same request.,
sentry/src/,188,This is necessary because we acquire multiple locks in one,
sentry/src/,189,go which would let us deadlock otherwise.,
sentry/src/,197,Check if we need to lock the blob.  If we get a result back,
sentry/src/,198,here it means the blob already exists.,
sentry/src/,207,Remember the lock to force unlock all at the end if we,
sentry/src/,208,encounter any difficulties.,
sentry/src/,211,Otherwise we leave the blob locked and submit the task.,
sentry/src/,212,We use the semaphore to ensure we never schedule too,
sentry/src/,213,many.  The upload will be done with a certain amount,
sentry/src/,214,of concurrency controlled by the semaphore and the,
sentry/src/,215,`_flush_blobs` call will take all those uploaded,
sentry/src/,216,blobs and associate them with the database.,
sentry/src/,239,"TODO(dcramer): the database here is safe, but if this lock expires",
sentry/src/,240,and duplicate files are uploaded then we need to prune one,
sentry/src/,257,We intentionally do not use checksums as path names to avoid concurrency issues,
sentry/src/,258,when we attempt concurrent uploads for any reason.,
sentry/src/,275,Defer this by 1 minute just to make sure,
sentry/src/,276,we avoid any transaction isolation where the,
sentry/src/,277,FileBlob row might still be visible by the,
sentry/src/,278,task before transaction is committed.,
sentry/src/,313,<Legacy fields>,
sentry/src/,314,Remove in 8.1,
sentry/src/,318,</Legacy fields>,
sentry/src/,408,Ensure blobs are in the order and duplication as provided,
sentry/src/,450,eager load from database incase its a queryset,
sentry/src/,506,Zero out the file,
sentry/src/,546,"Empty file, there's no seeking to be done.",
sentry/src/,577,Read to the end of the file,
sentry/src/,586,Read until a certain number of bytes are read,
sentry/src/,70,Due to the fact that Repository is shown to the user,
sentry/src/,71,"as it is pending deletion, this is added to display the fields",
sentry/src/,72,correctly to the user.,
sentry/src/,82,"If there is no provider, we don't have any webhooks, etc to delete",
sentry/src/,86,TODO(lb): I'm assuming that this is used by integrations... is it?,
sentry/src/,16,DEPRECATED,
sentry/src/,59,"TODO(dcramer): this would be good to buffer, but until then we minimize",
sentry/src/,60,"updates to once a minute, and allow Postgres to optimistically skip",
sentry/src/,61,it even if we can't,
sentry/src/,10,Attachment file types that are considered a crash report (PII relevant),
sentry/src/,43,Always prune the group cache. Even if there are more crash reports,
sentry/src/,44,"stored than the now configured limit, the cache will be repopulated",
sentry/src/,45,with the next incoming crash report.,
sentry/src/,62,XXX(dcramer): BaseModel is trying to automatically set date_updated which is not,
sentry/src/,63,"what we want to happen, so kill it here",
sentry/src/,16,"Time the user completed the guide. If this is set, dismissed_ts will be null.",
sentry/src/,18,"Time the user dismissed the guide. If this is set, viewed_ts will be null.",
sentry/src/,20,Whether the user found the guide useful.,
sentry/src/,83,SENTRY_APP_EDIT = 114,
sentry/src/,106,if the entry was created via a user,
sentry/src/,108,if the entry was created via an api key,
sentry/src/,114,TODO(dcramer): we want to compile this mapping into JSX for the UI,
sentry/src/,117,We emulate github a bit with event naming,
sentry/src/,285,"Most logs will just be name of the filter, but legacy browser changes can be bool, str or sets",
sentry/src/,12,'workflow:notifications',
sentry/src/,16,'deploy-emails,
sentry/src/,49,"this isn't implemented for user-organization scoped options yet, because",
sentry/src/,50,it hasn't been needed,
sentry/src/,109,"TODO(dcramer): the NULL UNIQUE constraint here isnt valid, and instead has to",
sentry/src/,110,be manually replaced in the database. We should restructure this model.,
sentry/src/,49,We need to make sure the short id is not overflowing the,
sentry/src/,50,field's max or the lookup will fail with an assertion error.,
sentry/src/,74,"When not passing a queryset, we want to read from cache",
sentry/src/,82,noqa,
sentry/src/,84,NOQA,
sentry/src/,117,raise original `DoesNotExist`,
sentry/src/,120,TODO(dcramer): pull in enum library,
sentry/src/,129,TODO(dcramer): remove in 9.0,
sentry/src/,188,TODO(jess): this method maybe isn't even used?,
sentry/src/,207,Raise a Group.DoesNotExist here since it makes,
sentry/src/,208,more logical sense since this is intending to resolve,
sentry/src/,209,a Group.,
sentry/src/,276,active_at should be the same as first_seen by default,
sentry/src/,281,"deprecated, do not use. GroupShare has superseded",
sentry/src/,309,We limit what we store for the message body,
sentry/src/,343,TODO(dcramer): remove in 9.0 / after plugins no long ref,
sentry/src/,350,XXX(dcramer): GroupSerializer reimplements this logic,
sentry/src/,374,Otherwise it has not been shared yet.,
sentry/src/,17,"example, 5131 on github",
sentry/src/,26,TODO: Remove this column and rows where it's not null once we've,
sentry/src/,27,completely removed Sentry 9,
sentry/src/,34,TODO: Remove this column once we've completely removed Sentry 9,
sentry/src/,42,Note that we also have a partial unique constraint on:,
sentry/src/,43,"(organization_id, name, type) WHERE owner_id IS NULL",
sentry/src/,44,"(is_global, name) WHERE is_global",
sentry/src/,47,Each user can have one default search per org,
sentry/src/,68,TODO: Remove once we've completely removed sentry 9,
sentry/src/,31,Internal relays always have access,
sentry/src/,34,Use the normalized form of the public key for the check,
sentry/src/,37,NOTE: data fields for some event types are as follows:,
sentry/src/,38,,
sentry/src/,39,"FIRST_EVENT:      { 'platform':  'flask', }",
sentry/src/,40,"INVITE_MEMBER:    { 'invited_member': user.id, 'teams': [team.id] }",
sentry/src/,41,ISSUE_TRACKER:    { 'plugin': 'plugin_name' },
sentry/src/,42,ISSUE_ASSIGNMENT: { 'assigned_member': user.id },
sentry/src/,43,SECOND_PLATFORM:  { 'platform': 'javascript' },
sentry/src/,44,,
sentry/src/,45,NOTE: Currently the `PENDING` status is applicable for the following,
sentry/src/,46,onboarding tasks:,
sentry/src/,47,,
sentry/src/,48,FIRST_EVENT:     User confirms that sdk has been installed,
sentry/src/,49,INVITE_MEMBER:   Until the member has successfully joined org,
sentry/src/,50,SECOND_PLATFORM: User confirms that sdk has been installed,
sentry/src/,51,USER_CONTEXT:    User has added user context to sdk,
sentry/src/,52,"ISSUE_TRACKER:   Tracker added, issue not yet created",
sentry/src/,66,Store marker to prevent running all the time,
sentry/src/,98,Used in the API to map IDs to string keys. This keeps things,
sentry/src/,99,a bit more maintainable on the frontend.,
sentry/src/,106,Tasks which must be completed for the onboarding to be considered,
sentry/src/,107,complete.,
sentry/src/,136,user that completed,
sentry/src/,142,INVITE_MEMBER { invited_member: user.id },
sentry/src/,20,"We have no index here, so we don't want to use the ORM's cascade",
sentry/src/,21,delete functionality,
sentry/src/,43,"count is the ""number of units"" and unit_name is the ""unit name of interval""",
sentry/src/,44,which is inverse from what rrule calls them,
sentry/src/,14,example APP-123 in jira,
sentry/src/,20,namespace related_name on User since we don't own the model,
sentry/src/,29,composite index includes project for efficient queries,
sentry/src/,66,DEPRECATED,
sentry/src/,69,ref might be the branch name being released,
sentry/src/,73,DEPRECATED - not available in UI or editable from API,
sentry/src/,76,arbitrary data recorded with the release,
sentry/src/,79,"generally the release manager, or the person initiating the process",
sentry/src/,82,materialized stats,
sentry/src/,89,HACK HACK HACK,
sentry/src/,90,As a transitionary step we permit release rows to exist multiple times,
sentry/src/,91,"where they are ""specialized"" for a specific project.  The goal is to",
sentry/src/,92,later split up releases by project again.  This is for instance used,
sentry/src/,93,by the org release listing.,
sentry/src/,163,TODO(dcramer): if the cache result is -1 we could attempt a,
sentry/src/,164,default create here instead of default get,
sentry/src/,202,"TODO(dcramer): upon creating a new release, check if it should be",
sentry/src/,203,"the new ""latest release"" for this project",
sentry/src/,216,This can happen on invalid legacy releases,
sentry/src/,221,The following models reference release:,
sentry/src/,222,ReleaseCommit.release,
sentry/src/,223,ReleaseEnvironment.release_id,
sentry/src/,224,ReleaseProject.release,
sentry/src/,225,GroupRelease.release_id,
sentry/src/,226,GroupResolution.release,
sentry/src/,227,Group.first_release,
sentry/src/,228,ReleaseFile.release,
sentry/src/,329,TODO: this does the wrong thing unless you are on the most,
sentry/src/,330,recent release.  Add a timestamp compare?,
sentry/src/,357,update head commit for repo/release if exists,
sentry/src/,382,Sort commit list in reverse order,
sentry/src/,385,TODO(dcramer): this function could use some cleanup/refactoring as it's a bit unwieldy,
sentry/src/,401,todo(meredith): implement for IntegrationRepositoryProvider,
sentry/src/,412,TODO(dcramer): would be good to optimize the logic to avoid these,
sentry/src/,413,deletes but not overly important,
sentry/src/,458,Update/set message and author if they are provided.,
sentry/src/,529,fill any missing ReleaseHeadCommit entries,
sentry/src/,556,group_id,
sentry/src/,22,TODO(dcramer): pull in enum library,
sentry/src/,34,"DEPRECATED, use projects",
sentry/src/,110,"We've already created the object, should still cache the action.",
sentry/src/,115,"In cases where the environment name is passed as a URL path segment,",
sentry/src/,116,"the (case-sensitive) string ""none"" represents the empty string",
sentry/src/,117,environment name for historic reasons (see commit b09858f.) In all,
sentry/src/,118,"other contexts (incl. request query string parameters), the empty",
sentry/src/,119,string should be used.,
sentry/src/,28,DEPRECATED,
sentry/src/,51,"If our name is changing, we must also change the ident",
sentry/src/,74,Always ignore the fragment,
sentry/src/,29,TODO(dcramer): ManyToMany has the same issue as ForeignKey and we need,
sentry/src/,30,to either write our own which works w/ BigAuto or switch this to use,
sentry/src/,31,through.,
sentry/src/,60,default,
sentry/src/,18,not for use as a persisted field value,
sentry/src/,19,not for use as a persisted field value,
sentry/src/,20,not for use as a persisted field value,
sentry/src/,86,subscribe the members of the team,
sentry/src/,99,5 retries for race conditions where,
sentry/src/,100,concurrent subscription attempts cause integrity errors,
sentry/src/,101,4 3 2 1 0,
sentry/src/,193,namespace related_name on User since we don't own the model,
sentry/src/,53,List of scopes in bit form,
sentry/src/,56,Human readable list of scopes,
sentry/src/,26,Tracking the user that initiated the share.,
sentry/src/,30,team_id to list of projects,
sentry/src/,35,user_id to projects,
sentry/src/,178,sync Sentry assignee to external issues,
sentry/src/,196,sync Sentry assignee to external issues,
sentry/src/,45,this must be idempotent because it seems to execute twice,
sentry/src/,46,(at least during test runs),
sentry/src/,20,users can generate tokens without being application-bound,
sentry/src/,12,permissions should be in the form of 'service-name.permission-name',
sentry/src/,15,0 for 'all environments',
sentry/src/,18,deploy_id and commit_id are nullable but in practice always have a value,
sentry/src/,20,commit_id is the id of the ReleaseHeadCommit associated with the given release,
sentry/src/,16,The order of these keys are significant to also indicate priority,
sentry/src/,17,when used in hashing and determining uniqueness. If you change the order,
sentry/src/,18,you will break stuff.,
sentry/src/,109,limit to only teams user has opted into,
sentry/src/,74,NOTE(mattrobenolt): Some security people suggest we invalidate,
sentry/src/,75,"existing password hashes, but this opens up the possibility",
sentry/src/,76,of a DoS vector where then password resets are continually,
sentry/src/,77,"requested, thus preventing someone from actually resetting",
sentry/src/,78,their password.,
sentry/src/,79,See: https://github.com/getsentry/sentry/pull/17299,
sentry/src/,35,TODO(dcramer): we'd like to abstract this so there's a central Role object,
sentry/src/,36,and it doesnt require two composite db objects to talk to each other,
sentry/src/,22,Not a Foreign Key because it's no longer safe to take out lock on Project table in Prod,
sentry/src/,26,typically will include a dismissed/snoozed timestamp or something similar,
sentry/src/,92,"nested_pipeline.bind_state('_parent', pipeline.fetch_state())",
sentry/src/,171,"we serialize the pipeline to be ['fqn.PipelineView', ...] which",
sentry/src/,172,allows us to determine if the pipeline has changed during the auth,
sentry/src/,173,flow or if the user is somehow circumventing a chunk of it,
sentry/src/,220,support late binding steps,
sentry/src/,42,TODO: Remove this once we've fully moved over to the new action. Just for use with,
sentry/src/,43,`unsplit_key`,
sentry/src/,198,get all users in teams,
sentry/src/,232,1 minute cache,
sentry/src/,275,lets identify possibly suspect commits and owners,
sentry/src/,304,if the organization has enabled enhanced privacy controls we dont send,
sentry/src/,305,data which may show PII or source code,
sentry/src/,357,If there is only one group in this digest (regardless of how many,
sentry/src/,358,"rules it appears in), we should just render this using the single",
sentry/src/,359,"notification template. If there is more than one record for a group,",
sentry/src/,360,just choose the most recent one.,
sentry/src/,212,Collect all of the sources by the scope that they are contained,
sentry/src/,213,within so that we can make the most efficient queries possible and,
sentry/src/,214,reject queries that cross scopes if we haven't explicitly allowed,
sentry/src/,215,unsafe actions.,
sentry/src/,11,noqa,
sentry/src/,23,empty generator,
sentry/src/,47,scope must be passed into the script call as a key to allow the,
sentry/src/,48,cluster client to determine what cluster the script should be,
sentry/src/,49,executed on. The script itself will use the scope as the hashtag for,
sentry/src/,50,all redis operations.,
sentry/src/,55,both items don't have the feature (no comparison),
sentry/src/,56,one item doesn't have the feature (totally dissimilar),
sentry/src/,72,"average score, descending",
sentry/src/,73,"number of indexes with scores, descending",
sentry/src/,74,"lexicographical sort on key, ascending",
sentry/src/,125,nothing to do,
sentry/src/,22,TODO(dcramer): replace one-off validation code with standardized validator,
sentry/src/,23,(e.g. project_plugin_details.py),
sentry/src/,75,TODO(dcramer): probably should do something with default,
sentry/src/,76,"validations here, though many things will end up bring string",
sentry/src/,77,based,
sentry/src/,132,TODO(dcramer): probably should do something with default,
sentry/src/,133,"validations here, though many things will end up bring string",
sentry/src/,134,based,
sentry/src/,15,api compat,
sentry/src/,16,NOQA,
sentry/src/,27,TODO(dcramer): remove this in favor of GroupEndpoint,
sentry/src/,43,"we default this to None to support legacy integrations, but newer style",
sentry/src/,44,should explicitly call out what is stored,
sentry/src/,46,"issue_fields = frozenset(['id', 'title', 'url'])",
sentry/src/,202,XXX(dcramer): legacy support,
sentry/src/,324,HACK(dcramer): maintain data for legacy issues,
sentry/src/,389,TODO(dcramer): update existing plugins to just use get_config,
sentry/src/,390,TODO(dcramer): remove request kwarg after sentry-plugins has been,
sentry/src/,391,updated,
sentry/src/,416,TODO: should we get rid of this (move it to react?),
sentry/src/,44,site_conf_form = NotificationConfigurationForm,
sentry/src/,129,"If the plugin doesn't support digests or they are not enabled,",
sentry/src/,130,perform rate limit checks to support backwards compatibility with,
sentry/src/,131,older plugins.,
sentry/src/,186,Backwards-compatibility,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,20,"number of requests, number of seconds (window)",
sentry/src/,37,limit segment to 50 requests/second,
sentry/src/,45,TODO(dcramer): record failure,
sentry/src/,24,project_conf_form = BaseIssueOptionsForm,
sentry/src/,283,pass in 'form' for legacy compat,
sentry/src/,33,"TODO(dcramer): this is being used by the release details endpoint, but",
sentry/src/,34,"it'd be ideal if most if not all of this logic lived there, and this",
sentry/src/,35,hook simply called out to the endpoint,
sentry/src/,3,NOQA,
sentry/src/,17,disable tagging if contexts are present,
sentry/src/,28,XXX: transitional support for workers,
sentry/src/,48,Try to delete webhook we just created,
sentry/src/,86,TODO(dcramer): we should have a proper validation error,
sentry/src/,134,TODO(dcramer): we should have a proper validation error,
sentry/src/,37,TODO(dcramer): this should be a 401,
sentry/src/,82,Try to delete webhook we just created,
sentry/src/,66,TODO(dcramer): remove when this is migrated to React,
sentry/src/,125,TODO: Use API client with raise_error,
sentry/src/,40,Nothing to configure here,
sentry/src/,90,TODO(dcramer): we dont have permalinks to feedback yet,
sentry/src/,110,TODO(dcramer): this is copypasta'd from activity notifications,
sentry/src/,111,"and while it'd be nice to re-use all of that, they are currently",
sentry/src/,112,coupled to <Activity> instances which makes this tough,
sentry/src/,150,Legacy compatibility,
sentry/src/,18,legacy Activity objects from before assignable teams,
sentry/src/,39,TODO(dcramer): not used yet today except by Release's,
sentry/src/,126,use in case context of email changes depending on user,
sentry/src/,115,"collect all users with verified emails on a team in the related projects,",
sentry/src/,128,get all the involved users' settings for deploy-emails (user default,
sentry/src/,129,saved without org set),
sentry/src/,141,and couple them with the the users' setting value for deploy-emails,
sentry/src/,142,"prioritize user/org specific, then user default, then product default",
sentry/src/,155,filter down to members which have been seen in the commit log:,
sentry/src/,162,or who opt into all deploy emails:,
sentry/src/,169,merge the two type of participants,
sentry/src/,20,"a plugin's get_group_urls should return an iterable of url()'s,",
sentry/src/,21,which can either be RegexURLResolver or RegexURLPattern,
sentry/src/,56,Generic plugin information,
sentry/src/,66,Configuration specifics,
sentry/src/,76,Global enabled state,
sentry/src/,80,Should this plugin be enabled by default for projects?,
sentry/src/,83,used by queries to determine if the plugin is configured,
sentry/src/,274,The following methods are specific to web requests,
sentry/src/,425,Server side signals which do not have request context,
sentry/src/,428,DEPRECATED: No longer used.,
sentry/src/,432,DEPRECATED: No longer used.,
sentry/src/,510,DEPRECATED: this param should not be used,
sentry/src/,51,Generic plugin information,
sentry/src/,61,Configuration specifics,
sentry/src/,68,Global enabled state,
sentry/src/,72,Should this plugin be enabled by default for projects?,
sentry/src/,75,used by queries to determine if the plugin is configured,
sentry/src/,249,Response methods,
sentry/src/,271,The following methods are specific to web requests,
sentry/src/,83,TODO(mattrobenolt): Reliably determine if a plugin is configured,
sentry/src/,84,"if hasattr(plugin, 'is_configured'):",
sentry/src/,85,is_configured = plugin.is_configured(project),
sentry/src/,86,else:,
sentry/src/,87,is_configured = True,
sentry/src/,20,"a plugin's get_project_urls should return an iterable of url()'s,",
sentry/src/,21,which can either be RegexURLResolver or RegexURLPattern,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,9,NOQA,
sentry/src/,70,"HACK(dcramer): this is gross, but we dont have a good hook to compute this property today",
sentry/src/,71,XXX(dcramer): remove once we can replace 'priority' with something reasonable via Snuba,
sentry/src/,82,1 hour,
sentry/src/,213,TODO(dcramer): longer term we'd rather not have to serialize values,
sentry/src/,214,here (unless it's to JSON),
sentry/src/,217,We can't use conn.map() due to wanting to support multiple pending,
sentry/src/,218,keys (one per Redis partition),
sentry/src/,223,"TODO(dcramer): once this goes live in production, we can kill the pickle path",
sentry/src/,224,(this is to ensure a zero downtime deploy where we can transition event processing),
sentry/src/,226,"pipe.hsetnx(key, 'f', json.dumps(self._dump_values(filters)))",
sentry/src/,231,"Group tries to serialize 'score', so we'd need some kind of processing",
sentry/src/,232,hook here,
sentry/src/,233,"e.g. ""update score if last_seen or times_seen is changed""",
sentry/src/,235,"TODO(dcramer): once this goes live in production, we can kill the pickle path",
sentry/src/,236,(this is to ensure a zero downtime deploy where we can transition event processing),
sentry/src/,238,"pipe.hset(key, 'e+' + column, json.dumps(self._dump_value(value)))",
sentry/src/,255,"If we're using partitions, this one task fans out into",
sentry/src/,256,N subtasks instead.,
sentry/src/,259,Explicitly also run over the unpartitioned buffer as well,
sentry/src/,260,"to ease in transition. In practice, this should just be",
sentry/src/,261,super fast and is fine to do redundantly.,
sentry/src/,266,prevent a stampede due to celerybeat + periodic task,
sentry/src/,288,queue up remainder of pending keys,
sentry/src/,309,prevent a stampede due to the way we use celery etas + duplicate,
sentry/src/,310,tasks,
sentry/src/,335,TODO(dcramer): legacy pickle support - remove in Sentry 9.1,
sentry/src/,348,TODO(dcramer): legacy pickle support - remove in Sentry 9.1,
sentry/src/,351,Should be 1 if set,
sentry/src/,7,NOQA,
sentry/src/,10,NOQA,
sentry/src/,11,NOQA,
sentry/src/,12,NOQA,
sentry/src/,36,Only send notifications for specific activity types.,
sentry/src/,43,Check that the user still has access to at least one of the projects,
sentry/src/,44,related to the incident. If not then unsubscribe them.,
sentry/src/,48,"Each entry is a tuple in format (<alert_operator>, <resolve_operator>)",
sentry/src/,90,Fetch any existing triggers for the rule,
sentry/src/,110,If the alert rule has been removed then just skip,
sentry/src/,115,TODO: Delete subscription here.,
sentry/src/,161,We update the rule stats here after we commit the transaction. This guarantees,
sentry/src/,162,"that we'll never miss an update, since we'll never roll back if the process",
sentry/src/,163,is killed here. The trade-off is that we might process an update twice. Mostly,
sentry/src/,164,"this will have no effect, but if someone manages to close a triggered incident",
sentry/src/,165,before the next one then we might alert twice.,
sentry/src/,180,Only create a new incident if we don't already have an active one,
sentry/src/,186,TODO: Include more info in name?,
sentry/src/,195,Now create (or update if it already exists) the incident trigger so that,
sentry/src/,196,we have a record of this trigger firing for this incident,
sentry/src/,211,"TODO: We should create an audit log, and maybe something that keeps",
sentry/src/,212,all of the details available for showing on the incident. Might be a json,
sentry/src/,213,blob or w/e? Or might be able to use the audit log,
sentry/src/,215,We now set this threshold to 0. We don't need to count it anymore,
sentry/src/,216,once we've triggered an incident.,
sentry/src/,48,"We can return an incident as ""windowed"" which returns a range of points around the start of the incident",
sentry/src/,49,"It attempts to center the start of the incident, only showing earlier data if there isn't enough time",
sentry/src/,50,after the incident started to display the correct start date.,
sentry/src/,70,TODO: Probably remove detection_uuid?,
sentry/src/,104,"`bulk_create` doesn't send `post_save` signals, so we manually fire them here.",
sentry/src/,133,If the status isn't actually changing just no-op.,
sentry/src/,153,If we're moving back out of closed status then unset the closed,
sentry/src/,154,date,
sentry/src/,156,Remove the snapshot since it's only used after the incident is,
sentry/src/,157,closed.,
sentry/src/,342,"TODO: When time_window is persisted, switch to using that instead of alert_rule.time_window.",
sentry/src/,359,Make the a bit earlier to show more relevant data from before the incident started:,
sentry/src/,393,"TODO: When time_window is persisted, switch to using that instead of alert_rule.time_window.",
sentry/src/,438,"At the moment, snapshots are only ever created with windowed_stats as True",
sentry/src/,439,"so if they send False, we need to do a live calculation below.",
sentry/src/,568,Creates an archived alert_rule using the same properties as the passed rule,
sentry/src/,569,It will also resolve any incidents attached to this rule.,
sentry/src/,667,We don't want to have any exclusion rows present if we're not in,
sentry/src/,668,`include_all_projects` mode,
sentry/src/,673,"If we're in `include_all_projects` mode, we want to just fetch",
sentry/src/,674,"projects that aren't already subscribed, and haven't been excluded so",
sentry/src/,675,we can add them.,
sentry/src/,692,If we're subscribed to any of the excluded projects then we want to,
sentry/src/,693,remove those subscriptions,
sentry/src/,699,Determine whether we've added any new projects as part of this update,
sentry/src/,704,Find any subscriptions that were removed as part of this update,
sentry/src/,714,"Remove any deleted subscriptions from `existing_subscriptions`, so that",
sentry/src/,715,if we need to update any subscriptions we don't end up doing it twice. We,
sentry/src/,716,don't add new subscriptions here since they'll already have the updated,
sentry/src/,717,values,
sentry/src/,721,Delete rows we don't have present in the updated data.,
sentry/src/,733,"If updating any subscription details, update related Snuba subscriptions",
sentry/src/,734,too,
sentry/src/,790,TODO: We should add more validation here to reject queries that include,
sentry/src/,791,fields that are invalid in alert rules. For now this will just make sure,
sentry/src/,792,the query parses correctly.,
sentry/src/,890,"We set resolve_threshold to None as a 'reset', in case it was previously a value and we're removing it here.",
sentry/src/,897,We link projects to exclusions via QuerySubscriptions. Calculate which,
sentry/src/,898,"exclusions need to be deleted, and which need to be created.",
sentry/src/,984,Use the channel name for display,
sentry/src/,1030,Use the channel name for display,
sentry/src/,83,Set this to False so that we can have a negative cache as well.,
sentry/src/,89,"If we had a falsey not None value in the cache, then we stored that there",
sentry/src/,90,are no current active incidents. Just set to None,
sentry/src/,162,Incrementing id that is specific to the org.,
sentry/src/,164,Identifier used to match incoming events from the detection algorithm,
sentry/src/,170,Query used to fetch events related to an incident,
sentry/src/,172,When we suspect the incident actually started,
sentry/src/,174,When we actually detected the incident,
sentry/src/,390,Determines whether we include all current and future projects from this,
sentry/src/,391,organization in this rule.,
sentry/src/,393,TODO: Remove this default after we migrate,
sentry/src/,406,"This constraint does not match what is in migration 0061, since there is no",
sentry/src/,407,"way to declare an index on an expression. Therefore, tests would break depending",
sentry/src/,408,"on whether we run migrations - to work around this, we skip some tests if",
sentry/src/,409,"migrations have not been run. In migration 0061, this index is set to",
sentry/src/,410,a partial index where status=0,
sentry/src/,537,Which sort of action to take,
sentry/src/,544,"A direct reference, like an email address, Slack channel or PagerDuty service",
sentry/src/,546,A specific user. This could be used to grab the user's email address.,
sentry/src/,548,A specific team. This could be used to send an email to everyone associated,
sentry/src/,549,with a team.,
sentry/src/,561,Identifier used to perform the action on a given target,
sentry/src/,563,Human readable name to display in the UI,
sentry/src/,584,TODO: This is only for email. We should have a way of validating that it's,
sentry/src/,585,ok to contact this email.,
sentry/src/,66,TODO: We need some sort of verification system to make sure we're not being,
sentry/src/,67,used as an email relay.,
sentry/src/,68,elif self.action.target_type == AlertRuleTriggerAction.TargetType.SPECIFIC.value:,
sentry/src/,69,emails = [target],
sentry/src/,101,if alert threshold and threshold type is above then show '>',
sentry/src/,102,if resolve threshold and threshold type is *BELOW* then show '>',
sentry/src/,103,we can simplify this to be the below statement,
sentry/src/,137,if alert threshold and threshold type is above then show '>',
sentry/src/,138,if resolve threshold and threshold type is *BELOW* then show '>',
sentry/src/,163,TODO: We should include more information about the trigger/severity etc.,
sentry/src/,170,"TODO: These might be slow for many projects, since it will query for each",
sentry/src/,171,individually. If we find this to be a problem then we can look into batching.,
sentry/src/,222,Delete actions we don't have present in the updated data.,
sentry/src/,266,"TODO: These might be slow for many projects, since it will query for each",
sentry/src/,267,individually. If we find this to be a problem then we can look into batching.,
sentry/src/,388,Triggers have passed checks. Check that all triggers have at least one action now.,
sentry/src/,426,Delete triggers we don't have present in the incoming data,
sentry/src/,23,Emitted for e.g. broken minidumps,
sentry/src/,25,"We want to let the user know when calling symbolicator failed, even",
sentry/src/,26,though it's not user fixable.,
sentry/src/,92,User fixable but fatal errors are reported as processing,
sentry/src/,93,"issues. We skip this for minidumps, as reprocessing is not",
sentry/src/,94,possible without persisting minidumps.,
sentry/src/,100,This in many ways currently does not really do anything.,
sentry/src/,101,The reason is that once a processing issue is reported,
sentry/src/,102,the event will only be stored as a raw event and no,
sentry/src/,103,group will be generated.  As a result it also means that,
sentry/src/,104,we will not have any user facing event or error showing,
sentry/src/,105,up at all.  We want to keep this here though in case we,
sentry/src/,106,do not want to report some processing issues (eg:,
sentry/src/,107,optional difs),
sentry/src/,14,Regex to parse OS versions from a minidump OS string.,
sentry/src/,17,Regex to guess whether we're dealing with Windows or Unix paths.,
sentry/src/,20,Event platforms that could contain native stacktraces,
sentry/src/,23,Debug image types that can be handled by the symbolicator,
sentry/src/,25,"Deprecated in favor of ""macho""",
sentry/src/,26,Generic if type is not known,
sentry/src/,27,Linux,
sentry/src/,28,"macOS, iOS",
sentry/src/,29,Windows,
sentry/src/,32,Default disables storing crash reports.,
sentry/src/,34,Do not limit crash report attachments per group.,
sentry/src/,47,We only have one exception at a time,
sentry/src/,108,"No frames in thread, so we remove thread",
sentry/src/,162,We dont need binary images on symbolicated crashreport,
sentry/src/,12,Attachment type used for minidump files,
sentry/src/,26,Minidump events must be native platform.,
sentry/src/,29,Assume that this minidump is the result of a crash and assign the fatal,
sentry/src/,30,level. Note that the use of `setdefault` here doesn't generally allow the,
sentry/src/,31,user to override the minidump's level as processing will overwrite it,
sentry/src/,32,later.,
sentry/src/,35,Create a placeholder exception. This signals normalization that this is an,
sentry/src/,36,error event and also serves as a placeholder if processing of the minidump,
sentry/src/,37,fails.,
sentry/src/,117,cap the breadcrumbs to the highest count of either file,
sentry/src/,40,"if function and raw function match, we can get away without",
sentry/src/,41,storing a raw function,
sentry/src/,44,otherwise we store both,
sentry/src/,81,TODO(mitsuhiko): This check seems wrong?  This call seems to,
sentry/src/,82,mirror the one in the ios symbol server support.  If we change,
sentry/src/,83,one we need to change the other.,
sentry/src/,113,Set image data from symbolicator as symbolicator might know more,
sentry/src/,114,"than the SDK, especially for minidumps",
sentry/src/,142,"Required by ""get_sdk_from_event""",
sentry/src/,185,Extract the crash reason and infos,
sentry/src/,194,"We're merging a full response, so there was no initial payload",
sentry/src/,195,"submitted. Assuming that this still contains the placeholder, remove",
sentry/src/,196,it rather than showing a default value.,
sentry/src/,277,TODO: Consider ignoring platform,
sentry/src/,124,Processing has already started and we need to poll,
sentry/src/,125,symbolicator for an update. This in turn may put us back into,
sentry/src/,126,the queue.,
sentry/src/,130,"This is a new task, so we compute all request parameters",
sentry/src/,131,"(potentially expensive if we need to pull minidumps), and then",
sentry/src/,132,upload all information to symbolicator. It will likely not,
sentry/src/,133,"have a response ready immediately, so we start polling after",
sentry/src/,134,some timeout.,
sentry/src/,137,503 can indicate that symbolicator is restarting. Wait for a,
sentry/src/,138,"reboot, then try again. This overrides the default behavior of",
sentry/src/,139,retrying after just a second.,
sentry/src/,140,,
sentry/src/,141,"If there is no response attached, it's a connection error.",
sentry/src/,149,Symbolication is still in progress. Bail out and try again,
sentry/src/,150,after some timeout. Symbolicator keeps the response for the,
sentry/src/,151,first one to poll it.,
sentry/src/,158,"Once we arrive here, we are done processing. Clean up the",
sentry/src/,159,task id from the cache.,
sentry/src/,257,The symbolicator evaluates sources in the order they are declared. Always,
sentry/src/,258,try to download symbols from Sentry first.,
sentry/src/,262,Check that the organization still has access to symbol sources. This,
sentry/src/,263,controls both builtin and external sources.,
sentry/src/,268,Custom sources have their own feature flag. Check them independently.,
sentry/src/,279,Source configs should be validated when they are saved. If this,
sentry/src/,280,"did not happen, this indicates a bug. Record this, but do not stop",
sentry/src/,281,processing at this point.,
sentry/src/,294,Add builtin sources last to ensure that custom sources have precedence,
sentry/src/,295,over our defaults.,
sentry/src/,301,special internal alias type expands to more than one item.  This,
sentry/src/,302,is used to make `apple` expand to `ios`/`macos` and other,
sentry/src/,303,sources if configured as such.,
sentry/src/,346,required for load balancing,
sentry/src/,372,The symbolicator does not know this task. This is,
sentry/src/,373,expected to happen when we're currently deploying,
sentry/src/,374,symbolicator (which will clear all of its state). Re-send,
sentry/src/,375,the symbolication task.,
sentry/src/,397,Any server error needs to be treated as a failure. We can,
sentry/src/,398,"retry a couple of times, but ultimately need to bail out.",
sentry/src/,399,,
sentry/src/,400,This can happen for any network failure.,
sentry/src/,439,"Only wait when creating, but not when querying tasks",
sentry/src/,8,Attachment type used for Apple Crash Reports,
sentry/src/,19,Apple crash report events must be native platform for processing.,
sentry/src/,22,Assume that this minidump is the result of a crash and assign the fatal,
sentry/src/,23,level. Note that the use of `setdefault` here doesn't generally allow the,
sentry/src/,24,user to override the minidump's level as processing will overwrite it,
sentry/src/,25,later.,
sentry/src/,28,Create a placeholder exception. This signals normalization that this is an,
sentry/src/,29,error event and also serves as a placeholder if processing of the minidump,
sentry/src/,30,fails.,
sentry/src/,55,https://github.com/EpicGames/UnrealEngine/blob/f509bb2d6c62806882d9a10476f3654cf1ee0634/Engine/Source/Programs/CrashReportClient/Private/CrashUpload.cpp#L769,
sentry/src/,93,Likely overwritten by minidump processing,
sentry/src/,95,i.e: Windows 10,
sentry/src/,116,drop modules. minidump processing adds 'images loaded',
sentry/src/,119,add everything else as extra,
sentry/src/,123,add sdk info,
sentry/src/,33,"Some errors are substrings of more detailed ones, so we need exact match",
sentry/src/,68,Handle both cases. Just a message and message preceded with error type,
sentry/src/,69,"eg. `ReferenceError: foo`, `TypeError: bar`",
sentry/src/,47,If an encoding is provided and it's not utf-8 compatible,
sentry/src/,48,we try to re-encoding the source and create a source view,
sentry/src/,49,from it.,
sentry/src/,56,Make sure we only get a 2xx to prevent caching bad data,
sentry/src/,102,Due to truncated error messages we sometimes might not be able to,
sentry/src/,103,get all arguments.  In that case we fill up missing parameters for,
sentry/src/,104,the format string with <redacted>.,
sentry/src/,39,XXX: rewrite_exception we probably also want if the event,
sentry/src/,40,platform is something else? unsure,
sentry/src/,18,In case SSL is unavailable (light builds) we can't import this here.,
sentry/src/,41,number of surrounding lines (on each side) to fetch,
sentry/src/,66,the maximum number of remote resources (i.e. source files) that should be,
sentry/src/,67,fetched,
sentry/src/,91,Round down if it brings us close to the edge,
sentry/src/,95,Round up to the end if it's close,
sentry/src/,98,"If we are bumped all the way to the end,",
sentry/src/,99,make sure we still get a full 140 characters in the line,
sentry/src/,104,we've snipped from the end,
sentry/src/,107,we've snipped from the beginning,
sentry/src/,116,lineno's in JS are 1-indexed,
sentry/src/,117,just in case. sometimes math is hard,
sentry/src/,146,When coercing the headers returned by urllib to a dict,
sentry/src/,147,all keys become lowercase so they're normalized,
sentry/src/,152,Source maps are only going to exist at either the top or bottom of the document.,
sentry/src/,153,"Technically, there isn't anything indicating *where* it should exist, so we",
sentry/src/,154,are generous and assume it's somewhere either in the first or last 5 lines.,
sentry/src/,155,"If it's somewhere else in the document, you're probably doing it wrong.",
sentry/src/,161,"We want to scan each line sequentially, and the last one found wins",
sentry/src/,162,"This behavior is undocumented, but matches what Chrome and Firefox do.",
sentry/src/,165,"We want everything AFTER the indicator, which is 21 chars long",
sentry/src/,168,"If we still haven't found anything, check end of last line AFTER source code.",
sentry/src/,169,"This is not the literal interpretation of the spec, but browsers support it.",
sentry/src/,170,e.g. {code}//# sourceMappingURL={url},
sentry/src/,172,Only look at last 300 characters to keep search space reasonable (minified,
sentry/src/,173,JS on a single line could be tens of thousands of chars). This is a totally,
sentry/src/,174,arbitrary number / best guess; most sourceMappingURLs are relative and,
sentry/src/,175,not very long.,
sentry/src/,182,react-native shoves a comment at the end of the,
sentry/src/,183,sourceMappingURL line.,
sentry/src/,184,For example:,
sentry/src/,185,sourceMappingURL=app.js.map/*ascii:...*/,
sentry/src/,186,This comment is completely out of spec and no browser,
sentry/src/,187,"would support this, but we need to strip it to make",
sentry/src/,188,people happy.,
sentry/src/,191,"comment definitely shouldn't be the first character,",
sentry/src/,192,so let's just make sure of that.,
sentry/src/,198,fix url so its absolute,
sentry/src/,234,Pick first one that matches in priority order.,
sentry/src/,235,This is O(N*M) but there are only ever at most 4 things here,
sentry/src/,236,so not really worth optimizing.,
sentry/src/,255,This will implicitly skip too large payloads. Those will be cached,
sentry/src/,256,"on the file system by `ReleaseFile.cache`, instead.",
sentry/src/,260,"We cached an error, so normalize",
sentry/src/,261,it down to None,
sentry/src/,264,"Previous caches would be a 3-tuple instead of a 4-tuple,",
sentry/src/,265,so this is being maintained for backwards compatibility,
sentry/src/,283,"If our url has been truncated, it'd be impossible to fetch",
sentry/src/,284,so we check for this early and bail,
sentry/src/,303,"Previous caches would be a 3-tuple instead of a 4-tuple,",
sentry/src/,304,so this is being maintained for backwards compatibility,
sentry/src/,309,"We got a cache hit, but the body is compressed, so we",
sentry/src/,310,need to decompress it before handing it off,
sentry/src/,334,If we did not get a 200 OK we just raise a cannot fetch here.,
sentry/src/,344,Make sure the file we're getting back is six.binary_type. The only,
sentry/src/,345,"reason it'd not be binary would be from old cached blobs, so",
sentry/src/,346,"for compatibility with current cached files, let's coerce back to",
sentry/src/,347,binary and say utf8 encoding.,
sentry/src/,365,"For JavaScript files, check if content is something other than JavaScript/JSON (i.e. HTML)",
sentry/src/,366,"NOTE: possible to have JS files that don't actually end w/ "".js"", but",
sentry/src/,367,this should catch 99% of cases,
sentry/src/,369,Check if response is HTML by looking if the first non-whitespace character is an open tag ('<').,
sentry/src/,370,This cannot parse as valid JS/JSON.,
sentry/src/,371,NOTE: not relying on Content-Type header because apps often don't set this correctly,
sentry/src/,372,Discard leading whitespace (often found before doctype),
sentry/src/,409,This is in debug because the product shows an error already.,
sentry/src/,435,TODO(dcramer): replace CLEAN_MODULE_RE with tokenizer completely,
sentry/src/,438,a SHA,
sentry/src/,466,Make sure we only fetch organization from cache,
sentry/src/,467,We don't need to persist it back since we don't want,
sentry/src/,468,to bloat the Event object.,
sentry/src/,494,build list of frames that we can actually grab source for,
sentry/src/,521,Stores the resolved token.  This is used to cross refer to other,
sentry/src/,522,frames for function name resolution by call site.,
sentry/src/,534,can't fetch source if there's no filename present or no line,
sentry/src/,538,can't fetch if this is internal node module as well,
sentry/src/,539,therefore we only process user-land frames (starting with /),
sentry/src/,540,or those created by bundle/webpack internals,
sentry/src/,551,"This might fail but that's okay, we try with a different path a",
sentry/src/,552,bit later down the road.,
sentry/src/,580,"Errors are 1-indexed in the frames, so we need to -1 to get",
sentry/src/,581,zero-indexed value from tokens.,
sentry/src/,598,persist the token so that we can find it later,
sentry/src/,601,Store original data in annotation,
sentry/src/,624,"the tokens are zero indexed, so offset correctly",
sentry/src/,628,Try to use the function name we got from symbolic,
sentry/src/,631,In the ideal case we can use the function name from the,
sentry/src/,632,frame and the location to resolve the original name,
sentry/src/,633,through the heuristics in our sourcemap library.,
sentry/src/,637,Find the previous token for function name handling as a,
sentry/src/,638,fallback.,
sentry/src/,651,special case webpack support,
sentry/src/,652,abs_path will always be the full path with webpack:/// prefix.,
sentry/src/,653,filename will be relative to that,
sentry/src/,656,"webpack seems to use ~ to imply ""relative to resolver root""",
sentry/src/,657,which is generally seen for third party deps,
sentry/src/,658,(i.e. node_modules),
sentry/src/,664,As noted above:,
sentry/src/,665,"* [js/node] '~/' means they're coming from node_modules, so these are not app dependencies",
sentry/src/,666,"* [node] sames goes for `./node_modules/` and '../node_modules/', which is used when bundling node apps",
sentry/src/,667,"* [node] and webpack, which includes it's own code to bootstrap all modules and its internals",
sentry/src/,668,"eg. webpack:///webpack/bootstrap, webpack:///external",
sentry/src/,675,"And conversely, local dependencies start with './'",
sentry/src/,678,We want to explicitly generate a webpack module name,
sentry/src/,681,"while you could technically use a subpath of 'node_modules' for your libraries,",
sentry/src/,682,it would be an extremely complicated decision and we've not seen anyone do it,
sentry/src/,683,so instead we assume if node_modules is in the path its part of the vendored code,
sentry/src/,705,TODO: theoretically a minified source could point to,
sentry/src/,706,"another mapped, minified source",
sentry/src/,709,If we did not manage to match but we do have a line or column,
sentry/src/,710,we want to report an error here.,
sentry/src/,757,TODO: respect cache-control/max-age headers to some extent,
sentry/src/,783,pull down sourcemap,
sentry/src/,798,cache any inlined sources,
sentry/src/,811,We can't even attempt to fetch source if abs_path is None,
sentry/src/,814,"tbh not entirely sure how this happens, but raven-js allows this",
sentry/src/,815,to be caught. I think this comes from dev consoles and whatnot,
sentry/src/,816,where there is no page. This just bails early instead of exposing,
sentry/src/,817,a fetch error that may be confusing.,
sentry/src/,820,we cannot fetch any other files than those uploaded by user,
sentry/src/,127,Have we processed the Param declarations yet. Should happen once per,
sentry/src/,128,class.,
sentry/src/,157,used for creating audit log entries,
sentry/src/,161,used to record data to Amplitude,
sentry/src/,201,"These will be named ``_<name>`` on the class, so remove the ``_`` so",
sentry/src/,202,that it matches the name we'll be invoking on the Mediator instance.,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,7,NOQA,
sentry/src/,8,NOQA,
sentry/src/,23,convert from string to integer,
sentry/src/,57,"if the error is from a request exception, log the error and continue",
sentry/src/,46,only make the service hook if there is a webhook url,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,3,NOQA,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,16,analytics and audit params,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,50,"For Sentry Apps, if projects = [], the service hook applies to all",
sentry/src/,51,the projects in the organization.,
sentry/src/,52,We are using the first project so that we can satisfy the not null,
sentry/src/,53,contraint for project_id on the ServiceHook table.,
sentry/src/,54,,
sentry/src/,55,"Otherwise, we'll always have a single project passed through by",
sentry/src/,56,the ProjectServiceHooksEndpoint,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,90,the UI expects the following form:,
sentry/src/,91,"choices: [[label, value]]",
sentry/src/,92,"default: [label, value]",
sentry/src/,61,Response code of 0 represents timeout,
sentry/src/,63,Re-raise the exception because some of these tasks might retry on the exception,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,37,environment can be None so we don't use the if_param decorator,
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,20,"Since repos are Org-level, if they're all migrated, we",
sentry/src/,21,can disable the Plugin for all Projects. There'd be no,
sentry/src/,22,"Repos left, associated with the Plugin.",
sentry/src/,3,NOQA,
sentry/src/,31,Once it's exchanged it's no longer valid and should not be,
sentry/src/,32,"exchangable, so we delete it.",
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/,76,update the scopes of active tokens tokens,
sentry/src/,97,sentry_app.webhook_url will be updated at this point,
sentry/src/,100,update the url and events,
sentry/src/,105,"if no url, then the service hook is no longer active in which case we need to delete it",
sentry/src/,108,"if we don't have hooks but we have a webhook url now, need to create it for an internal integration",
sentry/src/,31,SentryAppCreator expects an author so just set it to the org name,
sentry/src/,31,only not required for internal integrations but internalCreator calls this,
sentry/src/,54,validate globally unique slug,
sentry/src/,58,"In reality, the slug is taken but it's determined by the name field",
sentry/src/,65,need a proxy user name that will always be unique,
sentry/src/,109,sentry apps must have at least one feature,
sentry/src/,110,defaults to 'integrations-api',
sentry/src/,3,NOQA,
sentry/src/,4,NOQA,
sentry/src/,5,NOQA,
sentry/src/,6,NOQA,
sentry/src/social_auth/django_compat.py,6,https://docs.djangoproject.com/en/1.10/ref/models/meta/#migrating-from-the-old-api,
sentry/src/social_auth/django_compat.py,7,https://github.com/python-social-auth/social-app-django/commit/65b68d5e47f6990625c19afe8317397bdbbb11cd,
sentry/src/social_auth/urls.py,6,for Django version less then 1.4,
sentry/src/social_auth/urls.py,13,authentication,
sentry/src/social_auth/views.py,35,Save extra data into session.,
sentry/src/social_auth/views.py,40,Save any defined next value into session,
sentry/src/social_auth/views.py,42,Check and sanitize a user-defined GET/POST next field value,
sentry/src/social_auth/views.py,44,NOTE: django-sudo's `is_safe_url` is much better at catching bad,
sentry/src/social_auth/views.py,45,redirections to different domains than social_auth's,
sentry/src/social_auth/views.py,46,`sanitize_redirect` call.,
sentry/src/social_auth/views.py,51,Clean any partial pipeline info before starting the process,
sentry/src/social_auth/views.py,65,pop redirect value before the session is trashed on login(),
sentry/src/social_auth/utils.py,102,Check for key to avoid flagging the session as modified unnecessary,
sentry/src/social_auth/models.py,45,Make import here to avoid recursive imports :-/,
sentry/src/social_auth/models.py,74,"We have not got a new access token, so don't lose the",
sentry/src/social_auth/models.py,75,existing one.,
sentry/src/social_auth/models.py,79,New refresh token might be given.,
sentry/src/social_auth/models.py,101,Detect if expires is a timestamp,
sentry/src/social_auth/models.py,103,expires is a datetime,
sentry/src/social_auth/models.py,106,expires is a timedelta,
sentry/src/social_auth/models.py,116,"Django 1.5 custom user model, 'username' is just for internal",
sentry/src/social_auth/models.py,117,"use, doesn't imply that the model should have an username field",
sentry/src/social_auth/models.py,127,"Django 1.5 custom user model, 'username' is just for internal",
sentry/src/social_auth/models.py,128,"use, doesn't imply that the model should have an username field",
sentry/src/social_auth/models.py,157,"Do case-insensitive match, since real-world email address is",
sentry/src/social_auth/models.py,158,case-insensitive.,
sentry/src/social_auth/backends/visualstudio.py,90,Backend definition,
sentry/src/social_auth/backends/bitbucket.py,20,Bitbucket configuration,
sentry/src/social_auth/backends/bitbucket.py,83,Bitbucket has a bit of an indirect route to obtain user data from an,
sentry/src/social_auth/backends/bitbucket.py,84,authenticated query: First obtain the user's email via an,
sentry/src/social_auth/backends/bitbucket.py,85,authenticated GET,
sentry/src/social_auth/backends/bitbucket.py,90,Then retrieve the user's primary email address or the top email,
sentry/src/social_auth/backends/bitbucket.py,97,Then return the user data using a normal GET with the,
sentry/src/social_auth/backends/bitbucket.py,98,BITBUCKET_USER_DATA_URL and the user's email,
sentry/src/social_auth/backends/bitbucket.py,108,Backend definition,
sentry/src/social_auth/backends/__init__.py,54,Removed by default since it can be a dangerouse behavior that,
sentry/src/social_auth/backends/__init__.py,55,could lead to accounts take over.,
sentry/src/social_auth/backends/__init__.py,56,"'social_auth.backends.pipeline.associate.associate_by_email',",
sentry/src/social_auth/backends/__init__.py,72,"provider name, it's stored in database",
sentry/src/social_auth/backends/__init__.py,82,Validate backend and arguments. Require that the Social Auth,
sentry/src/social_auth/backends/__init__.py,83,"response be passed in as a keyword argument, to make sure we",
sentry/src/social_auth/backends/__init__.py,84,don't match the username/password calling conventions of,
sentry/src/social_auth/backends/__init__.py,85,authenticate.,
sentry/src/social_auth/backends/__init__.py,107,define user.social_user attribute to track current social,
sentry/src/social_auth/backends/__init__.py,108,account,
sentry/src/social_auth/backends/__init__.py,136,Clean partial pipeline on stop,
sentry/src/social_auth/backends/__init__.py,146,clean the partial pipeline at the end of the process,
sentry/src/social_auth/backends/__init__.py,255,"TODO(python3): use {**x, **y} syntax once 2.7 support is dropped",
sentry/src/social_auth/backends/__init__.py,434,Multiple unauthorized tokens are supported (see #521),
sentry/src/social_auth/backends/__init__.py,562,Store state in session for further request validation. The state,
sentry/src/social_auth/backends/__init__.py,563,"value is passed as state parameter (as specified in OAuth2 spec),",
sentry/src/social_auth/backends/__init__.py,564,"but also added to redirect_uri, that way we can still verify the",
sentry/src/social_auth/backends/__init__.py,565,request if the provider doesn't implement the state parameter.,
sentry/src/social_auth/backends/__init__.py,566,Reuse token if any.,
sentry/src/social_auth/backends/__init__.py,607,request auth code,
sentry/src/social_auth/backends/__init__.py,608,server response code,
sentry/src/social_auth/backends/__init__.py,687,Patch get_method to return the needed method,
sentry/src/social_auth/backends/__init__.py,701,Cache for discovered backends.,
sentry/src/social_auth/backends/__init__.py,747,Cached backend which has previously been discovered.,
sentry/src/social_auth/backends/asana.py,81,Backend definition,
sentry/src/social_auth/backends/github.py,25,GitHub configuration,
sentry/src/social_auth/backends/github.py,30,GitHub organization configuration,
sentry/src/social_auth/backends/github.py,40,Default extra data to store,
sentry/src/social_auth/backends/github.py,68,GitHub doesn't separate first and last names. Let's try.,
sentry/src/social_auth/backends/github.py,87,Look at http://developer.github.com/v3/oauth/,
sentry/src/social_auth/backends/github.py,101,"if we have a github organization defined, test that the current users",
sentry/src/social_auth/backends/github.py,102,is a member of that organization.,
sentry/src/social_auth/backends/github.py,116,"if the user is a member of the organization, response code",
sentry/src/social_auth/backends/github.py,117,"will be 204, see http://bit.ly/ZS6vFl",
sentry/src/social_auth/backends/github.py,123,Backend definition,
sentry/src/social_auth/backends/pipeline/user.py,43,Generate a unique username for current user using username,
sentry/src/social_auth/backends/pipeline/user.py,44,as base but adding a unique hash at the end. Original,
sentry/src/social_auth/backends/pipeline/user.py,45,username is cut to avoid any field max_length.,
sentry/src/social_auth/backends/pipeline/user.py,62,Avoid hitting field max length,
sentry/src/social_auth/backends/pipeline/user.py,109,flag to track changes,
sentry/src/social_auth/backends/pipeline/user.py,112,"do not update username, it was already generated, do not update",
sentry/src/social_auth/backends/pipeline/user.py,113,configured fields if user already existed,
sentry/src/social_auth/backends/pipeline/social.py,24,"Protect for possible race condition, those bastard with FTL",
sentry/src/social_auth/backends/pipeline/social.py,25,"clicking capabilities, check issue #131:",
sentry/src/social_auth/backends/pipeline/social.py,26,https://github.com/omab/django-social-auth/issues/131,
sentry/src/social_auth/backends/pipeline/associate.py,17,"Try to associate accounts registered with the same email address,",
sentry/src/social_auth/backends/pipeline/associate.py,18,only if it's a single object. AuthException is raised if multiple,
sentry/src/social_auth/backends/pipeline/associate.py,19,objects are returned.,
sentry/src/social_auth/migrations/0001_initial.py,1,-*- coding: utf-8 -*-,
sentry/tests/acceptance/test_organization_plugin_detail_view.py,19,need at least two projects,
sentry/tests/acceptance/test_organization_plugin_detail_view.py,39,check if we got to the configuration page with the form,
sentry/tests/acceptance/test_organization_integration_detail_view.py,43,provider_element might be rerendered,
sentry/tests/acceptance/test_create_project.py,50,"After creating team, should end up in onboarding screen",
sentry/tests/acceptance/test_onboarding.py,26,Welcome step,
sentry/tests/acceptance/test_onboarding.py,30,Platform selection step,
sentry/tests/acceptance/test_onboarding.py,36,Select and create node JS project,
sentry/tests/acceptance/test_onboarding.py,44,Project getting started,
sentry/tests/acceptance/test_onboarding.py,50,Verify project was created for org,
sentry/tests/acceptance/test_organization_releases_v2.py,38,TODO(releasesV2): add health data,
sentry/tests/acceptance/test_organization_releases_v2.py,46,TODO(releasesV2): add health data,
sentry/tests/acceptance/test_organization_releases_v2.py,57,This is snapshotting feature of globalSelectionHeader project picker where we see only specified projects,
sentry/tests/acceptance/test_organization_releases_v2.py,58,"and a custom footer message saying ""Only projects with this release are visible.""",
sentry/tests/acceptance/conftest.py,17,Do not build in CI because tests are run w/ `make test-acceptance` which builds assets,
sentry/tests/acceptance/conftest.py,18,Can also skip with the env var `SKIP_ACCEPTANCE_UI_BUILD`,
sentry/tests/acceptance/conftest.py,19,`CI` is a default env var on Travis CI (see: https://docs.travis-ci.com/user/environment-variables/#default-environment-variables),
sentry/tests/acceptance/conftest.py,27,"If built within last hour, do not build again",
sentry/tests/acceptance/conftest.py,31,noqa: B314,
sentry/tests/acceptance/conftest.py,49,noqa: B314,
sentry/tests/acceptance/test_dashboard.py,95,Go to projects,
sentry/tests/acceptance/test_teams_list.py,17,this should redirect to /settings/{}/teams/,
sentry/tests/acceptance/test_teams_list.py,27,team details link,
sentry/tests/acceptance/test_teams_list.py,32,Click projects tab,
sentry/tests/acceptance/test_teams_list.py,37,Click projects tab,
sentry/tests/acceptance/test_emails.py,39,"""sso unlinked without password""",
sentry/tests/acceptance/test_emails.py,40,"=> ""sso_unlinked_without_password.txt""",
sentry/tests/acceptance/test_emails.py,61,HTML output is captured as a snapshot,
sentry/tests/acceptance/test_emails.py,66,Text output is asserted against static fixture files,
sentry/tests/acceptance/test_project_similar_issues.py,34,TODO(billy): skip until we enable for early adopters,
sentry/tests/acceptance/test_project_similar_issues.py,35,def test_issues_similar_issues_tab(self):,
sentry/tests/acceptance/test_project_similar_issues.py,36,event = self.create_sample_event(,
sentry/tests/acceptance/test_project_similar_issues.py,37,"platform='python',",
sentry/tests/acceptance/test_project_similar_issues.py,38,),
sentry/tests/acceptance/test_project_similar_issues.py,40,self.browser.get(,
sentry/tests/acceptance/test_project_similar_issues.py,41,"'/{}/{}/issues/{}/similar/'.format(self.org.slug, self.project.slug, event.group.id)",
sentry/tests/acceptance/test_project_similar_issues.py,42,),
sentry/tests/acceptance/test_project_similar_issues.py,43,self.browser.wait_until('.similar-list-container'),
sentry/tests/acceptance/test_project_similar_issues.py,44,"self.browser.snapshot('issue details, similar issues tab')",
sentry/tests/acceptance/test_create_team.py,22,Open the modal,
sentry/tests/acceptance/test_create_team.py,28,Wait for modal to go away.,
sentry/tests/acceptance/test_create_team.py,32,New team should be in dom,
sentry/tests/acceptance/test_create_organization_member.py,25,"Open team select dropdown, and click the first team",
sentry/tests/acceptance/test_create_organization_member.py,31,Submit the form,
sentry/tests/acceptance/test_create_organization_member.py,34,Verify new member on member list.,
sentry/tests/acceptance/test_account_settings.py,26,TODO(billy): Enable this and remove the slower tests below,
sentry/tests/acceptance/test_project_alert_settings.py,61,flakey Toast animation being snapshotted by percy,
sentry/tests/acceptance/test_project_alert_settings.py,62,click it to clear it before snapshotting,
sentry/tests/acceptance/test_create_organization.py,24,After creating an org should end up on create project,
sentry/tests/acceptance/test_issue_details.py,34,Only set these properties if we were given a time.,
sentry/tests/acceptance/test_issue_details.py,35,event processing will mark old time values as processing errors.,
sentry/tests/acceptance/test_issue_details.py,39,We need a fallback datetime for the event,
sentry/tests/acceptance/test_issue_details.py,57,Wait for tag bars to load,
sentry/tests/acceptance/test_issue_details.py,111,"TODO: This should become its own ""rust"" platform type",
sentry/tests/acceptance/test_project_servicehooks.py,30,"click ""New""",
sentry/tests/acceptance/test_project_servicehooks.py,39,"click ""Save Changes""",
sentry/tests/acceptance/test_project_servicehooks.py,52,hopefully click the first service hook,
sentry/tests/acceptance/test_organization_events_v2.py,67,set timestamps,
sentry/tests/acceptance/test_organization_events_v2.py,78,generate and build up span tree,
sentry/tests/acceptance/test_organization_events_v2.py,105,non-leaf node span,
sentry/tests/acceptance/test_organization_events_v2.py,123,leaf node span,
sentry/tests/acceptance/test_organization_events_v2.py,181,expect table to expand to the right when no tags are provided,
sentry/tests/acceptance/test_organization_events_v2.py,207,expect table to expand to the right when no tags are provided,
sentry/tests/acceptance/test_organization_events_v2.py,273,expect table to expand to the right when no tags are provided,
sentry/tests/acceptance/test_organization_events_v2.py,308,Get the list page.,
sentry/tests/acceptance/test_organization_events_v2.py,312,Click the event link to open the events detail view,
sentry/tests/acceptance/test_organization_events_v2.py,342,Get the list page,
sentry/tests/acceptance/test_organization_events_v2.py,346,Click the event link to open the event detail view,
sentry/tests/acceptance/test_organization_events_v2.py,352,Check that the newest event is loaded first and that pagination,
sentry/tests/acceptance/test_organization_events_v2.py,353,controls display,
sentry/tests/acceptance/test_organization_events_v2.py,367,Create a child event that is linked to the parent.,
sentry/tests/acceptance/test_organization_events_v2.py,376,Get the list page,
sentry/tests/acceptance/test_organization_events_v2.py,381,Click the event link to open the event detail view,
sentry/tests/acceptance/test_organization_events_v2.py,386,Open a span detail so we can check the search by trace link.,
sentry/tests/acceptance/test_organization_events_v2.py,387,Click on the 6th one as a missing instrumentation span is inserted.,
sentry/tests/acceptance/test_organization_events_v2.py,391,Click on the child transaction.,
sentry/tests/acceptance/test_organization_events_v2.py,400,Simulate a custom query,
sentry/tests/acceptance/test_organization_events_v2.py,404,Go directly to the query builder view,
sentry/tests/acceptance/test_organization_events_v2.py,408,Open the save as drawer,
sentry/tests/acceptance/test_organization_events_v2.py,411,Fill out name and submit form.,
sentry/tests/acceptance/test_organization_events_v2.py,419,Page title should update.,
sentry/tests/acceptance/test_organization_events_v2.py,422,Saved query should exist.,
sentry/tests/acceptance/test_organization_events_v2.py,426,Create saved query to rename,
sentry/tests/acceptance/test_organization_events_v2.py,434,View the query list,
sentry/tests/acceptance/test_organization_events_v2.py,438,Look at the results for our query.,
sentry/tests/acceptance/test_organization_events_v2.py,446,Move focus somewhere else to trigger a blur and update the query,
sentry/tests/acceptance/test_organization_events_v2.py,454,Assert the name was updated.,
sentry/tests/acceptance/test_organization_events_v2.py,458,Create saved query with ORM,
sentry/tests/acceptance/test_organization_events_v2.py,466,View the query list,
sentry/tests/acceptance/test_organization_events_v2.py,470,Get the card with the new query,
sentry/tests/acceptance/test_organization_events_v2.py,474,Open the context menu,
sentry/tests/acceptance/test_organization_events_v2.py,476,Delete the query,
sentry/tests/acceptance/test_organization_events_v2.py,479,Wait for card to clear,
sentry/tests/acceptance/test_organization_events_v2.py,485,Create saved query with ORM,
sentry/tests/acceptance/test_organization_events_v2.py,493,View the query list,
sentry/tests/acceptance/test_organization_events_v2.py,497,Get the card with the new query,
sentry/tests/acceptance/test_organization_events_v2.py,501,"Open the context menu, and duplicate",
sentry/tests/acceptance/test_organization_events_v2.py,506,Wait for new element to show up.,
sentry/tests/acceptance/test_organization_events_v2.py,508,Assert the new query exists and has 'copy' added to the name.,
sentry/tests/acceptance/test_organization_events_v2.py,516,TODO: load events,
sentry/tests/acceptance/test_organization_events_v2.py,518,go to landing,
sentry/tests/acceptance/test_organization_events_v2.py,520,go to a precanned query,
sentry/tests/acceptance/test_organization_events_v2.py,522,save query 1,
sentry/tests/acceptance/test_organization_events_v2.py,524,add environment column,
sentry/tests/acceptance/test_organization_events_v2.py,526,update query,
sentry/tests/acceptance/test_organization_events_v2.py,528,add condition from facet map,
sentry/tests/acceptance/test_organization_events_v2.py,530,delete a column,
sentry/tests/acceptance/test_organization_events_v2.py,532,click and drag a column,
sentry/tests/acceptance/test_organization_events_v2.py,534,save as query 2,
sentry/tests/acceptance/test_organization_events_v2.py,536,load save query 1,
sentry/tests/acceptance/test_organization_events_v2.py,538,sort column,
sentry/tests/acceptance/test_organization_events_v2.py,540,update query,
sentry/tests/acceptance/test_organization_events_v2.py,542,delete save query 1,
sentry/tests/acceptance/test_organization_,8,from tests.acceptance.page_objects.organization_integration_settings import (,
sentry/tests/acceptance/test_organization_,9,"OrganizationIntegrationSettingsPage,",
sentry/tests/acceptance/test_organization_,10,),
sentry/tests/acceptance/test_organization_,42,def test_install_sentry_app(self):,
sentry/tests/acceptance/test_organization_,43,self.load_page(self.org_integration_settings_path),
sentry/tests/acceptance/test_organization_,45,org_settings_page = OrganizationIntegrationSettingsPage(browser=self.browser),
sentry/tests/acceptance/test_organization_,47,provider_element = org_settings_page.get_provider(self.provider),
sentry/tests/acceptance/test_organization_,49,# assert installation rather than upgrade button,
sentry/tests/acceptance/test_organization_,50,"assert provider_element.install_button.label == ""Install""",
sentry/tests/acceptance/test_organization_,52,provider_element.install_button.click(),
sentry/tests/acceptance/test_organization_,54,"install_selecter = '.modal-dialog [aria-label=""Accept & Install""]'",
sentry/tests/acceptance/test_organization_,55,self.browser.wait_until(install_selecter),
sentry/tests/acceptance/test_organization_,56,self.browser.click(install_selecter),
sentry/tests/acceptance/test_organization_,58,"self.browser.wait_until("".ref-success"")",
sentry/tests/acceptance/test_organization_,60,# provider_element might be rerendered,
sentry/tests/acceptance/test_organization_,61,provider_element = org_settings_page.get_provider(self.provider),
sentry/tests/acceptance/test_organization_,63,# assert we see the uninstall option,
sentry/tests/acceptance/test_organization_,64,"assert provider_element.install_button.label == ""Uninstall""",
sentry/tests/acceptance/test_organization_,66,def test_uninstall_sentry_app(self):,
sentry/tests/acceptance/test_organization_,67,# add the installation,
sentry/tests/acceptance/test_organization_,68,self.installation = self.create_sentry_app_installation(,
sentry/tests/acceptance/test_organization_,69,"slug=self.sentry_app.slug, organization=self.org, user=self.user",
sentry/tests/acceptance/test_organization_,70,),
sentry/tests/acceptance/test_organization_,72,self.load_page(self.org_integration_settings_path),
sentry/tests/acceptance/test_organization_,74,org_settings_page = OrganizationIntegrationSettingsPage(browser=self.browser),
sentry/tests/acceptance/test_organization_,76,provider_element = org_settings_page.get_provider(self.provider),
sentry/tests/acceptance/test_organization_,78,# assert we see the uninstall option,
sentry/tests/acceptance/test_organization_,79,"assert provider_element.install_button.label == ""Uninstall""",
sentry/tests/acceptance/test_organization_,81,provider_element.install_button.click(),
sentry/tests/acceptance/test_organization_,82,self.browser.wait_until(org_settings_page.modal_selector),
sentry/tests/acceptance/test_organization_,84,"self.browser.click('.modal-dialog [aria-label=""Confirm""]')",
sentry/tests/acceptance/test_organization_,86,"self.browser.wait_until("".ref-success"")",
sentry/tests/acceptance/test_organization_,88,# provider_element might be rerendered,
sentry/tests/acceptance/test_organization_,89,provider_element = org_settings_page.get_provider(self.provider),
sentry/tests/acceptance/test_organization_,91,# assert we see the install option now,
sentry/tests/acceptance/test_organization_,92,"assert provider_element.install_button.label == ""Install""",
sentry/tests/acceptance/page_objects/issue_details.py,38,Resolve should become unresolve,
sentry/tests/acceptance/page_objects/issue_details.py,43,Ignore should become unresolve,
sentry/tests/acceptance/page_objects/issue_details.py,53,Open the assignee picker,
sentry/tests/acceptance/page_objects/issue_details.py,57,Click the member/team,
sentry/tests/acceptance/page_objects/organization_integration_settings.py,27,uninstalls any configuration (not a particular one),
sentry/tests/integration/test_message_filters.py,34,baseline test (so we know everything works as expected),
sentry/tests/integration/test_message_filters.py,37,no http error,
sentry/tests/integration/test_message_filters.py,43,some http error,
sentry/tests/integration/test_message_filters.py,49,no http error,
sentry/tests/integration/test_message_filters.py,65,some http error,
sentry/tests/integration/test_message_filters.py,71,no http error,
sentry/tests/integration/test_message_filters.py,90,some http error,
sentry/tests/integration/test_message_filters.py,96,no http error,
sentry/tests/integration/test_message_filters.py,119,some http error,
sentry/tests/integration/test_message_filters.py,125,some http error,
sentry/tests/integration/test_message_filters.py,131,no http error,
sentry/tests/integration/test_message_filters.py,137,no http error,
sentry/tests/integration/test_api.py,37,"this uses the internal API, which once upon a time was broken",
sentry/tests/integration/test_api.py,42,we should be redirecting the user to the authentication form as they,
sentry/tests/integration/test_api.py,43,haven't verified this specific organization,
sentry/tests/integration/test_api.py,47,superuser should still require SSO as they're a member of the org,
sentry/tests/integration/test_api.py,53,XXX(dcramer): using internal API as exposing a request object is hard,
sentry/tests/integration/test_api.py,57,"now that SSO is marked as complete, we should be able to access dash",
sentry/tests/integration/tests.py,1,-*- coding: utf-8 -*-,
sentry/tests/integration/tests.py,105,delay raising of assertion errors to make sure they do not get,
sentry/tests/integration/tests.py,106,swallowed again,
sentry/tests/integration/tests.py,474,Assert that posting something to store will not create another,
sentry/tests/integration/tests.py,475,(transaction) event under any circumstances.,
sentry/tests/integration/tests.py,476,,
sentry/tests/integration/tests.py,477,We use Werkzeug's test client because Django's test client bypasses a,
sentry/tests/integration/tests.py,478,lot of request handling code that we want to test implicitly (such as,
sentry/tests/integration/tests.py,479,all our WSGI middlewares and the entire Django instrumentation by,
sentry/tests/integration/tests.py,480,sentry-sdk).,
sentry/tests/integration/tests.py,481,,
sentry/tests/integration/tests.py,482,XXX(markus): Ideally methods such as `_postWithHeader` would always,
sentry/tests/integration/tests.py,483,call the WSGI application => swap out Django's test client with e.g.,
sentry/tests/integration/tests.py,484,Werkzeug's.,
sentry/tests/integration/tests.py,585,"XXX: there appears to be a race condition between the 201 return and get_events,",
sentry/tests/integration/tests.py,586,leading this test to sometimes fail. .5s seems to be sufficient.,
sentry/tests/integration/tests.py,587,"Modifying the timestamp of store_event, like how it's done in other snuba tests,",
sentry/tests/integration/tests.py,588,doesn't work here because the event isn't created directly by this test.,
sentry/tests/integration/test_sso.py,29,we should be redirecting the user to the authentication form as they,
sentry/tests/integration/test_sso.py,30,haven't verified this specific organization,
sentry/tests/integration/test_sso.py,34,superuser should still require SSO as they're a member of the org,
sentry/tests/integration/test_sso.py,39,XXX(dcramer): using internal API as exposing a request object is hard,
sentry/tests/integration/test_sso.py,43,"now that SSO is marked as complete, we should be able to access dash",
sentry/tests/snuba/test_snuba.py,74,attempt to query back 90 days,
sentry/tests/snuba/test_util.py,44,with pytest.raises(snuba.QueryOutsideGroupActivityError):,
sentry/tests/snuba/test_util.py,45,# query a group for a time range before it had any activity,
sentry/tests/snuba/test_util.py,46,snuba.raw_query(,
sentry/tests/snuba/test_util.py,47,"start=group1.first_seen - timedelta(days=1, hours=1),",
sentry/tests/snuba/test_util.py,48,"end=group1.first_seen - timedelta(days=1),",
sentry/tests/snuba/test_util.py,49,filter_keys={,
sentry/tests/snuba/test_util.py,50,"'project_id': [group1.project_id],",
sentry/tests/snuba/test_util.py,51,"'issue': [group1.id],",
sentry/tests/snuba/test_util.py,52,"},",
sentry/tests/snuba/test_util.py,53,aggregations=[,
sentry/tests/snuba/test_util.py,54,"['count()', '', 'count'],",
sentry/tests/snuba/test_util.py,55,"],",
sentry/tests/snuba/test_util.py,56,),
sentry/tests/snuba/eventstream/test_eventstream.py,37,pass arguments on to Kafka EventManager,
sentry/tests/snuba/eventstream/test_eventstream.py,49,insert what would have been the Kafka payload directly,
sentry/tests/snuba/eventstream/test_eventstream.py,50,"into Snuba, expect an HTTP 200 and for the event to now exist",
sentry/tests/snuba/eventstream/test_eventstream.py,60,verify eventstream was called by EventManager,
sentry/tests/snuba/snuba/test_query_subscription_consumer.py,141,"Offset should be committed for the first message, so second run should process",
sentry/tests/snuba/snuba/test_query_subscription_consumer.py,142,the second message again,
sentry/tests/snuba/search/test_backend.py,430,Using a tag of email overlaps with the promoted user.email column in events.,
sentry/tests/snuba/search/test_backend.py,431,We don't want to bypass public schema limits in issue search.,
sentry/tests/snuba/search/test_backend.py,467,note: previous cursor,
sentry/tests/snuba/search/test_backend.py,475,"note: previous cursor, paging too far into 0 results",
sentry/tests/snuba/search/test_backend.py,596,add time instead to make it greater than or less than as needed.,
sentry/tests/snuba/search/test_backend.py,741,"Test with `Z` utc marker, should be equivalent",
sentry/tests/snuba/search/test_backend.py,803,test team assignee,
sentry/tests/snuba/search/test_backend.py,813,test when there should be no results,
sentry/tests/snuba/search/test_backend.py,823,test that owners don't see results for all teams,
sentry/tests/snuba/search/test_backend.py,877,TODO this test is annoyingly fragile and breaks in hard-to-see ways,
sentry/tests/snuba/search/test_backend.py,878,any time anything about the snuba query changes,
sentry/tests/snuba/search/test_backend.py,954,normal queries work as expected,
sentry/tests/snuba/search/test_backend.py,960,"no candidate matches in Sentry, immediately return empty paginator",
sentry/tests/snuba/search/test_backend.py,964,"too many candidates, skip pre-filter, requires >1 postfilter queries",
sentry/tests/snuba/search/test_backend.py,993,400 Groups/Events,
sentry/tests/snuba/search/test_backend.py,994,Every 3rd one is Unresolved,
sentry/tests/snuba/search/test_backend.py,995,Every 2nd one has tag match=1,
sentry/tests/snuba/search/test_backend.py,1016,Sample should estimate there are roughly 66 overall matching groups,
sentry/tests/snuba/search/test_backend.py,1017,based on a random sample of 100 (or $sample_size) of the total 200,
sentry/tests/snuba/search/test_backend.py,1018,"snuba matches, of which 33% should pass the postgres filter.",
sentry/tests/snuba/search/test_backend.py,1021,Too small to pass all django candidates down to snuba,
sentry/tests/snuba/search/test_backend.py,1030,Deliberately do not assert that the value is within some margin,
sentry/tests/snuba/search/test_backend.py,1031,"of error, as this will fail tests at some rate corresponding to",
sentry/tests/snuba/search/test_backend.py,1032,our confidence interval.,
sentry/tests/snuba/search/test_backend.py,1035,"When searching for the same tags, we should get the same set of",
sentry/tests/snuba/search/test_backend.py,1036,hits as the sampling is based on the hash of the query.,
sentry/tests/snuba/search/test_backend.py,1043,"When using a different search, we should get a different sample",
sentry/tests/snuba/search/test_backend.py,1044,but still should have some hits.,
sentry/tests/snuba/search/test_backend.py,1054,expect no groups within the results since there are no releases,
sentry/tests/snuba/search/test_backend.py,1059,expect no groups even though there is a release; since no group,
sentry/tests/snuba/search/test_backend.py,1060,is attached to a release,
sentry/tests/snuba/search/test_backend.py,1067,mark group1's first_release to be release_1.,
sentry/tests/snuba/search/test_backend.py,1068,group1 should show up for the same query as the previous query (see above),
sentry/tests/snuba/search/test_backend.py,1125,Note: Adding in `environment:production` so that we make sure we query,
sentry/tests/snuba/search/test_backend.py,1126,in both snuba and postgres,
sentry/tests/snuba/search/test_backend.py,1129,Make sure it's case insensitive,
sentry/tests/snuba/search/test_backend.py,1142,TODO: Disabling tests that use [] syntax for the moment. Re-enable,
sentry/tests/snuba/search/test_backend.py,1143,"these if we decide to add back in, or remove if this comment has been",
sentry/tests/snuba/search/test_backend.py,1144,here a while.,
sentry/tests/snuba/search/test_backend.py,1145,results = self.make_query(,
sentry/tests/snuba/search/test_backend.py,1146,"search_filter_query='environment:production [s][of][mz]',",
sentry/tests/snuba/search/test_backend.py,1147,),
sentry/tests/snuba/search/test_backend.py,1148,assert set(results) == set([escaped_event.group]),
sentry/tests/snuba/search/test_backend.py,1149,results = self.make_query(,
sentry/tests/snuba/search/test_backend.py,1150,"search_filter_query='environment:production [z][of][mz]',",
sentry/tests/snuba/search/test_backend.py,1151,),
sentry/tests/snuba/search/test_backend.py,1152,assert set(results) == set(),
sentry/tests/snuba/search/test_backend.py,1243,test scenarios for tickets:,
sentry/tests/snuba/search/test_backend.py,1244,SEN-571,
sentry/tests/snuba/search/test_backend.py,1245,ISSUE-432,
sentry/tests/snuba/search/test_backend.py,1247,given the following setup:,
sentry/tests/snuba/search/test_backend.py,1248,,
sentry/tests/snuba/search/test_backend.py,1249,groups table:,
sentry/tests/snuba/search/test_backend.py,1250,group    first_release,
sentry/tests/snuba/search/test_backend.py,1251,A        1,
sentry/tests/snuba/search/test_backend.py,1252,B        1,
sentry/tests/snuba/search/test_backend.py,1253,C        2,
sentry/tests/snuba/search/test_backend.py,1254,,
sentry/tests/snuba/search/test_backend.py,1255,groupenvironments table:,
sentry/tests/snuba/search/test_backend.py,1256,group    environment    first_release,
sentry/tests/snuba/search/test_backend.py,1257,A        staging        1,
sentry/tests/snuba/search/test_backend.py,1258,A        production     2,
sentry/tests/snuba/search/test_backend.py,1259,,
sentry/tests/snuba/search/test_backend.py,1260,"when querying by first release, the appropriate set of groups should be displayed:",
sentry/tests/snuba/search/test_backend.py,1261,,
sentry/tests/snuba/search/test_backend.py,1262,first_release: 1,
sentry/tests/snuba/search/test_backend.py,1263,"env=[]: A, B",
sentry/tests/snuba/search/test_backend.py,1264,"env=[production, staging]: A",
sentry/tests/snuba/search/test_backend.py,1265,env=[staging]: A,
sentry/tests/snuba/search/test_backend.py,1266,env=[production]: nothing,
sentry/tests/snuba/search/test_backend.py,1267,,
sentry/tests/snuba/search/test_backend.py,1268,first_release: 2,
sentry/tests/snuba/search/test_backend.py,1269,"env=[]: A, C",
sentry/tests/snuba/search/test_backend.py,1270,"env=[production, staging]: A",
sentry/tests/snuba/search/test_backend.py,1271,env=[staging]: nothing,
sentry/tests/snuba/search/test_backend.py,1272,env=[production]: A,
sentry/tests/snuba/search/test_backend.py,1274,create an issue/group whose events that occur in 2 distinct environments,
sentry/tests/snuba/search/test_backend.py,1298,get the environments for group_a,
sentry/tests/snuba/search/test_backend.py,1303,create an issue/group whose event that occur in no environments,
sentry/tests/snuba/search/test_backend.py,1304,but will be tied to release release_1,
sentry/tests/snuba/search/test_backend.py,1314,has no environment,
sentry/tests/snuba/search/test_backend.py,1318,create an issue/group whose event that occur in no environments,
sentry/tests/snuba/search/test_backend.py,1319,but will be tied to release release_2,
sentry/tests/snuba/search/test_backend.py,1329,has no environment,
sentry/tests/snuba/search/test_backend.py,1333,query by release release_1,
sentry/tests/snuba/search/test_backend.py,1354,query by release release_2,
sentry/tests/snuba/search/test_backend.py,1376,Just a sanity check to make sure that all fields can be successfully,
sentry/tests/snuba/search/test_backend.py,1377,searched on without returning type errors and other schema related,
sentry/tests/snuba/search/test_backend.py,1378,issues.,
sentry/tests/snuba/tasks/test_unmerge.py,36,Use the default redis client as a cluster client in the similarity index,
sentry/tests/snuba/api/endpoints/test_organization_tags.py,86,"Cause we're caching, we shouldn't call snuba again",
sentry/tests/snuba/api/endpoints/test_organization_tags.py,102,"Empty cache, we should query snuba",
sentry/tests/snuba/api/endpoints/test_organization_tags.py,107,"With a different statsPeriod, we shouldn't use cache and still query snuba",
sentry/tests/snuba/api/endpoints/test_organization_tags.py,129,"5 minutes later, cache_key should be different",
sentry/tests/snuba/api/endpoints/test_organization_tags.py,149,"Throw an event in the middle of the time window, since end might get rounded down a bit",
sentry/tests/snuba/api/endpoints/test_discover_saved_queries.py,73,Also available as the name: filter.,
sentry/tests/snuba/api/endpoints/test_discover_saved_queries.py,106,The all parameter ignores pagination and returns all values.,
sentry/tests/snuba/api/endpoints/test_group_events.py,168,Single Word Query,
sentry/tests/snuba/api/endpoints/test_group_events.py,176,Multiple Word Query,
sentry/tests/snuba/api/endpoints/test_group_events.py,200,Asserts that all are in the same group,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,48,"links come in {url: {...attrs}}, but we need {rel: {...attrs}}",
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,63,XXX(dcramer): this tests a case where an ambiguous column name existed,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,102,ensure there are two or more projects,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,115,ensure there are two or more projects,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,180,TODO(dcramer): this test really only checks if validation happens,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,181,on groupStatsPeriod,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,493,"This seems like a random override, but this test needed a way to override",
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,494,the orderby being sent to snuba for a certain call. This function has a simple,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,495,return value and can be used to set variables in the snuba payload.,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,582,the previously resolved entry should not be included,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,587,this wont exist because it wasn't affected,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,598,the ignored entry should not be included,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,1094,existing snooze objects should be cleaned up,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,1277,Manually mark them as shared,
sentry/tests/snuba/api/endpoints/test_organization_group_index.py,1540,if query is '' it defaults to is:unresolved,
sentry/tests/snuba/api/endpoints/test_project_event_details.py,40,Event in different group,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,186,Add a new user to a project and then access events on project they are not part of.,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,191,Enable open membership,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,209,"When open membership is off, access should be denied to non owner users",
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,233,Create older and newer events,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,285,Create older in and out of range events,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,324,Create events that overlap with other event messages but,
sentry/tests/snuba/api/endpoints/test_organization_event_details.py,325,with different tags,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,242,Each of these denotes how many events to create in each hour,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,281,Each of these denotes how many events to create in each minute,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,318,Each of these denotes how many events to create in each minute,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,357,Each of these denotes how many events to create in each minute,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,389,expect 61 data points between time span of 0 and 60 seconds,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,414,Create a new event that message matches events made in setup,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,438,"Because we didn't send fields, the reference event is not applied",
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,442,Create a new event that message matches events made in setup,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,503,We could get more results depending on where the 30 min,
sentry/tests/snuba/api/endpoints/test_organization_events_stats.py,504,windows land.,
sentry/tests/snuba/api/endpoints/test_organization_events_facets.py,418,query by an environment,
sentry/tests/snuba/api/endpoints/test_organization_events_facets.py,426,query by multiple environments,
sentry/tests/snuba/api/endpoints/test_organization_events_facets.py,440,"query by multiple environments, including the ""no environment"" environment",
sentry/tests/snuba/api/endpoints/test_discover_query.py,176,"rollup is by one day and diff of start/end is 10 seconds, so we only have one day",
sentry/tests/snuba/api/endpoints/test_discover_query.py,180,"note this ""release"" key represents the alias for the column condition",
sentry/tests/snuba/api/endpoints/test_discover_query.py,181,"and is also used in `groupby`, it is NOT the release tag",
sentry/tests/snuba/api/endpoints/test_discover_query.py,418,"This test can span across an hour, where the start is in hour 1, end is in hour 2, and event is in hour 2.",
sentry/tests/snuba/api/endpoints/test_discover_query.py,419,That pushes the result to the second row.,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,45,"links come in {url: {...attrs}}, but we need {rel: {...attrs}}",
sentry/tests/snuba/api/endpoints/test_project_group_index.py,59,XXX(dcramer): this tests a case where an ambiguous column name existed,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,117,TODO(dcramer): this test really only checks if validation happens,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,118,on statsPeriod,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,363,the previously resolved entry should not be included,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,368,this wont exist because it wasn't affected,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,379,the ignored entry should not be included,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,908,existing snooze objects should be cleaned up,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,1102,Manually mark them as shared,
sentry/tests/snuba/api/endpoints/test_project_group_index.py,1375,if query is '' it defaults to is:unresolved,
sentry/tests/snuba/api/endpoints/test_organization_events.py,182,test bad project id,
sentry/tests/snuba/api/endpoints/test_organization_events.py,187,test including project user doesn't have access to,
sentry/tests/snuba/api/endpoints/test_organization_events.py,193,test filtering by project,
sentry/tests/snuba/api/endpoints/test_organization_events.py,201,test only returns events from project user has access to,
sentry/tests/snuba/api/endpoints/test_organization_events.py,249,test swapped order of start/end,
sentry/tests/snuba/api/endpoints/test_organization_events.py,305,test as part of query param,
sentry/tests/snuba/api/endpoints/test_organization_events.py,313,test multiple as part of query param,
sentry/tests/snuba/api/endpoints/test_organization_events.py,326,test multiple as part of query param with no env,
sentry/tests/snuba/api/endpoints/test_organization_events.py,339,test as part of search,
sentry/tests/snuba/api/endpoints/test_organization_events.py,347,test as part of search - no environment,
sentry/tests/snuba/api/endpoints/test_organization_events.py,355,test nonexistent environment,
sentry/tests/snuba/api/endpoints/test_organization_events.py,508,test custom tag,
sentry/tests/snuba/api/endpoints/test_organization_events.py,519,test custom tag,
sentry/tests/snuba/api/endpoints/test_organization_events.py,656,project_id filter should apply,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,367,Load events with data that shouldn't match,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,378,Load a matching event,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2117,TODO (evanh) There is a bug in snuba right now where if a promoted column is used for a boolean,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2118,"value, it returns ""1"" or ""0"" instead of ""True"" and ""False"" (not that those make more sense)",
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2121,"All context columns are treated as strings, regardless of the type of data they stored.",
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2182,TODO (evanh) There is a bug in snuba right now where if a promoted column is used for a boolean,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2183,"value, it returns ""1"" or ""0"" instead of ""True"" and ""False"" (not that those make more sense)",
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2186,"All context columns are treated as strings, regardless of the type of data they stored.",
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2203,just to make the math easy,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2208,Don't generate a wide range of variance as the buckets can mis-align.,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2259,just to make the math easy,
sentry/tests/snuba/api/endpoints/test_organization_events_v2.py,2272,Add a transaction that totally throws off the buckets,
sentry/tests/snuba/api/endpoints/test_discover_key_transactions.py,483,Original user still has a key transaction,
sentry/tests/snuba/api/endpoints/test_discover_key_transactions.py,493,Deleting user has deleted the key transaction,
sentry/tests/snuba/api/serializers/test_group.py,1,-*- coding: utf-8 -*-,
sentry/tests/snuba/api/serializers/test_group.py,185,"((default, project), (subscribed, details))",
sentry/tests/snuba/api/serializers/test_group.py,303,Assert all events are in the same group,
sentry/tests/snuba/api/serializers/test_group.py,312,should use group columns when no environments arg passed,
sentry/tests/snuba/api/serializers/test_group.py,318,update this to something different to make sure it's being used,
sentry/tests/snuba/api/serializers/test_group.py,330,result is rounded down to nearest second,
sentry/tests/snuba/api/serializers/test_group.py,336,"test userCount, count, lastSeen filtering correctly by time",
sentry/tests/snuba/api/serializers/test_group.py,337,firstSeen should still be from GroupEnvironment,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,103,Switch every 10 mins,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,114,Switch every 2 hours,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,117,1 per hour,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,120,"change every 55 min so some hours have 1 user, some have 2",
sentry/tests/snuba/tsdb/test_tsdb_backend.py,128,Every 10 min for 4 hours,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,135,"snuba trims query windows based on first_seen/last_seen, so these need to be correct-ish",
sentry/tests/snuba/tsdb/test_tsdb_backend.py,156,Multiple groups,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,224,No events submitted for env2,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,241,Events submitted with no environment should match default environment,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,259,Daily,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,260,day buckets start on day boundaries,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,266,Minutely,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,268,"Expect every 10th minute to have a 1, else 0",
sentry/tests/snuba/tsdb/test_tsdb_backend.py,314,2 unique users overall,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,324,Only 1 unique user in the first hour,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,418,"{project_id: (issue_id, issue_id, ...)}",
sentry/tests/snuba/tsdb/test_tsdb_backend.py,452,24h test,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,459,14 day test,
sentry/tests/snuba/tsdb/test_tsdb_backend.py,465,1h test,
sentry/tests/snuba/tagstore/test_tagstore_backend.py,132,"Now with only a specific set of keys,",
sentry/tests/snuba/tagstore/test_tagstore_backend.py,290,test filtering by date range where there shouldn't be results,
sentry/tests/snuba/tagstore/test_tagstore_backend.py,399,AND,
sentry/tests/snuba/tagstore/test_tagstore_backend.py,593,test where there should be no results because of time filters,
sentry/tests/snuba/tagstore/test_tagstore_backend.py,620,Check multiple keyhashes so that this test doesn't depend on implementation,
sentry/tests/snuba/incidents/test_tasks.py,101,Full integration test to ensure that when a subscription receives an update,
sentry/tests/snuba/incidents/test_tasks.py,102,the `QuerySubscriptionConsumer` successfully retries the subscription and,
sentry/tests/snuba/incidents/test_tasks.py,103,"calls the correct callback, which should result in an incident being created.",
sentry/tests/snuba/incidents/test_tasks.py,108,We want to just error after the callback so that we can see the result of,
sentry/tests/snuba/incidents/test_tasks.py,109,"processing. This means the offset won't be committed, but that's fine, we",
sentry/tests/snuba/incidents/test_tasks.py,110,can still check the results.,
sentry/tests/,214,just check that it doesn't throw / try to delete a webhook,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,32,force creation,
sentry/tests/,41,force creation,
sentry/tests/,62,force creation,
sentry/tests/,86,force creation,
sentry/tests/,141,force creation,
sentry/tests/,182,should be skipping the #skipsentry commit,
sentry/tests/,204,force creation,
sentry/tests/,281,force creation,
sentry/tests/,310,force creation,
sentry/tests/,346,force creation,
sentry/tests/,388,force creation,
sentry/tests/,428,force creation,
sentry/tests/,139,{,
sentry/tests/,140,"""op"": ""add"",",
sentry/tests/,141,"""path"": ""/relations/-"",",
sentry/tests/,142,"""value"": {",
sentry/tests/,143,"""rel"": ""Hyperlink"",",
sentry/tests/,144,"""url"": 'http://testserver/baz/bar/issues/1/',",
sentry/tests/,145,},
sentry/tests/,146,},
sentry/tests/,219,{,
sentry/tests/,220,"""op"": ""add"",",
sentry/tests/,221,"""path"": ""/relations/-"",",
sentry/tests/,222,"""value"": {",
sentry/tests/,223,"""rel"": ""Hyperlink"",",
sentry/tests/,224,"""url"": 'http://testserver/baz/bar/issues/1/',",
sentry/tests/,225,},
sentry/tests/,226,},
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,29,force creation,
sentry/tests/,38,force creation,
sentry/tests/,62,force creation,
sentry/tests/,79,force creation,
sentry/tests/,118,force creation,
sentry/tests/,152,should be skipping the #skipsentry commit,
sentry/tests/,32,test new and old format,
sentry/tests/,41,test new and old format,
sentry/tests/,287,test weird addon users that don't have email addresses,
sentry/tests/,51,TODO: add method to validate that the config is actually valid.,
sentry/tests/,52,It's unclear what method to call to on the plugin to ensure that the config inputs are indeed valid.,
sentry/tests/,53,See `validate_config()` in plugin.py,
sentry/tests/,54,"self.plugin.set_option('token', '12345678-1234-1234-1234-1234567890AB', self.project)",
sentry/tests/,55,"self.plugin.set_option('project', 'ABCD123', self.project)",
sentry/tests/,56,"assert self.plugin.validate_config(None, self.project, <what to pass in",
sentry/tests/,57,"here>, None) is False",
sentry/tests/,41,extracting the message from django.forms.ValidationError,
sentry/tests/,42,is the easiest and simplest way I've found to assert as_data,
sentry/tests/symbolicator/test_payload_full.py,22,IMPORTANT:,
sentry/tests/symbolicator/test_payload_full.py,23,"For these tests to run, write `symbolicator.enabled: true` into your",
sentry/tests/symbolicator/test_payload_full.py,24,`~/.sentry/config.yml` and run `sentry devservices up`,
sentry/tests/symbolicator/test_payload_full.py,194,"For these tests to run, write `symbolicator.enabled: true` into your",
sentry/tests/symbolicator/test_payload_full.py,195,`~/.sentry/config.yml` and run `sentry devservices up`,
sentry/tests/symbolicator/test_payload_full.py,205,Run test case:,
sentry/tests/symbolicator/test_unreal_full.py,21,IMPORTANT:,
sentry/tests/symbolicator/test_unreal_full.py,22,"For these tests to run, write `symbolicator.enabled: true` into your",
sentry/tests/symbolicator/test_unreal_full.py,23,`~/.sentry/config.yml` and run `sentry devservices up`,
sentry/tests/symbolicator/test_unreal_full.py,36,"For these tests to run, write `symbolicator.enabled: true` into your",
sentry/tests/symbolicator/test_unreal_full.py,37,`~/.sentry/config.yml` and run `sentry devservices up`,
sentry/tests/symbolicator/test_unreal_full.py,48,Run test case:,
sentry/tests/symbolicator/test_unreal_full.py,83,attachments feature has to be on for the files extract stick around,
sentry/tests/symbolicator/test_unreal_full.py,121,Log file is named after the project,
sentry/tests/symbolicator/test_unreal_full.py,143,Log file is named after the project,
sentry/tests/symbolicator/test_minidump_full.py,21,IMPORTANT:,
sentry/tests/symbolicator/test_minidump_full.py,22,"For these tests to run, write `symbolicator.enabled: true` into your",
sentry/tests/symbolicator/test_minidump_full.py,23,`~/.sentry/config.yml` and run `sentry devservices up`,
sentry/tests/symbolicator/test_minidump_full.py,37,Run test case:,
sentry/tests/symbolicator/test_minidump_full.py,85,"assert event.data.get(""extra"") == {""foo"": ""bar""}",
sentry/tests/symbolicator/test_minidump_full.py,115,Other assertions are performed by `test_full_minidump`,
sentry/tests/symbolicator/test_minidump_full.py,124,invalid sentry JSON,
sentry/tests/symbolicator/test_minidump_full.py,132,Other assertions are performed by `test_full_minidump`,
sentry/tests/symbolicator/test_minidump_full.py,140,Send as raw request body instead of multipart/form-data,
sentry/tests/symbolicator/__init__.py,49,limit amount of data going into a snapshot so that they don't break all,
sentry/tests/symbolicator/__init__.py,50,the time due to unrelated changes.,
sentry/tests/,196,Do not show suggestion for sentry.dotnet.extensions.logging. The user,
sentry/tests/,197,has a aspnetcore application and the aspnetcore SDK instruments,
sentry/tests/,198,logging too.,
sentry/tests/,1,coding: utf-8,
sentry/tests/,17,No accidental mutation,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,90,Synthetic events do not generate a culprit,
sentry/tests/,32,XXX(dcramer): we can't use responses here as it hooks Session.send,
sentry/tests/,33,@responses.activate,
sentry/tests/,40,'2130706433' is dword for '127.0.0.1',
sentry/tests/,66,'0177.0000.0000.0001' is an octal for '127.0.0.1',
sentry/tests/,110,This tests:,
sentry/tests/,111,1. exception is None,
sentry/tests/,112,2. stacktrace is None,
sentry/tests/,113,3. frames is None,
sentry/tests/,114,3. frames contains only None,
sentry/tests/,115,4. frame is None,
sentry/tests/,153,XXX: The null frame is still part of this stack trace!,
sentry/tests/,158,XXX: The null frame is still part of this stack trace!,
sentry/tests/,239,App object should be in_app,
sentry/tests/,241,Framework should be in app (but optional),
sentry/tests/,243,libswift should not be system,
sentry/tests/,245,Unknown object should default to not in_app,
sentry/tests/,251,omitted,
sentry/tests/,286,omitted,
sentry/tests/,24,"kotlin uses the java library, too",
sentry/tests/,62,Empty call should have no effect,
sentry/tests/,66,Real call should delete the file,
sentry/tests/,72,The ExportedData should be unaffected,
sentry/tests/,85,With default expiration,
sentry/tests/,95,With custom expiration,
sentry/tests/,102,Ensure the first file is deleted,
sentry/tests/,107,Shouldn't send if ExportedData is incomplete,
sentry/tests/,111,Should send one email if complete,
sentry/tests/,44,Convert raw csv to list of line-strings,
sentry/tests/,21,"Without the data-export feature, the endpoint should 404",
sentry/tests/,23,"Without project permissions, the endpoint should 403",
sentry/tests/,27,"Without the discover-basic feature, the endpoint should 403",
sentry/tests/,31,"With both, the endpoint should 201",
sentry/tests/,137,"This next one is a bit hard to do without proper lookups, which I'm unlikely to implement.",
sentry/tests/,138,"self.assertEqual(1, JSONFieldTestModel.objects.filter(json__contains={'baz':'bing', 'foo':'bar'}).count())",
sentry/tests/,140,This code needs to be implemented!,
sentry/tests/,41,Default value of 0.,
sentry/tests/,43,Test bit numbers.,
sentry/tests/,48,Negative test non-existant key.,
sentry/tests/,50,Test bool().,
sentry/tests/,157,Create instance and make sure flags are working properly.,
sentry/tests/,165,Creating new instances shouldn't allow negative values.,
sentry/tests/,179,There should only be the one row we inserted through the cursor.,
sentry/tests/,192,This F().bitor style of lookup is used extensively throughout sentry/getsentry.,
sentry/tests/,193,"If this test breaks, then that most likely means our custom lookup doesn't work",
sentry/tests/,194,with sentry/getsentry code.,
sentry/tests/,266,This F().bitand style of lookup is used extensively throughout sentry/getsentry.,
sentry/tests/,267,"If this test breaks, then that most likely means our custom lookup doesn't work",
sentry/tests/,268,with sentry/getsentry code.,
sentry/tests/,299,"Local maximum value, slow canonical algorithm",
sentry/tests/,302,Big flags list,
sentry/tests/,1,coding: utf-8,
sentry/tests/,63,Produce some messages into the topic.,
sentry/tests/,69,Create the synchronized consumer.,
sentry/tests/,86,Wait until we have received our assignments.,
sentry/tests/,87,this takes a while,
sentry/tests/,95,TODO: Make sure that all partitions remain paused.,
sentry/tests/,97,Make sure that there are no messages ready to consume.,
sentry/tests/,100,Move the committed offset forward for our synchronizing group.,
sentry/tests/,112,We should have received a single message.,
sentry/tests/,113,TODO: Can we also assert that the position is unpaused?),
sentry/tests/,126,We should not be able to continue reading into the topic.,
sentry/tests/,127,TODO: Can we assert that the position is paused?,
sentry/tests/,150,Produce some messages into the topic.,
sentry/tests/,160,Create the synchronized consumer.,
sentry/tests/,177,Wait until we have received our assignments.,
sentry/tests/,178,this takes a while,
sentry/tests/,186,TODO: Make sure that all partitions are paused on assignment.,
sentry/tests/,188,Move the committed offset forward for our synchronizing group.,
sentry/tests/,198,Make sure that there are no messages ready to consume.,
sentry/tests/,201,Move the committed offset forward for our synchronizing group.,
sentry/tests/,202,second message,
sentry/tests/,213,We should have received a single message.,
sentry/tests/,214,TODO: Can we also assert that the position is unpaused?),
sentry/tests/,222,second message,
sentry/tests/,227,We should not be able to continue reading into the topic.,
sentry/tests/,228,TODO: Can we assert that the position is paused?,
sentry/tests/,251,Produce some messages into the topic.,
sentry/tests/,272,Wait until the first consumer has received its assignments.,
sentry/tests/,273,this takes a while,
sentry/tests/,299,Wait until *both* consumers have received updated assignments.,
sentry/tests/,301,this takes a while,
sentry/tests/,321,Make sure that there are no messages ready to consume.,
sentry/tests/,324,Move the committed offset forward for our synchronizing group.,
sentry/tests/,335,We should have received a single message.,
sentry/tests/,336,TODO: Can we also assert that the position is unpaused?),
sentry/tests/,348,We should not be able to continue reading into the topic.,
sentry/tests/,349,TODO: Can we assert that the position is paused?,
sentry/tests/,372,Produce some messages into the topic.,
sentry/tests/,403,Wait until the first consumer has received its assignments.,
sentry/tests/,404,this takes a while,
sentry/tests/,430,Wait until *both* consumers have received updated assignments.,
sentry/tests/,432,this takes a while,
sentry/tests/,452,Make sure that there are no messages ready to consume.,
sentry/tests/,455,Move the committed offset forward for our synchronizing group.,
sentry/tests/,466,We should have received a single message.,
sentry/tests/,467,TODO: Can we also assert that the position is unpaused?),
sentry/tests/,479,We should not be able to continue reading into the topic.,
sentry/tests/,480,TODO: Can we assert that the position is paused?,
sentry/tests/,539,Produce some messages into the topic.,
sentry/tests/,16,: Used to check for consistent usage of `raw` param,
sentry/tests/,24,Attachment chunks MUST be bytestrings. Josh please don't change this,
sentry/tests/,25,to unicode.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,40,The Org in scope of the request has the flag.,
sentry/tests/,51,"The Org in scope of the request does not have the flag, but another",
sentry/tests/,52,Org the User belongs to does.,
sentry/tests/,53,,
sentry/tests/,26,this should use the first scheme,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,82,"malformed yaml/json (a plain scalar, ""b: ar"", cannot contain "": "")",
sentry/tests/,98,malformed yaml/json,
sentry/tests/,188,wait until the worker has removed this item from the queue,
sentry/tests/,222,will not block if completed,
sentry/tests/,224,let the task finish,
sentry/tests/,228,this should be the next task to execute,
sentry/tests/,232,let the task finish,
sentry/tests/,236,this should be the next task to execute,
sentry/tests/,239,let the task finish,
sentry/tests/,119,should be idempotent,
sentry/tests/,221,"XXX: Value is only added to the first error, which is usually the",
sentry/tests/,222,normalization error.,
sentry/tests/,28,not hashable,
sentry/tests/,50,Case 1: No translation,
sentry/tests/,57,Case 2: Environment ID -> Name and back,
sentry/tests/,64,"Case 3, both Environment and Release",
sentry/tests/,85,"Case 4: 2 Groups, many-to-many mapping of Groups",
sentry/tests/,86,to Releases. Reverse translation depends on multiple,
sentry/tests/,87,fields.,
sentry/tests/,102,Duplicated because 2 GroupReleases refer to it,
sentry/tests/,7,Test name as display name and email as identifier,
sentry/tests/,10,purple_dark,
sentry/tests/,13,Test email as display name and id as identifier,
sentry/tests/,16,green,
sentry/tests/,18,Test no display name and ip address as identifier,
sentry/tests/,21,red,
sentry/tests/,23,Test display name with trailing spaces,
sentry/tests/,26,green,
sentry/tests/,28,Test name as display name and email as identifier for html,
sentry/tests/,31,purple_dark,
sentry/tests/,34,Test email as display name and id as identifier for html,
sentry/tests/,37,green,
sentry/tests/,39,Test no display name and ip address as identifier for html,
sentry/tests/,42,red,
sentry/tests/,129,Top frame,
sentry/tests/,137,"Inlined frame, same address",
sentry/tests/,162,Top frame,
sentry/tests/,166,"Inlined frame, same address",
sentry/tests/,212,Basic functions,
sentry/tests/,217,Generics,
sentry/tests/,223,Trait implementations,
sentry/tests/,227,Blanket implementations,
sentry/tests/,18,Silence connection warnings,
sentry/tests/,47,"We wrap the cluster in a Simple Lazy Object, force creation of the",
sentry/tests/,48,object to verify it's correct.,
sentry/tests/,50,cluster foo is fine since it's a single node,
sentry/tests/,52,baz works becasue it's explicitly is_redis_cluster,
sentry/tests/,55,bar is not a valid redis or redis cluster definition,
sentry/tests/,56,"becasue it is two hosts, without explicitly saying is_redis_cluster",
sentry/tests/,77,kind of a silly assertion,
sentry/tests/,23,TODO(lb): Tests are still needed for _get_committers and _get_event_file_commiters,
sentry/tests/,137,ensuring its not just getting all filechanges,
sentry/tests/,203,this shouldn't be included,
sentry/tests/,34,Trim should always trim the keys in alpha order,
sentry/tests/,35,regardless of the original order.,
sentry/tests/,69,NOQA,
sentry/tests/,18,"[0, 1, 2, 3, 4]",
sentry/tests/,21,don't raise if slicing past end of iterator,
sentry/tests/,16,zero width space,
sentry/tests/,17,soft hyphen,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,209,Our new EmailThread row was added,
sentry/tests/,244,Our new EmailThread row was added,
sentry/tests/,251,new msgid for the next message,
sentry/tests/,270,Our new GroupEmailThread row was added,
sentry/tests/,13,"There's a good chance this model wont get created in the db, so avoid",
sentry/tests/,14,assuming it exists in these tests.,
sentry/tests/,16,needs defined for Sentry to not yell at you,
sentry/tests/,69,remove event with same group,
sentry/tests/,77,team with no active members,
sentry/tests/,87,Inactive member,
sentry/tests/,94,Member without teams,
sentry/tests/,158,this user has no events,
sentry/tests/,292,no users in this team no digests should be processed,
sentry/tests/,42,"If the record can't be associated with a group, it should be returned as None.",
sentry/tests/,18,"The first item should return ""true"", indicating that this timeline",
sentry/tests/,19,can be immediately dispatched to be digested.,
sentry/tests/,23,"The second item should return ""false"", since it's ready to be",
sentry/tests/,24,digested but dispatching again would cause it to be sent twice.,
sentry/tests/,28,"There's nothing to move between sets, so scheduling should return nothing.",
sentry/tests/,34,The schedule should now contain the timeline.,
sentry/tests/,37,We didn't add any new records so there's nothing to do here.,
sentry/tests/,41,There's nothing to move between sets since the timeline contents no,
sentry/tests/,42,longer exist at this point.,
sentry/tests/,67,"Maintenance should move the timeline back to the waiting state, ...",
sentry/tests/,70,...and you can't send a digest in the waiting state.,
sentry/tests/,78,The schedule should now contain the timeline.,
sentry/tests/,81,The existing and new record should be there because the timeline,
sentry/tests/,82,contents were merged back into the digest.,
sentry/tests/,91,Add 10 items to the timeline.,
sentry/tests/,101,The 10 existing items should now be in the digest set (the exception,
sentry/tests/,102,"prevented the close operation from occurring, so they were never",
sentry/tests/,103,deleted from Redis or removed from the digest set.) If we add 10 more,
sentry/tests/,104,"items, they should be added to the timeline set (not the digest set.)",
sentry/tests/,108,"Maintenance should move the timeline back to the waiting state, ...",
sentry/tests/,111,The schedule should now contain the timeline.,
sentry/tests/,114,Only the new records should exist -- the older one should have been,
sentry/tests/,115,trimmed to avoid the digest growing beyond the timeline capacity.,
sentry/tests/,142,The existing and new record should be there because the timeline,
sentry/tests/,143,contents were merged back into the digest.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,46,This checks for a regression where we'd cache key quotas per project,
sentry/tests/,47,rather than per key.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,26,The item should not be rate limited by either key.,
sentry/tests/,34,The item should be rate limited by the first key (1).,
sentry/tests/,42,"The item should still be rate limited by the first key (1), but *not*",
sentry/tests/,43,rate limited by the second key (2) even though this is the third time,
sentry/tests/,44,we've checked the quotas. This ensures items that are rejected by a lower,
sentry/tests/,45,quota don't affect unrelated items that share a parent quota.,
sentry/tests/,59,"make sure ""refund/negative"" keys haven't been incremented",
sentry/tests/,63,Test that refunded quotas work,
sentry/tests/,65,increment,
sentry/tests/,67,test that it's rate limited without refund,
sentry/tests/,69,test that refund key is used,
sentry/tests/,111,should not be counted,
sentry/tests/,201,Only quotas with an ID are counted in Redis (via this ID). Assume the,
sentry/tests/,202,count for these quotas and None for the others.,
sentry/tests/,260,Only quotas with an ID are counted in Redis (via this ID). Assume the,
sentry/tests/,261,count for these quotas and None for the others.,
sentry/tests/,262,The ``- 1`` is because we refunded once.,
sentry/tests/,72,should still return old value,
sentry/tests/,78,make sure normal get isn't impacted,
sentry/tests/,10,The VSTSExtension is not visible,
sentry/tests/,73,Creates the Integration using ``integration_key`` instead of ``key``,
sentry/tests/,189,"The reinstall flow will result in an existing identity provider, identity",
sentry/tests/,190,and integration records. Ensure that the new organizationintegration gets,
sentry/tests/,191,a default_auth_id set.,
sentry/tests/,49,Trigger rule callback,
sentry/tests/,245,this happens if an issue is marked as resolved in the next release,
sentry/tests/,115,It would raise if it didn't skip event validation and didn't find,
sentry/tests/,116,the `event` key.,
sentry/tests/,69,Link identity of user,
sentry/tests/,67,check that the channel_id got added,
sentry/tests/,114,check that the channel_id got added,
sentry/tests/,45,"once we've asserted on it, switch to a singular values to make life",
sentry/tests/,46,easier,
sentry/tests/,60,"XXX(epurkhiser): The slack workspace token app uses oauth.token, the",
sentry/tests/,61,slack bot app uses oauth.access.,
sentry/tests/,154,Assign to user,
sentry/tests/,169,Assign to team,
sentry/tests/,265,Expect request to open dialog on slack,
sentry/tests/,277,Opening dialog should *not* cause the current message to be updated,
sentry/tests/,290,Completing the dialog will update the message,
sentry/tests/,344,Expect request to open dialog on slack,
sentry/tests/,356,Opening dialog should *not* cause the current message to be updated,
sentry/tests/,369,Completing the dialog will update the message,
sentry/tests/,378,make the client raise an API error,
sentry/tests/,26,Start pipeline and go to setup page.,
sentry/tests/,29,Submit credentials,
sentry/tests/,48,Start pipeline and go to setup page.,
sentry/tests/,51,Submit credentials,
sentry/tests/,66,Start pipeline and go to setup page.,
sentry/tests/,69,Submit credentials,
sentry/tests/,89,Start pipeline and go to setup page.,
sentry/tests/,92,Submit credentials,
sentry/tests/,113,Start pipeline and go to setup page.,
sentry/tests/,116,Submit credentials,
sentry/tests/,138,Start pipeline,
sentry/tests/,141,Submit credentials,
sentry/tests/,172,Get config page,
sentry/tests/,176,Submit credentials,
sentry/tests/,193,Get config page,
sentry/tests/,197,Submit credentials,
sentry/tests/,230,"Try getting the token but it has expired for some reason,",
sentry/tests/,231,perhaps a stale reload/history navigate.,
sentry/tests/,305,Start pipeline and go to setup page.,
sentry/tests/,308,Submit credentials,
sentry/tests/,37,Second get_token doesn't have to make an API call,
sentry/tests/,193,create an issue,
sentry/tests/,200,link an issue,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,4,we keep this as a raw string as order matters for hmac signing,
sentry/tests/,85,App installation ID is provided,
sentry/tests/,120,Updates the existing Repository to belong to the new Integration,
sentry/tests/,123,Doesn't touch Repositories not accessible by the new Integration,
sentry/tests/,137,"The metadata doesn't get saved with the timezone ""Z"" character",
sentry/tests/,138,"for some reason, so just compare everything but that.",
sentry/tests/,169,New Installation,
sentry/tests/,196,Accessible to new Integration - mocked in _stub_github,
sentry/tests/,206,Enabled before,
sentry/tests/,212,Disabled after Integration installed,
sentry/tests/,12,There is another test case that inherits from this,
sentry/tests/,13,one to ensure that github:enterprise behaves as expected.,
sentry/tests/,52,Happy Paths,
sentry/tests/,178,Request Validations,
sentry/tests/,193,Missing Resources,
sentry/tests/,206,"remove organization integration aka ""uninstalling"" installation",
sentry/tests/,212,Distributed System Issues,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,33,force creation,
sentry/tests/,71,force creation,
sentry/tests/,89,out of date,
sentry/tests/,105,name has been updated,
sentry/tests/,110,force creation,
sentry/tests/,130,out of date,
sentry/tests/,144,config name has been updated,
sentry/tests/,149,force creation,
sentry/tests/,168,out of date,
sentry/tests/,183,url has been updated,
sentry/tests/,193,force creation,
sentry/tests/,228,"organization_id=project.organization_id,",
sentry/tests/,255,force creation,
sentry/tests/,303,should be skipping the #skipsentry commit,
sentry/tests/,326,force creation,
sentry/tests/,395,force creation,
sentry/tests/,447,force creation,
sentry/tests/,495,force creation,
sentry/tests/,155,"One call for auth token, another for the patchset",
sentry/tests/,159,"Now that patchset was cached, github shouldn't have been called again",
sentry/tests/,204,assert token was refreshed,
sentry/tests/,210,"compare_commits gives 400, token was refreshed, and compare_commits gives 200",
sentry/tests/,91,Missing repositories don't 40x as we can't explode,
sentry/tests/,92,on missing repositories due to the possibility of multiple,
sentry/tests/,93,organizations sharing an integration and not having the same,
sentry/tests/,94,repositories enabled.,
sentry/tests/,98,Create a repo on the primary organization,
sentry/tests/,101,Second org with no repo.,
sentry/tests/,120,Create a repo on the primary organization,
sentry/tests/,123,Second org with the same repo,
sentry/tests/,217,Remove required keys. There have been events in prod that are missing,
sentry/tests/,218,these important attributes. GitLab docs don't explain why though.,
sentry/tests/,278,"TODO(kmclb): update the first test, add others back in once repo updating",
sentry/tests/,279,is fixed,
sentry/tests/,283,name out of date,
sentry/tests/,300,name has been updated,
sentry/tests/,311,path out of date,
sentry/tests/,325,path has been updated,
sentry/tests/,333,url out of date,
sentry/tests/,349,url has been updated,
sentry/tests/,93,Fail first then succeed,
sentry/tests/,23,Trailing slash is intentional to ensure that valid,
sentry/tests/,24,URLs are generated even if the user inputs a trailing /,
sentry/tests/,58,"once we've asserted on it, switch to a singular values to make life",
sentry/tests/,59,easier,
sentry/tests/,141,Go to instructions,
sentry/tests/,146,Go to setup form,
sentry/tests/,151,Go to back to instructions,
sentry/tests/,22,Happy Paths,
sentry/tests/,123,Request Validations,
sentry/tests/,152,Missing Resources,
sentry/tests/,163,"remove organization integration aka ""uninstalling"" installation",
sentry/tests/,169,Distributed System Issues,
sentry/tests/,28,Start pipeline and go to setup page.,
sentry/tests/,31,Submit credentials,
sentry/tests/,50,Start pipeline and go to setup page.,
sentry/tests/,53,Submit credentials,
sentry/tests/,68,Start pipeline and go to setup page.,
sentry/tests/,71,Submit credentials,
sentry/tests/,91,Start pipeline and go to setup page.,
sentry/tests/,94,Submit credentials,
sentry/tests/,115,Start pipeline and go to setup page.,
sentry/tests/,118,Submit credentials,
sentry/tests/,140,Start pipeline,
sentry/tests/,143,Submit credentials,
sentry/tests/,172,Get config page,
sentry/tests/,176,Submit credentials,
sentry/tests/,193,Get config page,
sentry/tests/,197,Submit credentials,
sentry/tests/,230,"Try getting the token but it has expired for some reason,",
sentry/tests/,231,perhaps a stale reload/history navigate.,
sentry/tests/,303,Ensure the webhook token contains our integration,
sentry/tests/,304,external id,
sentry/tests/,347,Start pipeline and go to setup page.,
sentry/tests/,350,Submit credentials,
sentry/tests/,53,Read the property to get side-effects in the database.,
sentry/tests/,63,No id key in the token,
sentry/tests/,72,Use the wrong id in the token.,
sentry/tests/,81,Use the wrong id in the token.,
sentry/tests/,16,Make the Identity have an expired token,
sentry/tests/,22,New values VSTS will return on refresh,
sentry/tests/,27,Make a request with expired token,
sentry/tests/,32,"Second to last request, before the Projects request, was to refresh",
sentry/tests/,33,the Access Token.,
sentry/tests/,36,Then we request the Projects with the new token,
sentry/tests/,98,Adds both a comment and a description.,
sentry/tests/,99,See method for details.,
sentry/tests/,51,seconds (5 min),
sentry/tests/,175,Initial request to the installation URL for VSTS,
sentry/tests/,184,OAuth redirect back to Sentry (identity_pipeline_view),
sentry/tests/,188,User choosing which VSTS Account to use (AccountConfigView),
sentry/tests/,189,Final step.,
sentry/tests/,29,Test data setup in ``VstsIntegrationTestCase``,
sentry/tests/,97,Enabled before Integration installation,
sentry/tests/,103,Disabled,
sentry/tests/,109,Repo accessible by new Integration,
sentry/tests/,120,Inaccessible Repo - causes plugin to stay enabled,
sentry/tests/,130,Still enabled,
sentry/tests/,147,OAuth redirect back to Sentry (identity_pipeline_view),
sentry/tests/,168,"The above already created the Webhook, so subsequent calls to",
sentry/tests/,169,``build_integration`` should omit that data.,
sentry/tests/,318,Set the `default_identity` property and force token expiration,
sentry/tests/,382,test validation,
sentry/tests/,488,Set the `default_identity` property and force token expiration,
sentry/tests/,161,Change so that state is changing from unresolved to resolved,
sentry/tests/,195,Change so that state is changing from resolved to unresolved,
sentry/tests/,226,Change so that it is a new workitem,
sentry/tests/,238,no change happened. no activity should be created here,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,4,we keep this as a raw string as order matters for hmac signing,
sentry/tests/,48,"App installation ID is provided, mveo thr",
sentry/tests/,64,"once we've asserted on it, switch to a singular values to make life",
sentry/tests/,65,easier,
sentry/tests/,9,Inherit test methods/scenarios from GithubSearchTest,
sentry/tests/,10,and fill out the slots that customize it to use github:enterprise,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,30,"No integration defined in the database, so event should be rejected",
sentry/tests/,31,because we can't find metadata and secret for it,
sentry/tests/,45,force creation,
sentry/tests/,84,"Old Github:e doesn't send a signature, so we have to accept that.",
sentry/tests/,112,force creation,
sentry/tests/,155,"organization_id=project.organization_id,",
sentry/tests/,183,force creation,
sentry/tests/,238,should be skipping the #skipsentry commit,
sentry/tests/,262,force creation,
sentry/tests/,346,force creation,
sentry/tests/,403,force creation,
sentry/tests/,458,force creation,
sentry/tests/,10,external_id is the account name in pagerduty,
sentry/tests/,57,Trigger rule callback,
sentry/tests/,80,create new org that has the same pd account but different a service added,
sentry/tests/,83,need to create a new project and set it as self.project because rules are,
sentry/tests/,84,project based and we want the project in this case to be associated with the,
sentry/tests/,85,new organization when we call `self.get_rule()`,
sentry/tests/,111,make another PagerDuty account and service for the same organization,
sentry/tests/,147,Trigger rule callback,
sentry/tests/,155,make a service associated with a different pagerduty account,
sentry/tests/,192,this happens if an issue is marked as resolved in the next release,
sentry/tests/,13,external_id is the account name in pagerduty,
sentry/tests/,234,kill the automatically generated keys,
sentry/tests/,34,force creation,
sentry/tests/,77,force creation,
sentry/tests/,146,should be skipping the #skipsentry commit,
sentry/tests/,163,out of date,
sentry/tests/,178,name has been updated,
sentry/tests/,189,out of date,
sentry/tests/,202,config name has been updated,
sentry/tests/,212,out of date,
sentry/tests/,226,url has been updated,
sentry/tests/,73,Permissions must be empty so that it will be accessible to bitbucket.,
sentry/tests/,85,Remove username to simulate privacy mode.,
sentry/tests/,142,Accessible to new Integration,
sentry/tests/,179,assert no changes have been made to the integration,
sentry/tests/,10,Permissions must be empty so that it will be accessible to bitbucket.,
sentry/tests/,100,"queries come through from the front end lowercased, so HSP-1 -> hsp-1",
sentry/tests/,651,Simulate no projects available.,
sentry/tests/,682,Fail to return metadata,
sentry/tests/,813,"test unresolve -- 21 is ""in progress"" transition id",
sentry/tests/,817,"test resolve -- 31 is ""done"" transition id",
sentry/tests/,841,assert user above was successfully assigned,
sentry/tests/,863,No sync made as jira users don't have email addresses,
sentry/tests/,875,test validation,
sentry/tests/,915,test update existing,
sentry/tests/,951,test disable forward,
sentry/tests/,20,"Should be same as the VSTS integration, but with a different last",
sentry/tests/,21,step.,
sentry/tests/,48,Emulate the request from VSTS to us,
sentry/tests/,60,"We redirect the user to OAuth with VSTS, so emulate the response from",
sentry/tests/,61,VSTS to us.,
sentry/tests/,66,Should have create the Integration using the ``vsts`` key,
sentry/tests/,16,TODO(dcramer): need tests for SSO behavior and single org behavior,
sentry/tests/,43,load it once for test cookie,
sentry/tests/,55,load it once for test cookie,
sentry/tests/,62,We want to always load the major version here since otherwise we fall back to,
sentry/tests/,63,the default value which isn't correct.,
sentry/tests/,66,owner can't load without feature,
sentry/tests/,72,superuser can load without feature,
sentry/tests/,164,disable require 2fa logs not called,
sentry/tests/,16,TODO(dcramer): this is an integration test and repeats tests from,
sentry/tests/,17,core auth_login,
sentry/tests/,177,"Without settings.TERMS_URL and settings.PRIVACY_URL, this should be",
sentry/tests/,178,unset following new user creation,
sentry/tests/,426,"setup a 'previous' identity, such as when we migrated Google from",
sentry/tests/,427,the old idents to the new,
sentry/tests/,433,they must be a member for the auto merge to happen,
sentry/tests/,436,user needs to be logged in,
sentry/tests/,446,we're suggesting the identity changed (as if the Google ident was,
sentry/tests/,447,updated to be something else),
sentry/tests/,456,there should be no prompt as we auto merge the identity,
sentry/tests/,481,"setup a 'previous' identity, such as when we migrated Google from",
sentry/tests/,482,the old idents to the new,
sentry/tests/,486,they must be a member for the auto merge to happen,
sentry/tests/,489,user needs to be logged in,
sentry/tests/,499,we're suggesting the identity changed (as if the Google ident was,
sentry/tests/,500,updated to be something else),
sentry/tests/,503,there should be no prompt as we auto merge the identity,
sentry/tests/,516,"setup a 'previous' identity, such as when we migrated Google from",
sentry/tests/,517,the old idents to the new,
sentry/tests/,544,"setup a 'previous' identity, such as when we migrated Google from",
sentry/tests/,545,the old idents to the new,
sentry/tests/,549,user needs to be logged in,
sentry/tests/,559,we're suggesting the identity changed (as if the Google ident was,
sentry/tests/,560,updated to be something else),
sentry/tests/,581,"setup a 'previous' identity, such as when we migrated Google from",
sentry/tests/,582,the old idents to the new,
sentry/tests/,588,"create another identity which is used, but not by the authenticating",
sentry/tests/,589,user,
sentry/tests/,596,user needs to be logged in,
sentry/tests/,606,we're suggesting the identity changed (as if the Google ident was,
sentry/tests/,607,updated to be something else),
sentry/tests/,654,Ensure the ident was migrated from the legacy identity,
sentry/tests/,60,enable require 2FA and enroll user,
sentry/tests/,69,"The system.url-prefix, which is used to generate absolute URLs, must",
sentry/tests/,70,have a TLD for the SAML2 library to consider the URL generated for,
sentry/tests/,71,the ACS endpoint valid.,
sentry/tests/,79,restore url-prefix config,
sentry/tests/,110,Disable validation of the SAML2 mock response,
sentry/tests/,117,Start auth process from SP side,
sentry/tests/,152,require 2FA disabled when saml is enabled,
sentry/tests/,13,this currently redirects the user,
sentry/tests/,18,this currently redirects the user,
sentry/tests/,38,Check that we're binding the state back to the opening window,
sentry/tests/,39,through the dialog's window.postMessage.,
sentry/tests/,44,ensure we dont redirect to auth if its not a valid org,
sentry/tests/,52,ensure we dont redirect with valid membership,
sentry/tests/,25,Goes straight to VSTS OAuth,
sentry/tests/,55,URL encoded post-login redirect URL,
sentry/tests/,91,Close,
sentry/tests/,70,"Not a gzip Accept-Encoding, so shouldn't serve gzipped file",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,704,TODO: Having the event set here means the case where event isnt' created,
sentry/tests/,705,yet isn't covered by this test class,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,125,delete the last project so its missing,
sentry/tests/,303,make an invalid reference with old dates,
sentry/tests/,802,"The project_id column is not a public column, but we",
sentry/tests/,803,have to let it through in conditions to ensure project.name works.,
sentry/tests/,833,project.name is in the public schema and should be converted to a,
sentry/tests/,834,project_id condition.,
sentry/tests/,1277,the start end values don't align well with bucket boundaries.,
sentry/tests/,1943,Create an event that won't match the reference,
sentry/tests/,1971,Create an event that is outside the date range,
sentry/tests/,2083,Query more than one project.,
sentry/tests/,2210,"Bucket for the 2, 3, 4, 5, 6, 7, 8, 9",
sentry/tests/,187,Refetch since snuba creation happens in a task,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,60,Nicer folder structure for insta_snapshot,
sentry/tests/,44,We do not want to dump the config,
sentry/tests/,72,Nicer folder structure for insta_snapshot,
sentry/tests/,78,Customize grouping config from the _grouping config,
sentry/tests/,88,Normalize the event,
sentry/tests/,93,Normalize the stacktrace for grouping.  This normally happens in,
sentry/tests/,94,save(),
sentry/tests/,98,Make sure we don't need to touch the DB here because this would,
sentry/tests/,99,break stuff later on.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,148,This tests a bunch of different rules from the default in-app logic that,
sentry/tests/,149,was ported from the former native plugin.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,39,Make sure that changing `protocol` to uwsgi sets the right socket,
sentry/tests/,87,"TODO: update docs to include minutes, days, and weeks suffixes",
sentry/tests/,167,TODO: query parser for '>' timestamp should set inclusive to False.,
sentry/tests/,202,TODO: query parser for '<=' timestamp should set inclusive to True.,
sentry/tests/,486,no releases exist period,
sentry/tests/,514,latest overall (no environment filter),
sentry/tests/,519,latest in environment,
sentry/tests/,525,environment with no releases,
sentry/tests/,54,see DummyRepositoryProvider.compare_commits,
sentry/tests/,64,this should get cleaned up since it had no resolve age set,
sentry/tests/,13,Use the default redis client as a cluster client in the similarity index,
sentry/tests/,59,"because of an error, it should become inactive",
sentry/tests/,127,test explicit disable,
sentry/tests/,46,The order here is on purpose because we check for the order of checksums,
sentry/tests/,90,upload all blobs,
sentry/tests/,93,find all blobs,
sentry/tests/,114,upload all blobs a second time,
sentry/tests/,119,assemble a second time,
sentry/tests/,139,upload all blobs,
sentry/tests/,142,find all blobs,
sentry/tests/,60,"row should be updated to the in_release type, and reflect",
sentry/tests/,61,the release it was resolved in,
sentry/tests/,136,Temporarily test old behavior,
sentry/tests/,179,"The event mutated, so make sure we save it back",
sentry/tests/,238,"The event mutated, so make sure we save it back",
sentry/tests/,268,"The event did not mutate, so we shouldn't reset it in cache",
sentry/tests/,321,should be caught,
sentry/tests/,355,"Right now we do not scrub data from event preprocessors, only",
sentry/tests/,356,from event enhancers.,
sentry/tests/,54,100% increase,
sentry/tests/,55,50% decrease,
sentry/tests/,56,100% decrease,
sentry/tests/,156,parameter is unused,
sentry/tests/,221,Ensure ``get_earliest_timestamp`` is relative to the fixed,
sentry/tests/,222,"""current"" timestamp -- this prevents filtering out data points",
sentry/tests/,223,that would be considered expired relative to the *actual* current,
sentry/tests/,224,timestamp.,
sentry/tests/,18,NOQA,
sentry/tests/,203,DOES NOT subscribe to Issue events,
sentry/tests/,256,TODO(nola): Enable this test whenever we prevent infinite loops w/ error.created integrations,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,44,NOQA,
sentry/tests/,45,NOQA,
sentry/tests/,46,NOQA,
sentry/tests/,100,Check for has_reappeared=False if is_new=True,
sentry/tests/,107,Check for has_reappeared=True if is_new=False,
sentry/tests/,213,Remove the team so the rule match will fail to resolve,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,24,"this effectively just says ""does the code run""",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,80,offset paginator does not support dynamic limits on is_prev,
sentry/tests/,179,The DateTime pager only has accuracy up to 1000th of a second.,
sentry/tests/,180,Everything can't be added within less than 10 microseconds of each,
sentry/tests/,181,"other. This is handled by the pager (see test_rounding_offset), but",
sentry/tests/,182,this case shouldn't rely on it.,
sentry/tests/,317,Prev page should return no results,
sentry/tests/,321,If the same row has an updated join date then it should,
sentry/tests/,322,show up on the prev page,
sentry/tests/,328,Make sure updates work as expected with extra rows,
sentry/tests/,57,test with raw search query at the end,
sentry/tests/,170,test date format,
sentry/tests/,180,test date time format,
sentry/tests/,191,test date time format w microseconds,
sentry/tests/,202,test date time format w microseconds and utc marker,
sentry/tests/,214,test date format with other name,
sentry/tests/,225,test colon format,
sentry/tests/,357,tab outside quote,
sentry/tests/,439,"This is a weird case. I think this should be an error, but it doesn't seem trivial to rewrite",
sentry/tests/,440,the grammar to handle that.,
sentry/tests/,493,unquoted key,
sentry/tests/,500,quoted key,
sentry/tests/,507,malformed key,
sentry/tests/,512,unquoted key,
sentry/tests/,517,quoted key,
sentry/tests/,546,Numeric format should still return a string if field isn't whitelisted,
sentry/tests/,606,Enclose the full raw query? Strip it.,
sentry/tests/,618,Enclose the full query? Strip it and the whole query is raw.,
sentry/tests/,627,Allow a single quotation at end,
sentry/tests/,634,Allow a single quotation at beginning,
sentry/tests/,643,Allow a single quotation,
sentry/tests/,650,Empty quotations become a dropped term,
sentry/tests/,653,Allow a search for space,
sentry/tests/,660,Strip in a balanced manner,
sentry/tests/,667,Don't try this at home kids,
sentry/tests/,680,"These should all fall through to basic equal searches, even though they",
sentry/tests/,681,"look like numeric, date, etc.",
sentry/tests/,696,Empty quotations become a dropped term,
sentry/tests/,790,longer even number of terms,
sentry/tests/,805,longer odd number of terms,
sentry/tests/,824,absurdly long,
sentry/tests/,1129,Should generate OR conditions,
sentry/tests/,1154,Will generate conditions that will never find anything,
sentry/tests/,1160,The '' environment is Null in snuba,
sentry/tests/,1339,"Automatic fields should be inserted, count() should have its column dropped.",
sentry/tests/,1354,"Automatic fields should be inserted, count() should have its column dropped.",
sentry/tests/,27,Test a couple of keys to ensure things are working as expected,
sentry/tests/,82,test numeric format,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,171,Should get nothing if not part of the org,
sentry/tests/,173,Should get everything if super user,
sentry/tests/,176,owner does not see projects they aren't members of if not included in query params,
sentry/tests/,179,owner sees projects they have access to if they're included as query params,
sentry/tests/,185,Should get everything if org is public and ids are specified,
sentry/tests/,210,"owner should see project if they explicitly request it, even if the don't",
sentry/tests/,211,have membership,
sentry/tests/,255,With membership on only one team you get all projects,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,17,set the status code to 400 not possible to set in init,
sentry/tests/,18,rest framework APIError is not compatible with integration APIError exception type,
sentry/tests/,78,"if `allow_joinleave` is True, admins can act on teams",
sentry/tests/,79,they don't have access to,
sentry/tests/,91,managers should be able to act on teams/projects they,
sentry/tests/,92,don't have access to,
sentry/tests/,104,owners should be able to act on teams/projects they,
sentry/tests/,105,don't have access to,
sentry/tests/,177,"if `allow_joinleave` is False, admins can't act on teams",
sentry/tests/,178,they don't have access to,
sentry/tests/,190,managers should be able to act on teams/projects they,
sentry/tests/,191,don't have access to,
sentry/tests/,203,owners should be able to act on teams/projects they,
sentry/tests/,204,don't have access to,
sentry/tests/,216,managers should be able to act on teams/projects they,
sentry/tests/,217,don't have access to,
sentry/tests/,224,owners should be able to act on teams/projects they,
sentry/tests/,225,don't have access to,
sentry/tests/,71,honors per_page,
sentry/tests/,72,sorted by installs,
sentry/tests/,35,Not sure why but sentry.auth.password_validation._default_password_validators is [] instead of None and not,
sentry/tests/,36,using `settings.AUTH_PASSWORD_VALIDATORS`,
sentry/tests/,66,Password mismatch,
sentry/tests/,59,we already have one token created so just need to make 19 more first,
sentry/tests/,82,should not include tokens from other internal app,
sentry/tests/,91,create an app with scopes higher than what a member role has,
sentry/tests/,103,Testing the Plugin,
sentry/tests/,108,Reset the plugin,
sentry/tests/,32,kill default allow_joinleave,
sentry/tests/,36,team which this team_admin user is not an admin of,
sentry/tests/,58,"There are requests to two diff teams, make sure we only get the one user is team admin for",
sentry/tests/,141,these params get ignored barring isUserDefault,
sentry/tests/,113,Move the bookmarked project to the front,
sentry/tests/,118,Make sure that it's at the front when on the second page as well,
sentry/tests/,122,Make sure that other user's bookmarks don't interfere with this user,
sentry/tests/,163,Verify all projects in the org are returned in sorted order,
sentry/tests/,176,Make foo_user a part of the org and self.team,
sentry/tests/,182,Verify projects that were returned were foo_users projects,
sentry/tests/,31,should not show up as project is pending removal,
sentry/tests/,33,"Verify that only teams that the user is a member of, are returned",
sentry/tests/,36,Sort teams so there is a guaranteed ordering,
sentry/tests/,52,Verify that all teams are returned,
sentry/tests/,55,Sort teams so there is a guaranteed ordering,
sentry/tests/,38,user without project-write permissions,
sentry/tests/,62,update permissions,
sentry/tests/,137,"TODO(dcramer): would be lovely to run the full spectrum, but it requires",
sentry/tests/,138,this test to not be class-based,
sentry/tests/,139,"@pytest.mark.parametrize('input,expected', (",
sentry/tests/,140,"['@yearly', '0 0 1 1 *'],",
sentry/tests/,141,"['@annually', '0 0 1 1 *'],",
sentry/tests/,142,"['@monthly', '0 0 1 * *'],",
sentry/tests/,143,"['@weekly', '0 0 * * 0'],",
sentry/tests/,144,"['@daily', '0 0 * * *'],",
sentry/tests/,145,"['@hourly', '0 * * * *'],",
sentry/tests/,146,)),
sentry/tests/,205,Two authenticators to ensure the user list is distinct,
sentry/tests/,346,"todo(maxbittker) this test is a false positive, need to figure out why",
sentry/tests/,349,permission role stuff:,
sentry/tests/,394,is this one right?,
sentry/tests/,15,force creation,
sentry/tests/,27,force creation,
sentry/tests/,47,force creation,
sentry/tests/,64,force creation,
sentry/tests/,22,"we first need to create a release attached to a repository, or that repository",
sentry/tests/,23,will never be included,
sentry/tests/,27,note: passing 'release' to create_commit causes it to bind ReleaseCommit,
sentry/tests/,36,create a commit associated with an unreleased repo -- which should not appear,
sentry/tests/,44,create several unreleased commits associated with repo,
sentry/tests/,251,Now upload it again!,
sentry/tests/,215,can still approve invite request,
sentry/tests/,80,Org the User is not a part of,
sentry/tests/,17,Requests to set the test cookie,
sentry/tests/,26,Depending on test we run migrations in Django 1.8. This causes,
sentry/tests/,27,"extra rows to be created, so remove them to keep this test working",
sentry/tests/,72,Depending on test we run migrations in Django 1.8. This causes,
sentry/tests/,73,"extra rows to be created, so remove them to keep this test working",
sentry/tests/,133,Check a pinned query that uses an existing query correctly filters,
sentry/tests/,134,the existing query,
sentry/tests/,269,TODO(LB): This is testing all environments but it will not work,
sentry/tests/,270,given what I did with the release serializer,
sentry/tests/,271,it will instead rely on tagstore. Not sure how to fix this.,
sentry/tests/,272,"response = self.client.get(url, format='json')",
sentry/tests/,273,"self.assert_releases(response, [self.release1, self.release3])",
sentry/tests/,274,releases = sort_releases_by_version(response.data),
sentry/tests/,275,self.assert_release_details(,
sentry/tests/,276,"release=releases[0],",
sentry/tests/,277,"new_issues_count=8,",
sentry/tests/,278,"first_seen=self.datetime,",
sentry/tests/,279,"last_seen=self.datetime + timedelta(seconds=700),",
sentry/tests/,280,),
sentry/tests/,281,self.assert_release_details(,
sentry/tests/,282,"release=releases[1],",
sentry/tests/,283,"new_issues_count=2,",
sentry/tests/,284,"first_seen=self.datetime,",
sentry/tests/,285,"last_seen=self.datetime + timedelta(days=20),",
sentry/tests/,286,),
sentry/tests/,388,"since project2 was added, should be 201",
sentry/tests/,49,Create non-member team to test response shape,
sentry/tests/,52,Ensure deleted teams don't come back.,
sentry/tests/,57,Some projects with membership and some without.,
sentry/tests/,63,Should not show up.,
sentry/tests/,71,TODO(dcramer): we need to pare this down -- lots of duplicate queries,
sentry/tests/,72,for membership data,
sentry/tests/,91,Create non-member team to test response shape,
sentry/tests/,210,needed to set require2FA,
sentry/tests/,238,log created,
sentry/tests/,241,org fields & flags,
sentry/tests/,248,org options,
sentry/tests/,442,Make sure we've emailed all owners,
sentry/tests/,449,No owners should be remaining,
sentry/tests/,483,2FA enforced org,
sentry/tests/,489,2FA not enforced org,
sentry/tests/,497,2FA enrolled user,
sentry/tests/,529,bypass SSO login,
sentry/tests/,539,bypass SSO login,
sentry/tests/,147,"Test calling multiple times works ok, doesn't cause other rows to",
sentry/tests/,148,delete,
sentry/tests/,72,check to make sure it's deleted,
sentry/tests/,31,should have these plugins:,
sentry/tests/,32,"issuetrackingplugin2, webhooks, mail",
sentry/tests/,33,none of the plugins should have an 'enabled' key since these,
sentry/tests/,34,plugins are not bound by a project,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,18,test unicode,
sentry/tests/,31,Now try to gain sudo access,
sentry/tests/,37,This should now work,
sentry/tests/,13,self.project = self.create_project(,
sentry/tests/,14,"organization=self.org,",
sentry/tests/,15,"# teams=[self.team],",
sentry/tests/,16,"# name='Bengal-Elephant-Giraffe-Tree-House',",
sentry/tests/,17,),
sentry/tests/,26,Invalid feature prompt name,
sentry/tests/,40,Invalid project id,
sentry/tests/,49,project doesn't exist,
sentry/tests/,103,environment_id,
sentry/tests/,25,this will always be the newest because when we access the site it gets updated,
sentry/tests/,588,cannot regenerate recovery codes,
sentry/tests/,662,"create a pending member, which shouldn't be counted in the checks",
sentry/tests/,12,TODO(dcramer): theres currently no way to look up other users,
sentry/tests/,13,def test_simple(self):,
sentry/tests/,14,user = self.create_user(email='a@example.com'),
sentry/tests/,15,user2 = self.create_user(email='b@example.com'),
sentry/tests/,17,self.login_as(user=user),
sentry/tests/,19,"url = reverse('sentry-api-0-user-details', kwargs={",
sentry/tests/,20,"'user_id': user2.id,",
sentry/tests/,21,}),
sentry/tests/,22,"resp = self.client.get(url, format='json')",
sentry/tests/,24,"assert resp.status_code == 200, resp.content",
sentry/tests/,25,assert resp.data['id'] == six.text_type(user.id),
sentry/tests/,26,assert 'identities' not in resp.data,
sentry/tests/,83,"note: email should not change, removed support for email changing from this endpoint",
sentry/tests/,104,superuser should be able to change self.user's name,
sentry/tests/,118,"note: email should not change, removed support for email changing from this endpoint",
sentry/tests/,129,name remains unchanged,
sentry/tests/,134,"if email != username and we change username, only username should change",
sentry/tests/,147,"if email == username and we change username,",
sentry/tests/,148,keep email in sync,
sentry/tests/,174,test validations,
sentry/tests/,180,test actual delete,
sentry/tests/,192,deletes org_single_owner even though it wasn't specified in array,
sentry/tests/,193,because it has a single owner,
sentry/tests/,198,"should delete org_with_other_owner, and org_as_other_owner",
sentry/tests/,207,should NOT delete `not_owned_org`,
sentry/tests/,229,deletes org_single_owner even though it wasn't specified in array,
sentry/tests/,230,because it has a single owner,
sentry/tests/,235,should NOT delete `not_owned_org`,
sentry/tests/,243,Cannot hard delete your own account,
sentry/tests/,253,"failed authorization, user does not have permissions to delete another",
sentry/tests/,254,user,
sentry/tests/,258,Reauthenticate as super user to hard delete an account,
sentry/tests/,39,should not be included due to missing link,
sentry/tests/,12,TODO(dcramer): These tests rely too much on implicit fixtures,
sentry/tests/,51,assert len(response.data['annotatedFrames']) == 1,
sentry/tests/,52,assert len(response.data['annotatedFrames'][0]['commits']) == 1,
sentry/tests/,53,assert response.data['annotatedFrames'][0]['commits'][0]['author']['username',
sentry/tests/,54,] == 'admin@localhost',
sentry/tests/,55,TODO(maxbittker) test more edge cases here,
sentry/tests/,75,result shouldn't include results from team2/project2 or bar@example.com,
sentry/tests/,86,now result should include results from team2/project2,
sentry/tests/,37,should not be seen by different user,
sentry/tests/,46,mark set as seen by new_user,
sentry/tests/,68,seenBy is sorted by most recently seen,
sentry/tests/,47,Adding existing UserOptions for a project or org to test that defaults are correct,
sentry/tests/,48,default is 3,
sentry/tests/,53,default is UserOptionValue.participating_only,
sentry/tests/,49,stdout seems to print log messages that mail should be sent but this,
sentry/tests/,50,assertion does not pass,
sentry/tests/,60,new user is not an owner of anything,
sentry/tests/,68,should not be included due to missing link,
sentry/tests/,77,should not be included due to resolution,
sentry/tests/,140,Specify environment,
sentry/tests/,147,No environment,
sentry/tests/,152,All environments,
sentry/tests/,159,Invalid environment,
sentry/tests/,113,Can return to default,
sentry/tests/,155,Can return to default,
sentry/tests/,308,can disable,
sentry/tests/,316,re-enable,
sentry/tests/,92,kill allow_joinleave,
sentry/tests/,285,ensure we've created the bookmark,
sentry/tests/,361,XXX: This test is written to verify that using api keys works when,
sentry/tests/,362,"hitting an endpoint that uses `client.{get,put,post}` to redirect to",
sentry/tests/,363,another endpoint. This catches a regression that happened when,
sentry/tests/,364,migrating to DRF 3.x.,
sentry/tests/,511,"Deletion was deferred, so it should still exist",
sentry/tests/,513,BUT the hash should be gone,
sentry/tests/,525,Now we killed everything with fire,
sentry/tests/,16,open membership,
sentry/tests/,90,member,
sentry/tests/,98,manager,
sentry/tests/,109,member,
sentry/tests/,117,owner,
sentry/tests/,128,member,
sentry/tests/,136,manager,
sentry/tests/,144,owner,
sentry/tests/,204,rerun create org member tests with closed membership,
sentry/tests/,247,admin not in the team,
sentry/tests/,325,admin not in team,
sentry/tests/,337,member,
sentry/tests/,345,manager,
sentry/tests/,356,member,
sentry/tests/,364,owner,
sentry/tests/,375,member,
sentry/tests/,383,manager,
sentry/tests/,391,owner,
sentry/tests/,217,should fail if using another match type,
sentry/tests/,69,no access,
sentry/tests/,215,no access,
sentry/tests/,303,no access,
sentry/tests/,80,Merge the events,
sentry/tests/,167,"Does not include self.component1 data, because it raised an exception",
sentry/tests/,168,during preparation.,
sentry/tests/,79,result shouldn't include results from team2/project2 or bar@example.com,
sentry/tests/,90,now result should include results from team2/project2,
sentry/tests/,22,Missing status,
sentry/tests/,26,Invalid guide id,
sentry/tests/,30,Invalid status,
sentry/tests/,43,Dismiss the guide and make sure it is not returned again.,
sentry/tests/,52,Steps in different guides should not have the same target.,
sentry/tests/,14,u2f,
sentry/tests/,71,not show permalink when not logged in,
sentry/tests/,77,show permalink when logged in,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,47,Delete content of cache,
sentry/tests/,38,This test can be removed once the TSDB metrics that were stored,
sentry/tests/,39,under str(key_id) have expired out of redis.,
sentry/tests/,42,Ensure Organization integrations are removed,
sentry/tests/,47,make sure repo is dissociated from integration,
sentry/tests/,76,User not in Org who owns the Integration,
sentry/tests/,253,scopes is empty array which should not be treated as none,
sentry/tests/,264,scopes is None here,
sentry/tests/,307,make sure we test at least one time with the webhookUrl set to none before the put request,
sentry/tests/,223,Now upload it again!,
sentry/tests/,13,This is obviously a freely generated UUID and not the checksum UUID.,
sentry/tests/,14,This is permissible if users want to send different UUIDs,
sentry/tests/,202,Test download,
sentry/tests/,214,Login user with no permissions,
sentry/tests/,220,Try to delete with no permissions,
sentry/tests/,224,Login again with permissions,
sentry/tests/,255,Test max 20 per page,
sentry/tests/,261,Test should return last,
sentry/tests/,257,event_id doesn't correspond to an existing event because we didn't call store_event,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,14,force creation,
sentry/tests/,27,force creation,
sentry/tests/,50,"in spite of the name, this checks the DeletedTeam object, not the",
sentry/tests/,51,audit log,
sentry/tests/,54,*this* actually checks the audit log,
sentry/tests/,80,NOQA,
sentry/tests/,87,mock the transaction_id when mock_delete_team is called,
sentry/tests/,119,mock the transaction_id when mock_delete_team is called,
sentry/tests/,125,an org with closed membership (byproduct of flags=0),
sentry/tests/,134,note that admin_user isn't a member of `team`,
sentry/tests/,144,"first, try deleting the team with open membership off",
sentry/tests/,150,"now, with open membership on",
sentry/tests/,170,note that member_user is a member of `team`,
sentry/tests/,12,create user as superuser,
sentry/tests/,33,invite requests,
sentry/tests/,15,force creation,
sentry/tests/,28,force creation,
sentry/tests/,49,force creation,
sentry/tests/,67,force creation,
sentry/tests/,91,Doesn't return anything when the OrganizatioIntegration doesn't,
sentry/tests/,92,exist (the Integration has been disabled),
sentry/tests/,118,"Shouldn't return the above ""unmigratable repo"" since the",
sentry/tests/,119,Integration is disabled.,
sentry/tests/,122,Shouldn't even make the request to get repos,
sentry/tests/,147,"Shouldn't return the above ""unmigratable repo"" since the",
sentry/tests/,148,Integration is disabled.,
sentry/tests/,151,Shouldn't even make the request to get repos,
sentry/tests/,61,should not have these because enrollment,
sentry/tests/,86,u2f,
sentry/tests/,115,should not have these because enrollment,
sentry/tests/,121,u2f,
sentry/tests/,153,u2f,
sentry/tests/,196,Can't remove last device,
sentry/tests/,208,only one send,
sentry/tests/,227,should not have these because enrollment,
sentry/tests/,250,regenerate codes,
sentry/tests/,268,sms,
sentry/tests/,290,u2f,
sentry/tests/,310,enroll in one auth method,
sentry/tests/,336,enroll in two auth methods,
sentry/tests/,73,Request to see of file is there,
sentry/tests/,74,file exists but we have no overship for the chunks,
sentry/tests/,85,Now we add ownership to the blob,
sentry/tests/,90,The request will start the job to assemble the file,
sentry/tests/,101,"Finally, we simulate a successful job",
sentry/tests/,112,Request now tells us that everything is alright,
sentry/tests/,151,The order here is on purpose because we check for the order of checksums,
sentry/tests/,158,we make a request now but we are missing ownership for chunk 2,
sentry/tests/,168,we add ownership to chunk 2,
sentry/tests/,171,"new request, ownership for all chunks is there but file does not exist yet",
sentry/tests/,264,create an app with higher permissions that what the member role has,
sentry/tests/,394,option items should have 2 elements,
sentry/tests/,395,"i.e. ['channel_id', '#general']",
sentry/tests/,498,verify tokens are created properly,
sentry/tests/,506,Below line will fail once we stop assigning api_token on the sentry_app_installation,
sentry/tests/,585,Internal integration names should only need to be unique within an organization,
sentry/tests/,73,URL with this new Install's uuid in it,
sentry/tests/,32,We fallback to default system url if config is not set,
sentry/tests/,77,this tells drf to select the MultiPartParser. We use that instead of,
sentry/tests/,78,FileUploadParser because we have our own specific file chunking mechanism,
sentry/tests/,79,in the chunk endpoint that has requirements like blob/chunk's filename = checksum.,
sentry/tests/,102,Exactly the limit,
sentry/tests/,119,Exactly the limit,
sentry/tests/,133,We overflow the request here,
sentry/tests/,31,force creation,
sentry/tests/,42,Regression test for https://github.com/getsentry/sentry/issues/2236,
sentry/tests/,47,We want to make sure we don't hit the LegacyProjectRedirect view at all.,
sentry/tests/,74,Rename the project,
sentry/tests/,85,XXX: AttributeError: 'Response' object has no attribute 'url',
sentry/tests/,86,"(this is with self.assertRedirects(response, ...))",
sentry/tests/,350,can delete,
sentry/tests/,362,can delete,
sentry/tests/,408,can set to 0 or delete,
sentry/tests/,422,cannot be empty,
sentry/tests/,540,test sending only max,
sentry/tests/,545,test sending min + invalid max,
sentry/tests/,583,there is a default rule added to project,
sentry/tests/,593,other_project should not have changed. This should check that.,
sentry/tests/,628,default rule,
sentry/tests/,643,Right now these are overwritten with the copied project's settings,
sentry/tests/,710,adding team user lacks write access to,
sentry/tests/,100,"NB: Unauthorized Relays also receive the project id, but cannot fetch",
sentry/tests/,101,the project ID afterwards.,
sentry/tests/,60,TODO(meredith): shoudl I check every attribute?,
sentry/tests/,47,This is bad data,
sentry/tests/,283,check that commits are overwritten,
sentry/tests/,290,should be 201 because project was added,
sentry/tests/,321,check that commits are overwritten,
sentry/tests/,330,make sure project was added,
sentry/tests/,360,should be 201 because 1 project was added,
sentry/tests/,396,should be 201 because 1 project was added,
sentry/tests/,695,"test right org, wrong permissions level",
sentry/tests/,704,"test wrong org, right permissions level",
sentry/tests/,713,"test right org, right permissions level",
sentry/tests/,15,force creation,
sentry/tests/,28,force creation,
sentry/tests/,49,force creation,
sentry/tests/,67,force creation,
sentry/tests/,40,Not the logged in User,
sentry/tests/,23,"TODO(joshuarli): move all fixtures to a standard path relative to gitroot,",
sentry/tests/,24,and implement this in testutils,
sentry/tests/,59,try to enroll,
sentry/tests/,68,also enrolls in recovery codes,
sentry/tests/,74,can't enroll again because no multi enrollment is allowed,
sentry/tests/,88,try to enroll,
sentry/tests/,163,,
sentry/tests/,270,setup sms,
sentry/tests/,305,setup totp,
sentry/tests/,343,"Mutate the OrganizationMember, putting it out of sync with the",
sentry/tests/,344,pending member cookie.,
sentry/tests/,361,"Mutate the OrganizationMember, putting it out of sync with the",
sentry/tests/,362,pending member cookie.,
sentry/tests/,302,value set to empty string on deletion,
sentry/tests/,54,Formatted from sentry:release,
sentry/tests/,57,Use the key= queryparam to grab results for specific tags,
sentry/tests/,21,Enroll in Totp - should still be listed,
sentry/tests/,32,test invalid email,
sentry/tests/,37,valid secondary email,
sentry/tests/,43,"duplicate email allows still succeeds, but has a diff response code",
sentry/tests/,81,self.url represents users url to `self.user` and we are logged in as `other_user`,
sentry/tests/,27,test needs to be updated if plugins are removed,
sentry/tests/,105,Sweeping assertion that we do not have any snake_case in that config.,
sentry/tests/,106,Might need refining.,
sentry/tests/,122,Sweeping assertion that we do not have any snake_case in that config.,
sentry/tests/,123,Might need refining.,
sentry/tests/,156,"Event retention depends on settings, so assert the actual value. Likely",
sentry/tests/,157,"`None` in dev, but must not be missing.",
sentry/tests/,23,name displayed matches what the user expects,
sentry/tests/,267,integration isn't linked to org,
sentry/tests/,282,integration isn't linked to org,
sentry/tests/,66,member that IS NOT part of the team,
sentry/tests/,68,member that IS part of the team,
sentry/tests/,76,mentioning a member that does not exist returns 400,
sentry/tests/,86,mentioning a member in the correct team returns 201,
sentry/tests/,96,mentioning a member that exists but NOT in the team returns,
sentry/tests/,97,validation error,
sentry/tests/,110,team that IS part of the project,
sentry/tests/,112,team that IS NOT part of the project,
sentry/tests/,123,mentioning a team that does not exist returns 400,
sentry/tests/,138,mentioning a team in the project returns 201,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,9,from sentry.constants import SentryAppStatus,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,47,member,
sentry/tests/,48,pending invite,
sentry/tests/,53,invite requests,
sentry/tests/,85,after changing to allow_joinleave=False,
sentry/tests/,91,after giving them access to team,
sentry/tests/,110,after changing to allow_joinleave=False,
sentry/tests/,116,after giving them access to team,
sentry/tests/,135,after changing to allow_joinleave=False,
sentry/tests/,141,after giving them access to team,
sentry/tests/,160,after changing to allow_joinleave=False,
sentry/tests/,166,after giving them access to team,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,66,Add binding in case they aren't set.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,171,"((default, project), (subscribed, details))",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,29,"We don't want to assert on the value, just that it serialized",
sentry/tests/,32,explicitly passed serializer,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,64,Only includes meta for simple top-level attributes,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,58,after changing to allow_joinleave=False,
sentry/tests/,64,after giving them access to team,
sentry/tests/,84,after changing to allow_joinleave=False,
sentry/tests/,90,after giving them access to team,
sentry/tests/,109,after changing to allow_joinleave=False,
sentry/tests/,115,after giving them access to team,
sentry/tests/,134,after changing to allow_joinleave=False,
sentry/tests/,140,after giving them access to team,
sentry/tests/,238,remove environments and related models,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,77,should be sum of all projects,
sentry/tests/,413,test bad refs,
sentry/tests/,421,test good refs,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,33,Explicitly mentioned users shouldn't be included in team_users,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,65,we had a regression which caused the default hash to just be,
sentry/tests/,66,'event.message' instead of '[event.message]' which caused it to,
sentry/tests/,67,generate a hash per letter,
sentry/tests/,89,Saves the latest event to nodestore and eventstream,
sentry/tests/,172,N.B. EventManager won't unresolve the group unless the event2 has a,
sentry/tests/,173,later timestamp than event1.,
sentry/tests/,192,N.B. EventManager won't unresolve the group unless the event2 has a,
sentry/tests/,193,later timestamp than event1.,
sentry/tests/,236,need to work around active_at,
sentry/tests/,311,need to work around active_at,
sentry/tests/,412,need to work around active_at,
sentry/tests/,450,need to work around active_at,
sentry/tests/,581,ensure we're not erroring on second creation,
sentry/tests/,680,ensure event user is mapped to tags in second attempt,
sentry/tests/,700,"This can happen as part of PII stripping, which happens after normalization",
sentry/tests/,759,Ensure the `GroupEnvironment` record was created.,
sentry/tests/,769,"Ensure that the first event in the (group, environment) pair is",
sentry/tests/,770,marked as being part of a new environment.,
sentry/tests/,784,"Ensure that the next event in the (group, environment) pair is *not*",
sentry/tests/,785,marked as being part of a new environment.,
sentry/tests/,790,XXX: wut,
sentry/tests/,926,test that the message is handled gracefully,
sentry/tests/,957,test that invalid messages are rejected,
sentry/tests/,976,Logentry shadows the legacy message attribute.,
sentry/tests/,1033,Ensure that we incremented TSDB counts,
sentry/tests/,1109,release and environment stay toplevel,
sentry/tests/,1113,site is a legacy attribute that is just a tag,
sentry/tests/,47,build a report without the effective-directive key,
sentry/tests/,292,"With rust, there will be errors emitted",
sentry/tests/,296,"With rust, there will be errors emitted",
sentry/tests/,318,Just 'message': wrap it in interface,
sentry/tests/,322,"both 'message' and interface with no 'formatted' value, put 'message'",
sentry/tests/,323,into 'formatted'.,
sentry/tests/,329,"both 'message' and complete interface, 'message' is discarded",
sentry/tests/,345,both 'message' and complete valid interface but interface has the same,
sentry/tests/,346,value for both keys so the 'formatted' value is discarded and ends up,
sentry/tests/,347,being replaced with 'message',
sentry/tests/,358,"interface discarded as invalid, replaced by new interface containing",
sentry/tests/,359,wrapped 'message',
sentry/tests/,44,we had a regression which was throwing this data away,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,30,"TODO(markus): Should eventually generate {""images"": [None]}",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,19,react native,
sentry/tests/,20,webpack bundle,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,43,"TODO(markus): The following cases should eventually generate {""values"": [None]}",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,61,invalid keys are just removed,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,58,Don't re-split a json-serialized value on the colon,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,78,check again after creating member,
sentry/tests/,85,test with scope user doesn't have,
sentry/tests/,91,check with scope they do have,
sentry/tests/,32,Set up the times,
sentry/tests/,49,Also create some outcomes we shouldn't be querying,
sentry/tests/,70,Query SnubaTSDB,
sentry/tests/,75,"Assert that the response has values set for the times we expect, and nothing more",
sentry/tests/,97,Also create some outcomes we shouldn't be querying,
sentry/tests/,122,"Assert that the response has values set for the times we expect, and nothing more",
sentry/tests/,156,Also create some outcomes we shouldn't be querying,
sentry/tests/,183,"with [project_key.id, six.text_type(project_key.id)], we are imitating the hack in",
sentry/tests/,184,project_key_stats.py cause that is what `get_range` will be called with.,
sentry/tests/,193,"Assert that the response has values set for the times we expect, and nothing more",
sentry/tests/,205,Ensure that the models we expect to be using Snuba are using Snuba,
sentry/tests/,207,this is not outcomes and will be moved separately,
sentry/tests/,210,does not include the internal TSDB model,
sentry/tests/,219,this is not outcomes and will be moved separately,
sentry/tests/,226,100 - 200: project outcomes,
sentry/tests/,227,200 - 300: organization outcomes,
sentry/tests/,228,500 - 600: key outcomes,
sentry/tests/,229,600 - 700: filtered project based outcomes,
sentry/tests/,19,"time in seconds, samples to keep",
sentry/tests/,20,5 minutes at 10 seconds,
sentry/tests/,21,2 hours at 1 minute,
sentry/tests/,22,1 days at 1 hour,
sentry/tests/,23,30 days at 1 day,
sentry/tests/,81,This test is a funny one (notice it doesn't return a range that,
sentry/tests/,82,includes the start position.) This occurs because the algorithm for,
sentry/tests/,83,determining the series to be returned will attempt to return the same,
sentry/tests/,84,"duration of time as represented by the start and end timestamps, but",
sentry/tests/,85,doesn't necessarily return data *from that specific interval* (the,
sentry/tests/,86,end timestamp is always included.),
sentry/tests/,36,"time in seconds, samples to keep",
sentry/tests/,37,5 minutes at 10 seconds,
sentry/tests/,38,2 hours at 1 minute,
sentry/tests/,39,1 days at 1 hour,
sentry/tests/,40,30 days at 1 day,
sentry/tests/,323,None of the registered frequency tables actually support,
sentry/tests/,324,"environments, so we have to pretend like one actually does",
sentry/tests/,84,test chunking logic,
sentry/tests/,18,side effect of generating an event,
sentry/tests/,19,Poll this amount of times (for 0.1 sec each) at most to wait for messages,
sentry/tests/,98,Verify that we consumed everything and didn't time out,
sentry/tests/,99,assert not predicate(),
sentry/tests/,115,Clear the topic to ensure we run in a pristine environment,
sentry/tests/,130,Add two FILTERED items so we know when the producer has reached the end,
sentry/tests/,141,verify that the appropriate filters were called,
sentry/tests/,151,emit the same outcome twice (simulate the case when the producer goes,
sentry/tests/,152,down without committing the kafka offsets and is restarted),
sentry/tests/,163,only once!,
sentry/tests/,180,verify that the appropriate filters were called,
sentry/tests/,18,Poll this amount of times (for 0.1 sec each) at most to wait for messages,
sentry/tests/,30,the event id should be 32 digits,
sentry/tests/,33,must match the project id set up by the test fixtures,
sentry/tests/,116,check that we got the messages,
sentry/tests/,288,"Event got saved after user report, and the sync only works in the",
sentry/tests/,289,"opposite direction. That's fine, we just accept it.",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,90,Get / get multi populates cache,
sentry/tests/,106,Manually deleted item should still retreivable from cache,
sentry/tests/,114,Deletion clars cache,
sentry/tests/,120,Setting the item updates cache,
sentry/tests/,127,Missing rows are never cached,
sentry/tests/,63,Get / get multi populates cache,
sentry/tests/,79,Manually deleted item should still retreivable from cache,
sentry/tests/,89,Deletion clars cache,
sentry/tests/,95,Setting the item updates cache,
sentry/tests/,102,Missing rows are never cached,
sentry/tests/,33,"We could use the default_project fixture here, but we would like to avoid 1) hitting the db 2) creating a mock",
sentry/tests/,41,Remove keys that change everytime,
sentry/tests/,46,public keys change every time,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,69,Just shouldn't raise,
sentry/tests/,76,"This key should already exist, and we can't re-register",
sentry/tests/,103,These just shouldn't blow up since they are implicitly registered,
sentry/tests/,151,Make sure that we don't touch either of the stores,
sentry/tests/,197,Make sure the database value is overridden if defined,
sentry/tests/,201,Ensure empty values on disk are preferred over DB values (See #14557),
sentry/tests/,205,Ensure None on disk are NOT preferred over DB (See #14557),
sentry/tests/,211,we can't update options if the db is unavailable,
sentry/tests/,256,we should still be able to write a new value,
sentry/tests/,260,"the cache should be incorrect now, but sync_options will eventually",
sentry/tests/,261,correct the state,
sentry/tests/,265,"when the cache poofs, the db will be return the most-true answer",
sentry/tests/,316,This shouldn't be affected by the store value since it's NOSTORE,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,58,we can't update options if the db is unavailable,
sentry/tests/,62,Assert nothing was written to the local_cache,
sentry/tests/,84,Serves the value beyond TTL,
sentry/tests/,91,It should have also been evicted,
sentry/tests/,107,"Still within TTL, so don't check database",
sentry/tests/,124,should expire after 10,
sentry/tests/,125,should expire after 15,
sentry/tests/,126,should expire after 20,
sentry/tests/,127,should expire after 25,
sentry/tests/,71,"If the date range spans across two hours, then one row will have results",
sentry/tests/,72,and the other one won't.,
sentry/tests/,5,noqa,
sentry/tests/,10,noqa,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,15,this test relies on a few other tests passing,
sentry/tests/,41,should not apply twice due to default frequency,
sentry/tests/,45,now ensure that moving the last update backwards,
sentry/tests/,46,in time causes the rule to trigger again,
sentry/tests/,43,This simulates the following case:,
sentry/tests/,44,- Rule is setup to accept >= error,
sentry/tests/,45,"- error event finishes the save_event task, group has a level of error",
sentry/tests/,46,"- warning event finishes the save event, group now has a level of warning",
sentry/tests/,47,- error event starts post_process_group should pass even though the group,
sentry/tests/,48,has a warning level set,
sentry/tests/,49,,
sentry/tests/,50,Specifically here to make sure the check is properly checking the event's level,
sentry/tests/,275,"correctly matching filenames, at various locations in the stacktrace",
sentry/tests/,282,non-matching filename,
sentry/tests/,309,"correctly matching modules, at various locations in the stacktrace",
sentry/tests/,316,non-matching module,
sentry/tests/,358,"correctly matching code, at various locations in the stacktrace",
sentry/tests/,365,non-matching code,
sentry/tests/,146,"generates unique values, class scope doesn't matter",
sentry/tests/,61,disable default allow_joinleave,
sentry/tests/,88,owners should have access but not membership,
sentry/tests/,94,disable default allow_joinleave,
sentry/tests/,200,Partner's normal Sentry account.,
sentry/tests/,75,no ips = any host,
sentry/tests/,92,no ips = any host,
sentry/tests/,152,request.user wasn't set,
sentry/tests/,202,anonymous,
sentry/tests/,206,a non-superuser,
sentry/tests/,210,a superuser,
sentry/tests/,84,"The org member invite should have a non matching email, but the",
sentry/tests/,85,"member id and token will match from the cookie, allowing association",
sentry/tests/,24,Ensure we load and memoize the interfaces as well.,
sentry/tests/,27,When we pickle an event we need to make sure our canonical code,
sentry/tests/,28,does not appear here or it breaks old workers.,
sentry/tests/,32,For testing we remove the backwards compat support in the,
sentry/tests/,33,`NodeData` as well.,
sentry/tests/,37,Old worker loading,
sentry/tests/,44,New worker loading,
sentry/tests/,239,Group ID must be fetched from Snuba since it is not present in nodestore,
sentry/tests/,265,Assert we only renormalize this once. If this assertion fails it's likely,
sentry/tests/,266,that you will encounter severe performance issues during event processing,
sentry/tests/,267,or postprocessing.,
sentry/tests/,77,No differences to log,
sentry/tests/,83,Here we expect a difference since the original implementation handles type as a tag,
sentry/tests/,77,"Default sort is timestamp desc, event_id desc",
sentry/tests/,84,No events found,
sentry/tests/,89,Test with a list of event IDs and project ID filters,
sentry/tests/,108,Get valid event,
sentry/tests/,115,Get non existent event,
sentry/tests/,119,Get transaction,
sentry/tests/,137,Events with the same timestamp are sorted by event_id,
sentry/tests/,140,Returns None if no event,
sentry/tests/,145,Returns a latest/oldest event,
sentry/tests/,153,Returns none when no latest/oldest event that meets conditions,
sentry/tests/,19,"French, in locale/catalogs.json",
sentry/tests/,26,"Romanian, not in locale/catalogs.json",
sentry/tests/,26,Empty tag,
sentry/tests/,28,"Basic, no variables",
sentry/tests/,30,String substitution,
sentry/tests/,32,String substitution with variable,
sentry/tests/,34,String substitution with missing variable,
sentry/tests/,36,String substitution with multiple vars,
sentry/tests/,38,"Empty tag, as other var",
sentry/tests/,40,"Basic, as other var",
sentry/tests/,42,"String substitution, as other var",
sentry/tests/,47,"String substitution with variable, as other var",
sentry/tests/,49,Mix it all up,
sentry/tests/,9,"get a backend-dependent Template, just like get_template in >= Django 1.8",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,22,Make sure the python file is valid,
sentry/tests/,28,Make sure the yaml file is valid,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,82,Tests on the receivers,
sentry/tests/,1,coding: utf-8,
sentry/tests/,33,ensure that we dont hit an error here,
sentry/tests/,55,ensure that we dont hit an error here,
sentry/tests/,78,ensure that we dont hit an error here,
sentry/tests/,10,This testcase needs to be an APITestCase because all of the logic to resolve,
sentry/tests/,11,Issues and kick off side effects are just chillin in the endpoint code -_-,
sentry/tests/,193,Excludes email address,
sentry/tests/,50,TODO(dcramer): pull out short ID matching and expand regexp tests,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,20,make sure activity has been created,
sentry/tests/,37,make sure no activity has been created,
sentry/tests/,43,"case where there are not commits, but also no head commit,",
sentry/tests/,44,so we shouldn't bother waiting to notify,
sentry/tests/,57,make sure activity has been created,
sentry/tests/,70,"case where there are not commits, but there are head",
sentry/tests/,71,"commits, indicating we should wait to notify",
sentry/tests/,90,make sure activity has been created,
sentry/tests/,97,case where they've created a deploy and,
sentry/tests/,98,"we've tried to fetch commits, but there",
sentry/tests/,99,weren't any,
sentry/tests/,112,make sure activity has been created,
sentry/tests/,14,This is obviously a freely generated UUID and not the checksum UUID.,
sentry/tests/,15,This is permissible if users want to send different UUIDs,
sentry/tests/,97,"XXX: If no file has features, in a group, the newest one is chosen,",
sentry/tests/,98,regardless of the required feature set.,
sentry/tests/,201,"XXX: dif2 and dif3 would actually be redundant, but since they are more",
sentry/tests/,202,recent than dif1 we keep both of them. This assumes that newer uploads,
sentry/tests/,203,might contain more specific debug information and should therefore,
sentry/tests/,204,receive precedence over older ones.,
sentry/tests/,279,"if we clear now, nothing happens",
sentry/tests/,283,Put the time into the future,
sentry/tests/,291,But it's gone now,
sentry/tests/,17,"generates unique values, class scope doesn't matter",
sentry/tests/,43,this should not update immediately as the window is too close,
sentry/tests/,39,this should not update immediately as the window is too close,
sentry/tests/,47,"shouldn't create new release env if same env, release and org",
sentry/tests/,1,coding: utf-8,
sentry/tests/,33,"This is the current behavior, but seems weird to me.",
sentry/tests/,34,unclear if we actually experience this case in the real,
sentry/tests/,35,"world, but worth documenting the behavior",
sentry/tests/,53,Set the threshold to zero to force caching on the file system,
sentry/tests/,59,Check that the file was cached,
sentry/tests/,75,Set the threshold larger than the file size to force streaming,
sentry/tests/,80,Check that the file was not cached,
sentry/tests/,45,dupe shouldn't get merged,
sentry/tests/,57,to_user should have less roles,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,73,"owner does not exist on new org, so should not be transferred",
sentry/tests/,76,existing member should now have access,
sentry/tests/,79,role should not automatically upgrade,
sentry/tests/,82,old member row should still exist,
sentry/tests/,85,no references to old org for this team should exist,
sentry/tests/,35,No data matches,
sentry/tests/,38,Match only rule_a,
sentry/tests/,46,Match only rule_b,
sentry/tests/,54,Matches both rule_a and rule_b,
sentry/tests/,66,"When fallthrough = False, we don't implicitly assign to Everyone",
sentry/tests/,95,Normal team,
sentry/tests/,99,Team that doesn't exist,
sentry/tests/,103,A team that's not ours,
sentry/tests/,115,Normal user,
sentry/tests/,119,An extra secondary email,
sentry/tests/,122,They map to the same user since it's just a secondary email,
sentry/tests/,124,"Another secondary email, that isn't verified",
sentry/tests/,127,Intentionally allow unverified emails,
sentry/tests/,128,actor3 = None,
sentry/tests/,131,An entirely unknown user,
sentry/tests/,135,A user that doesn't belong with us,
sentry/tests/,140,Case-insensitive for user,
sentry/tests/,122,We shouldn't end up in a case where the redirect points to a bad,
sentry/tests/,123,"reference, but testing this path for completeness.",
sentry/tests/,145,We shouldn't end up in a case where the redirect points to a bad,
sentry/tests/,146,"reference, but testing this path for completeness.",
sentry/tests/,258,"mail.queued, mail.sent",
sentry/tests/,299,"mail.queued, mail.sent",
sentry/tests/,331,"mail.queued, mail.sent",
sentry/tests/,374,"mail.queued, mail.sent",
sentry/tests/,397,"mail.queued, mail.sent",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,19,should not error,
sentry/tests/,37,should not error,
sentry/tests/,63,should not error,
sentry/tests/,79,should not error,
sentry/tests/,87,Include an extra team here to prove the subquery works,
sentry/tests/,100,implicit membership,
sentry/tests/,105,unsubscribed,
sentry/tests/,112,not participating by default,
sentry/tests/,123,explicitly participating,
sentry/tests/,144,prevent accidental overlap with user id,
sentry/tests/,154,"Implicit subscription, ensure the project setting overrides the",
sentry/tests/,155,default global option.,
sentry/tests/,170,"Implicit subscription, ensure the project setting overrides the",
sentry/tests/,171,explicit global option.,
sentry/tests/,194,"Explicit subscription, overridden by the global option.",
sentry/tests/,217,"Explicit subscription, overridden by the project option.",
sentry/tests/,240,"Explicit subscription, overridden by the project option which also",
sentry/tests/,241,overrides the default option.,
sentry/tests/,265,prevent accidental overlap with user id,
sentry/tests/,272,"Implicit subscription, ensure the project setting overrides the",
sentry/tests/,273,default global option.,
sentry/tests/,288,"Implicit subscription, ensure the project setting overrides the",
sentry/tests/,289,explicit global option.,
sentry/tests/,312,Ensure the global default is applied.,
sentry/tests/,336,Ensure the project setting overrides the global default.,
sentry/tests/,360,Ensure the project setting overrides the global setting.,
sentry/tests/,428,"implicit participation, included by default",
sentry/tests/,441,"explicit participation, included by default",
sentry/tests/,453,"explicit participation, participating only",
sentry/tests/,460,"implicit participation, participating only",
sentry/tests/,472,"explicit participation, explicit participating only",
sentry/tests/,481,"implicit participation, explicit participating only",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,coding: utf-8,
sentry/tests/,84,1 hour,
sentry/tests/,92,Create an event without specifying node_id. A node_id should be generated,
sentry/tests/,105,Event with no data should not be saved to nodestore,
sentry/tests/,108,NodeData returns {} by default,
sentry/tests/,138,Unload node data to force reloading from nodestore,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,17,Recording the same historic slug on a different project updates the,
sentry/tests/,18,project pointer.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,79,conflicting project slug,
sentry/tests/,159,conflicting project slug,
sentry/tests/,237,there is a default rule added to project,
sentry/tests/,241,other_project should not have changed. This should check that.,
sentry/tests/,276,default rule,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,42,merge to,
sentry/tests/,65,merge from #1,
sentry/tests/,88,merge from #2,
sentry/tests/,113,ReleaseCommit.release,
sentry/tests/,115,should not exist because they referenced the same commit,
sentry/tests/,119,ReleaseEnvironment.release_id,
sentry/tests/,124,ReleaseProject.release,
sentry/tests/,130,ReleaseProjectEnvironment.release,
sentry/tests/,144,GroupRelease.release_id,
sentry/tests/,149,GroupResolution.release,
sentry/tests/,154,Group.first_release,
sentry/tests/,159,Releases are gone,
sentry/tests/,204,test that backfilling works,
sentry/tests/,233,throw in an upper case letter,
sentry/tests/,268,test that backfilling fills in missing message and author,
sentry/tests/,339,Using the id/repository payload should retain existing data.,
sentry/tests/,364,"Setting the exact same commits, shouldn't call update",
sentry/tests/,368,"Setting a different commit message, should call update",
sentry/tests/,509,"254 chars long, max valid email.",
sentry/tests/,23,deep check,
sentry/tests/,36,Check uniqueness,
sentry/tests/,22,Can't both be assigned,
sentry/tests/,28,Can't have nobody assigned,
sentry/tests/,218,no permissions,
sentry/tests/,225,w permissions,
sentry/tests/,26,"Simplify tests, the manager can just be a dict.",
sentry/tests/,47,Test state,
sentry/tests/,51,"Pipeline has two steps, ensure both steps compete. Usually the",
sentry/tests/,52,dispatch itself would be the one calling the current_step and,
sentry/tests/,53,next_step methods after it determines if it can move forward a step.,
sentry/tests/,79,"Mutate the provider, Remove an item from the pipeline, thus",
sentry/tests/,80,invalidating the pipeline.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,93,Make sure that disabling mail alerts works as expected,
sentry/tests/,107,Make sure that disabling mail alerts works as expected,
sentry/tests/,141,user with inactive account,
sentry/tests/,143,user not in any groups,
sentry/tests/,156,all members,
sentry/tests/,159,disabled user2,
sentry/tests/,168,disabled by default user4,
sentry/tests/,425,Make sure that disabling mail alerts works as expected,
sentry/tests/,25,noqa,
sentry/tests/,33,"totally made up constant, seems reasonable",
sentry/tests/,20,"comparison, without thresholding",
sentry/tests/,23,identical contents,
sentry/tests/,24,"equidistant pairs, order doesn't really matter",
sentry/tests/,28,"comparison, low threshold",
sentry/tests/,32,identical contents,
sentry/tests/,33,"equidistant pairs, order doesn't really matter",
sentry/tests/,36,"comparison, high threshold (exact match)",
sentry/tests/,40,identical contents,
sentry/tests/,42,"comparison, candidate limit (with lexicographical collision sort)",
sentry/tests/,47,"classification, without thresholding",
sentry/tests/,50,"equidistant pairs, order doesn't really matter",
sentry/tests/,54,"classification, low threshold",
sentry/tests/,58,identical contents,
sentry/tests/,59,"equidistant pairs, order doesn't really matter",
sentry/tests/,62,"classification, high threshold (exact match)",
sentry/tests/,66,identical contents,
sentry/tests/,68,"classification, candidate limit (with lexicographical collision sort)",
sentry/tests/,88,"comparison, without thresholding",
sentry/tests/,97,"comparison, candidate limit (with lexicographical collision sort)",
sentry/tests/,105,"classification, without thresholding",
sentry/tests/,116,"classification, with thresholding (low)",
sentry/tests/,120,no direct hits,
sentry/tests/,121,one direct hit,
sentry/tests/,126,this should have a value since it's similar even thought it was not,
sentry/tests/,127,considered as a candidate for this index,
sentry/tests/,131,"classification, with thresholding (high)",
sentry/tests/,135,no direct hits,
sentry/tests/,136,3 direct hits,
sentry/tests/,140,tie btw first 2 items is broken by lex sort,
sentry/tests/,148,"classification, candidate limit (with lexicographical collision sort)",
sentry/tests/,158,empty query,
sentry/tests/,173,merge into an empty key should act as a move,
sentry/tests/,39,Copy the data from key 1 to key 2.,
sentry/tests/,45,cannot ensure exact TTL match,
sentry/tests/,47,Copy the data again to key 2 (duplicating all of the data.),
sentry/tests/,15,"if no org is provided, user needs auth",
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,45,Test that you can't sneak a bad domain into the list of webhooks,
sentry/tests/,46,without it being validated by delmiting with \r instead of \n,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,139,user with inactive account,
sentry/tests/,141,user not in any groups,
sentry/tests/,154,all members,
sentry/tests/,157,disabled user2,
sentry/tests/,166,disabled by default user4,
sentry/tests/,443,email includes issue metadata,
sentry/tests/,473,email does not include issue metadata,
sentry/tests/,613,Make sure that disabling mail alerts works as expected,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,163,added to make sure org default above takes precedent,
sentry/tests/,180,user is included because they committed,
sentry/tests/,181,user2 committed but isn't in a team associated with the project.,
sentry/tests/,182,user3 is included because they oped into all deploy emails,
sentry/tests/,183,user4 committed but isn't included because they opted out of all deploy emails,
sentry/tests/,184,for that org -- also tests to make sure org overrides default preference,
sentry/tests/,185,user5 committed with another email address and is still included.,
sentry/tests/,205,make sure this only includes projects user has access to,
sentry/tests/,252,only user3 is included because they oped into all deploy emails,
sentry/tests/,262,make sure this only includes projects user has access to,
sentry/tests/,303,user3 and user 6 are included because they oped into all deploy emails,
sentry/tests/,304,"(one on an org level, one as their default)",
sentry/tests/,317,make sure this only includes projects user has access to,
sentry/tests/,35,XXX: Django 1.10 requires a view callable. I was too lazy to figure out,
sentry/tests/,36,"how to mock one, so just using this random low-level thing.",
sentry/tests/,37,"As far as I can see, none of our plugins use get_project_urls, so",
sentry/tests/,38,"all this can probably even be removed, but I'm keeping it here for now",
sentry/tests/,39,for fear of breakage.,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,137,changes should only be visible on batching_buffers_incr() exit,
sentry/tests/,162,"On first pass, we are expecting to do:",
sentry/tests/,163,* process the buffer that doesn't have a partition (b:p),
sentry/tests/,164,"* queue up 2 jobs, one for each partition to process.",
sentry/tests/,174,Confirm that we've only processed the unpartitioned buffer,
sentry/tests/,180,partition 0,
sentry/tests/,186,Make sure we didn't queue up more,
sentry/tests/,189,partition 1,
sentry/tests/,195,Make sure we didn't queue up more,
sentry/tests/,254,signal_only stored last,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,39,"the default value for times_seen is 1, so we actually end up",
sentry/tests/,40,incrementing it to 2 here,
sentry/tests/,258,"Duration of 300s, but no alert rule",
sentry/tests/,726,This test will fail unless real migrations are run. Refer to migration 0061.,
sentry/tests/,914,"A snapshot of the pre-updated rule should be created, and the incidents should also be resolved.",
sentry/tests/,920,Give the rule some actions and triggers so we can verify they've been snapshotted correctly.,
sentry/tests/,953,Rule snapshot should have properties of the rule before it was updated.,
sentry/tests/,962,Incidents should now be pointing to the rule snapshot.,
sentry/tests/,965,Incidents should be resolved,
sentry/tests/,968,Action and trigger counts should double (from 1 to 2),
sentry/tests/,972,Verify actions and triggers have the same properties...and are not the same actions & triggers as the original rule.,
sentry/tests/,1068,We should have only one exclusion,
sentry/tests/,73,First test fetching from database,
sentry/tests/,77,Now test fetching from cache,
sentry/tests/,291,Check identifier correctly increments,
sentry/tests/,304,This incident will take the identifier we already fetched and,
sentry/tests/,305,"use it, which will cause the database to throw an integrity",
sentry/tests/,306,error.,
sentry/tests/,336,"We should have 3 calls - one for initial create, one for conflict,",
sentry/tests/,337,then the final one for the retry we get due to the conflict,
sentry/tests/,339,"Ideally this would be 2, but because we create the conflicting",
sentry/tests/,340,row inside of a transaction it ends up rolled back. We just want,
sentry/tests/,341,to verify that it was created successfully.,
sentry/tests/,47,User shouldn't receive an email for their own activity,
sentry/tests/,48,NOQA,
sentry/tests/,70,NOQA,
sentry/tests/,90,Make sure the trigger exists,
sentry/tests/,226,TODO: Check subscription is deleted once we start doing that,
sentry/tests/,242,NOQA,
sentry/tests/,254,Verify that an alert rule that only expects a single update to be over the,
sentry/tests/,255,alert threshold triggers correctly,
sentry/tests/,265,Verify that a rule that expects two consecutive updates to be over the,
sentry/tests/,266,alert threshold triggers correctly,
sentry/tests/,283,Verify that a rule that expects two consecutive updates to be over the,
sentry/tests/,284,alert threshold doesn't trigger if there are two updates that are above with,
sentry/tests/,285,an update that is below the threshold in the middle,
sentry/tests/,308,Test that we don't track stats for resolving if there are no active incidents,
sentry/tests/,309,related to the alert rule.,
sentry/tests/,319,Verify that an alert rule that only expects a single update to be under the,
sentry/tests/,320,resolve threshold triggers correctly,
sentry/tests/,336,Verify that a rule that expects two consecutive updates to be under the,
sentry/tests/,337,resolve threshold triggers correctly,
sentry/tests/,361,Verify that a rule that expects two consecutive updates to be under the,
sentry/tests/,362,resolve threshold doesn't trigger if there's two updates that are below with,
sentry/tests/,363,an update that is above the threshold in the middle,
sentry/tests/,393,Test that inverting thresholds correctly alerts,
sentry/tests/,410,Test that inverting thresholds correctly resolves,
sentry/tests/,434,Verify that multiple subscriptions associated with a rule don't conflict with,
sentry/tests/,435,each other,
sentry/tests/,440,Send an update through for the first subscription. This shouldn't trigger an,
sentry/tests/,441,"incident, since we need two consecutive updates that are over the threshold.",
sentry/tests/,450,Have an update come through for the other sub. This shouldn't influence the original,
sentry/tests/,461,Send another update through for the first subscription. This should trigger an,
sentry/tests/,462,incident for just this subscription.,
sentry/tests/,473,Send another update through for the second subscription. This should trigger an,
sentry/tests/,474,incident for just this subscription.,
sentry/tests/,486,Now we want to test that resolving is isolated. Send another update through,
sentry/tests/,487,for the first subscription.,
sentry/tests/,510,"This second update for the second subscription should resolve its incident,",
sentry/tests/,511,but not the incident from the first subscription.,
sentry/tests/,522,This second update for the first subscription should resolve its incident now.,
sentry/tests/,554,"This should cause both to increment, although only `trigger` should fire.",
sentry/tests/,565,Now only `other_trigger` should increment and fire.,
sentry/tests/,576,Now send through two updates where we're below threshold for `other_trigger`.,
sentry/tests/,577,"The trigger should end up resolved, but the incident should still be active",
sentry/tests/,598,Now we push the other trigger below the resolve threshold twice. This should,
sentry/tests/,599,close the incident.,
sentry/tests/,621,Check that both triggers fire if an update comes through that exceeds both of,
sentry/tests/,622,their thresholds,
sentry/tests/,653,Check that both triggers fire if an update comes through that exceeds both of,
sentry/tests/,654,their thresholds,
sentry/tests/,82,Only call after calling self.alert_rule to create it.,
sentry/tests/,145,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,165,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,175,Alert rule should be exactly the same,
sentry/tests/,177,"If the aggregation changed we'd have a new subscription, validate that",
sentry/tests/,178,it hasn't changed explicitly,
sentry/tests/,190,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,211,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,226,This is a test to make sure we can remove a resolveThreshold after it has been set.,
sentry/tests/,233,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,248,This is a test to make sure we can remove a resolveThreshold after it has been set.,
sentry/tests/,255,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,275,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,294,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,306,"Delete the last one, make sure API errors since we have to have an action.",
sentry/tests/,321,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,324,Then we send it back with one of the actions changed:,
sentry/tests/,333,And it comes back successfully changed:,
sentry/tests/,339,"And make sure we still only have two triggers, the first with 1 action and the second with 2 actions",
sentry/tests/,340,"This is ensures they were updated and not new ones created, etc.",
sentry/tests/,351,"We need the IDs to force update instead of create, so we just get the rule using our own API. Like frontend would.",
sentry/tests/,354,Invalid,
sentry/tests/,359,"Back to normal, valid.",
sentry/tests/,363,"Invalid, less than warning resolve threshold.",
sentry/tests/,368,"Back to normal, valid.",
sentry/tests/,372,"Invalid, different than other trigger.",
sentry/tests/,377,"Back to normal, valid.",
sentry/tests/,402,We attach the rule to an incident so the rule is snapshotted instead of deleted.,
sentry/tests/,414,We also confirm that the incident is automatically resolved.,
sentry/tests/,180,"Test limit above result count (which is 4), no cursor.",
sentry/tests/,198,"Test Limit as 1, no cursor:",
sentry/tests/,215,"Test Limit as 1, next page of previous request:",
sentry/tests/,230,"Test Limit as 2, no cursor:",
sentry/tests/,248,"Test Limit 2, next page of previous request:",
sentry/tests/,266,"Test Limit 2, next page of previous request - should get no results since there are only 4 total:",
sentry/tests/,305,Assert offset is properly calculated.,
sentry/tests/,107,Make sure AlertRuleEnvironment entry was made:,
sentry/tests/,131,Make sure env_1 AlertRuleEnvironment was deleted:,
sentry/tests/,139,And that env_2 is still present:,
sentry/tests/,202,Now do a two trigger test:,
sentry/tests/,221,We had an error where an invalid slack channel was spitting out unclear,
sentry/tests/,222,"error for the user, and CREATING THE RULE. So the next save (after fixing slack action)",
sentry/tests/,223,"says ""Name already in use"". This test makes sure that is not happening anymore.",
sentry/tests/,224,"We save a rule with an invalid slack, make sure we get back a useful error",
sentry/tests/,225,and that the rule is not created.,
sentry/tests/,251,Make sure the rule was not created.,
sentry/tests/,254,Make sure the action was not created.,
sentry/tests/,12,"from sentry.incidents.endpoints.serializers import CRITICAL_TRIGGER_LABEL, WARNING_TRIGGER_LABEL",
sentry/tests/,150,Alert rule should be exactly the same,
sentry/tests/,152,"If the aggregation changed we'd have a new subscription, validate that",
sentry/tests/,153,it hasn't changed explicitly,
sentry/tests/,182,We attach the rule to an incident so the rule is snapshotted instead of deleted.,
sentry/tests/,196,We also confirm that the incident is automatically resolved.,
sentry/tests/,98,"We measure the number of queries after an initial post,",
sentry/tests/,99,because there are many queries polluting the array,
sentry/tests/,100,"before the actual ""processing"" happens (like, auth_user)",
sentry/tests/,191,0   libswiftCore.dylib              0x0000000100556cc4 0x1003f8000 + 1436868,
sentry/tests/,192,1   libswiftCore.dylib              0x0000000100556cc4 0x1003f8000 + 1436868,
sentry/tests/,193,2   SentrySwift                     0x0000000100312308 @objc SentryClient.crash() -> () (Sentry.swift:0),
sentry/tests/,194,3   SwiftExample                    0x00000001000f6c78 ViewController.onClickFatalError(AnyObject) -> () (ViewController.swift:110),
sentry/tests/,195,4   SwiftExample                    0x00000001000f6cd4 @objc ViewController.onClickFatalError(AnyObject) -> () (ViewController.swift:0),
sentry/tests/,196,5   UIKit                           0x000000018755fd30 -[UIApplication sendAction:to:from:forEvent:] + 96,
sentry/tests/,197,"6   SentrySwift                     0x000000010031c3e8 UIApplication.sentryClient_sendAction(Selector, to : AnyObject?, from : AnyObject?, for : UIEvent?) -> Bool (SentrySwizzle.swift:92)",
sentry/tests/,198,7   SentrySwift                     0x000000010031caa4 @objc,
sentry/tests/,199,"UIApplication.sentryClient_sendAction(Selector, to : AnyObject?, from :",
sentry/tests/,200,"AnyObject?, for : UIEvent?) -> Bool (SentrySwizzle.swift:0)",
sentry/tests/,202,0   libswiftCore.dylib              0x0000000100556cc4 0x1003f8000 + 1436868,
sentry/tests/,203,1   libswiftCore.dylib              0x0000000100556cc4 0x1003f8000 + 1436868,
sentry/tests/,204,2   SentrySwift                     0x0000000100312308 0x1002c8000 + 303880,
sentry/tests/,205,3   SwiftExample                    0x00000001000f6c78 0x1000f0000 + 27768,
sentry/tests/,206,4   SwiftExample                    0x00000001000f6cd4 0x1000f0000 + 27860,
sentry/tests/,207,5   UIKit                           0x000000018755fd30 0x18751b000 + 281904,
sentry/tests/,208,6   SentrySwift                     0x000000010031c3e8 0x1002c8000 + 345064,
sentry/tests/,209,7   SentrySwift                     0x000000010031caa4 0x1002c8000 + 346788,
sentry/tests/,320,TODO(hazat): the address here in a real crash is 0x0000000100556cc4 but we just get 0x556cc4,
sentry/tests/,41,"XXX: The order matters here! Project is always first, then builtin sources",
sentry/tests/,46,Test that a builtin source that is not declared in SENTRY_BUILTIN_SOURCES does,
sentry/tests/,47,not lead to an error. It should simply be ignored.,
sentry/tests/,61,Test that previously saved builtin sources are not returned if the feature for,
sentry/tests/,62,builtin sources is missing at query time.,
sentry/tests/,80,Remove builtin sources explicitly to avoid defaults,
sentry/tests/,87,"XXX: The order matters here! Project is always first, then custom sources",
sentry/tests/,92,Test that previously saved custom sources are not returned if the feature for,
sentry/tests/,93,custom sources is missing at query time.,
sentry/tests/,79,See:,
sentry/tests/,80,https://github.com/getsentry/sentrypad/blob/e1d4feb65c3e9db829cc4ca9d4003ff3c818d95a/src/sentry.cpp#L337-L366,
sentry/tests/,108,File with 2 items to extend cap,
sentry/tests/,126,Crumbs are capped by the largest file,
sentry/tests/,1,coding: utf-8,
sentry/tests/,17,TODO(joshuarli): six 1.12.0 adds ensure_binary,
sentry/tests/,18,might also want to put this in utils since we pretty much expect the result to be py3 str and not bytes,
sentry/tests/,62,"We measure the number of queries after an initial post,",
sentry/tests/,63,because there are many queries polluting the array,
sentry/tests/,64,"before the actual ""processing"" happens (like, auth_user)",
sentry/tests/,73,debug=True is for coverage,
sentry/tests/,195,no source map means no raw_stacktrace,
sentry/tests/,330,NOTE: Intentionally source is not retrieved from this HTML file,
sentry/tests/,372,"Since we couldn't expand source for the 2nd frame, both",
sentry/tests/,373,its raw and original form should be identical,
sentry/tests/,408,NOTE: Intentionally source is not retrieved from this HTML file,
sentry/tests/,612,file.min.js,
sentry/tests/,613,------------,
sentry/tests/,620,Intentionally omit hostname - use alternate artifact path lookup instead,
sentry/tests/,621,/file1.js vs http://example.com/file1.js,
sentry/tests/,629,file1.js,
sentry/tests/,630,---------,
sentry/tests/,644,file2.js,
sentry/tests/,645,----------,
sentry/tests/,658,"To verify that the full url has priority over the relative url,",
sentry/tests/,659,we will also add a second ReleaseFile alias for file2.js (f3) w/o,
sentry/tests/,660,hostname that points to an empty file. If the processor chooses,
sentry/tests/,661,"this empty file over the correct file2.js, it will not locate",
sentry/tests/,662,context for the 2nd frame.,
sentry/tests/,668,"intentionally using f2.name (""file2.js"")",
sentry/tests/,674,sourcemap,
sentry/tests/,675,----------,
sentry/tests/,750,file.min.js,
sentry/tests/,751,------------,
sentry/tests/,758,Intentionally omit hostname - use alternate artifact path lookup instead,
sentry/tests/,759,/file1.js vs http://example.com/file1.js,
sentry/tests/,768,file1.js,
sentry/tests/,769,---------,
sentry/tests/,784,file2.js,
sentry/tests/,785,----------,
sentry/tests/,799,"To verify that the full url has priority over the relative url,",
sentry/tests/,800,we will also add a second ReleaseFile alias for file2.js (f3) w/o,
sentry/tests/,801,hostname that points to an empty file. If the processor chooses,
sentry/tests/,802,"this empty file over the correct file2.js, it will not locate",
sentry/tests/,803,context for the 2nd frame.,
sentry/tests/,809,"intentionally using f2.name (""file2.js"")",
sentry/tests/,816,sourcemap,
sentry/tests/,817,----------,
sentry/tests/,916,Add two frames.  We only want to see the,
sentry/tests/,917,error once though.,
sentry/tests/,949,no context information ...,
sentry/tests/,954,"... but line, column numbers are still correctly mapped",
sentry/tests/,1336,"This one should not process, so this one should be none.",
sentry/tests/,1339,None of the in app should update,
sentry/tests/,47,defaults,
sentry/tests/,50,disabled for project,
sentry/tests/,55,disabled for org,
sentry/tests/,92,looking again should hit the cache - make sure it's come through the,
sentry/tests/,93,caching/uncaching process unscathed,
sentry/tests/,139,test that cache pays attention to dist value as well as name,
sentry/tests/,142,"result is cached, but that's not what we should find",
sentry/tests/,181,Set the threshold to zero to force caching on the file system,
sentry/tests/,212,"test with cache hit, coming from the FS",
sentry/tests/,233,ensure we use the cached result,
sentry/tests/,281,ensure we use the cached domain-wide failure for the second call,
sentry/tests/,327,ensure we use the cached result,
sentry/tests/,397,discover_sourcemap(result),
sentry/tests/,457,sourceMappingURL found directly after code w/o newline,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,72,Start of minified file (exact match first line/col tuple),
sentry/tests/,78,Last character in mapping,
sentry/tests/,84,First character in mapping (exact match line/col tuple),
sentry/tests/,90,End of minified file (character *beyond* last line/col tuple),
sentry/tests/,105,"basic sourcemap fixture has no inlined sources, so expect None",
sentry/tests/,446,Tests lookups that fall exactly on source map token boundaries,
sentry/tests/,447,https://github.com/mozilla/source-map/blob/master/test/test-source-map-consumer.js#138,
sentry/tests/,451,one.js,
sentry/tests/,480,two.js,
sentry/tests/,509,Tests lookups that fall inside source map token boundaries,
sentry/tests/,510,https://github.com/mozilla/source-map/blob/master/test/test-source-map-consumer.js#181,
sentry/tests/,514,one.js,
sentry/tests/,30,fall back to utf-8,
sentry/tests/,38,fall back to utf-8,
sentry/tests/,1,coding: utf-8,
sentry/tests/,1,-*- coding: utf-8 -*-,
sentry/tests/,11,"XXX(dcramer): this doesn't actually work as we'd expect, as if the task is imported",
sentry/tests/,12,anywhere else before this code is run it will still show up as registered,
sentry/tests/,118,"The QuerySet will automatically NOT include deleted installs, so we",
sentry/tests/,119,use a raw sql query to ensure it still exists.,
sentry/tests/,23,will create the installation and the first token,
sentry/tests/,40,verify token was created properly,
sentry/tests/,45,check we have two tokens,
sentry/tests/,73,verify token was created properly,
sentry/tests/,76,check we have two tokens,
sentry/tests/,112,verify token was created properly,
sentry/tests/,82,missing 'identifier',
sentry/tests/,63,missing 'label',
sentry/tests/,46,create both expired token and not expired tokens,
sentry/tests/,85,pass in scopes but as the same value,
sentry/tests/,73,"The QuerySet will automatically NOT include deleted installs, so we",
sentry/tests/,74,use a raw sql query to ensure it still exists.,
sentry/tests/,28,test slug is the name + a UUID,
sentry/tests/relay_integration/test_sdk.py,49,If this test terminates at all then we avoided recursion.,
sentry/tests/relay_integration/test_message_filters.py,18,NOQA,
sentry/tests/relay_integration/test_message_filters.py,30,baseline test (so we know everything works as expected),
sentry/tests/relay_integration/tests.py,31,used to be test_ungzipped_data,
sentry/examples/oauth2_consumer_webserver/app.py,56,Unauthorized - bad token,
sentry/api-docs/,1,flake8: noqa,
sentry/api-docs/,13,Unsupported here,
sentry/api-docs/,71,Enable feature flags so sample responses generate.,
sentry/api-docs/generator.py,18,No sentry or django imports before this point,
sentry/api-docs/generator.py,24,Fair game from here,
sentry/api-docs/generator.py,35,"We don't care about you, go away",
