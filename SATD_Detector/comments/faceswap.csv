file path,line #,comment,satd
faceswap/,1,!/usr/bin/env python3,
faceswap/update_deps.py,1,!/usr/bin/env python3,
faceswap/update_deps.py,23,pylint:disable=global-statement,
faceswap/tools.py,1,!/usr/bin/env python3,
faceswap/tools.py,8,Importing the various tools,
faceswap/tools.py,11,Python version check,
faceswap/tools.py,18,pylint:disable=unused-argument,
faceswap/setup.py,1,!/usr/bin/env python3,
faceswap/setup.py,4,>>> ENV,
faceswap/setup.py,16,Revisions of tensorflow-gpu and cuda/cudnn requirements,
faceswap/setup.py,18,TF 2.0 Not currently supported,
faceswap/setup.py,19,Mapping of Python packages to their conda names if different from pypi or in non-default channel,
faceswap/setup.py,21,"""opencv-python"": (""opencv"", ""conda-forge""),  # Periodic issues with conda-forge opencv",
faceswap/setup.py,36,Flag that setup is being run by installer so steps can be skipped,
faceswap/setup.py,172,noqa pylint:disable=unused-import,
faceswap/setup.py,180,"Don't do this with Conda, as we must use conda's pip",
faceswap/setup.py,332,pylint:disable=global-statement,
faceswap/setup.py,347,Checks not required for installer,
faceswap/setup.py,353,Ask AMD/Docker/Cuda,
faceswap/setup.py,365,Check for CUDA and cuDNN,
faceswap/setup.py,444,Failed to load nvcc,
faceswap/setup.py,549,TODO A more reliable way of getting the windows location,
faceswap/setup.py,592,Get Conda alias for Key,
faceswap/setup.py,633,Install conda packages first,
faceswap/setup.py,688,hide info/warning and fix cache hang,
faceswap/setup.py,692,install as user to solve perm restriction,
faceswap/lib/queue_manager.py,1,!/usr/bin/env python3,
faceswap/lib/queue_manager.py,10,pylint: disable=unused-import; # noqa,
faceswap/lib/queue_manager.py,13,pylint: disable=invalid-name,
faceswap/lib/queue_manager.py,102,pylint: disable=invalid-name,
faceswap/lib/vgg_face2_keras.py,1,!/usr/bin python3,
faceswap/lib/vgg_face2_keras.py,14,pylint: disable=invalid-name,
faceswap/lib/vgg_face2_keras.py,48,Average image provided in https://github.com/ox-vgg/vgg_face2,
faceswap/lib/vgg_face2_keras.py,54,<<< GET MODEL >>>,
faceswap/lib/vgg_face2_keras.py,213,bytes size of a numpy float,
faceswap/lib/vgg_face2_keras.py,214,bytes to MB,
faceswap/lib/image.py,1,!/usr/bin python3,
faceswap/lib/image.py,24,pylint:disable=invalid-name,
faceswap/lib/image.py,26,###################,
faceswap/lib/image.py,27,<<< IMAGE UTILS >>>,
faceswap/lib/image.py,28,###################,
faceswap/lib/image.py,31,<<< IMAGE IO >>>,
faceswap/lib/image.py,100,"Floating points make TQDM display poorly, so only update on full",
faceswap/lib/image.py,101,second increments,
faceswap/lib/image.py,134,pylint: disable-all,
faceswap/lib/image.py,142,Create input args,
faceswap/lib/image.py,145,noqa,
faceswap/lib/image.py,150,re-initialize  / seek,
faceswap/lib/image.py,151,"Note: only works if we initialized earlier, and now have meta. Some info here:",
faceswap/lib/image.py,152,https://trac.ffmpeg.org/wiki/Seeking,
faceswap/lib/image.py,153,"There are two ways to seek, one before -i (input_params) and after (output_params).",
faceswap/lib/image.py,154,"The former is fast, because it uses keyframes, the latter is slow but accurate.",
faceswap/lib/image.py,155,"According to the article above, the fast method should also be accurate from ffmpeg",
faceswap/lib/image.py,156,"version 2.1, however in version 4.1 our tests start failing again. Not sure why, but",
faceswap/lib/image.py,157,we can solve this by combining slow and fast.,
faceswap/lib/image.py,158,Further note: The old method would go back 10 seconds and then seek slow. This was,
faceswap/lib/image.py,159,still somewhat unresponsive and did not always land on the correct frame. This monkey,
faceswap/lib/image.py,160,patched version goes to the previous keyframe then discards frames until the correct,
faceswap/lib/image.py,161,frame is landed on.,
faceswap/lib/image.py,174,"We used to have this epsilon earlier, when we did not use",
faceswap/lib/image.py,175,the slow seek. I don't think we need it anymore.,
faceswap/lib/image.py,176,"epsilon = -1 / self._meta[""fps""] * 0.1",
faceswap/lib/image.py,181,"Output args, for writing to pipe",
faceswap/lib/image.py,189,Get pixelformat and bytes per pixel,
faceswap/lib/image.py,193,Create generator,
faceswap/lib/image.py,199,Read meta data. This start the generator (and ffmpeg subprocess),
faceswap/lib/image.py,201,"With cameras, catch error and turn into IndexError",
faceswap/lib/image.py,224,Skip frames that are not the desired frame,
faceswap/lib/image.py,227,we already have meta data,
faceswap/lib/image.py,285,pylint:disable=broad-except,
faceswap/lib/image.py,327,There is no guarantee that the same filename will not be passed through multiple times,
faceswap/lib/image.py,328,"(and when shuffle is true this can definitely happen), so we can't just call",
faceswap/lib/image.py,329,filenames.index().,
faceswap/lib/image.py,473,###################,
faceswap/lib/image.py,474,<<< VIDEO UTILS >>>,
faceswap/lib/image.py,475,###################,
faceswap/lib/image.py,825,All black frames will return not numpy.any() so check dims too,
faceswap/lib/image.py,850,Convert to BGR for cv2 compatibility,
faceswap/lib/image.py,1139,pylint: disable=broad-except,
faceswap/lib/multithreading.py,1,!/usr/bin/env python3,
faceswap/lib/multithreading.py,11,pylint: disable=invalid-name,
faceswap/lib/multithreading.py,21,pylint: disable=too-many-arguments,
faceswap/lib/multithreading.py,38,pylint: disable=broad-except,
faceswap/lib/multithreading.py,42,Avoid a refcycle if the thread is running a function with,
faceswap/lib/multithreading.py,43,an argument that has a member that points to the thread.,
faceswap/lib/multithreading.py,116,pylint: disable=protected-access,
faceswap/lib/multithreading.py,120,pylint: disable=protected-access,
faceswap/lib/multithreading.py,128,See below why prefetch count is flawed,
faceswap/lib/multithreading.py,131,pylint:disable=too-many-arguments,
faceswap/lib/umeyama.py,1,!/usr/bin/env python3,
faceswap/lib/umeyama.py,80,Compute mean of src and dst.,
faceswap/lib/umeyama.py,84,Subtract mean from src and dst.,
faceswap/lib/umeyama.py,88,Eq. (38).,
faceswap/lib/umeyama.py,91,Eq. (39).,
faceswap/lib/umeyama.py,100,Eq. (40) and (43).,
faceswap/lib/umeyama.py,116,Eq. (41) and (42).,
faceswap/lib/logger.py,1,!/usr/bin/python,
faceswap/lib/logger.py,46,strip newlines,
faceswap/lib/logger.py,54,Cache the traceback text to avoid converting it multiple times,
faceswap/lib/logger.py,55,(it's constant anyway),
faceswap/lib/logger.py,123,"Windows has issues sharing the log file with subprocesses, so log GUI separately",
faceswap/lib/logger.py,137,Don't set stdout to lower than verbose,
faceswap/lib/logger.py,143,"tqdm.write inserts extra lines in the GUI, so use standard output as",
faceswap/lib/logger.py,144,it is not needed there.,
faceswap/lib/logger.py,185,pylint: disable=invalid-name,
faceswap/lib/logger.py,197,Set logger class to custom logger,
faceswap/lib/logger.py,200,Stores the last 100 debug messages,
faceswap/lib/logger.py,201,pylint: disable=invalid-name,
faceswap/lib/keypress.py,1,!/usr/bin/env python3,
faceswap/lib/keypress.py,21,Windows,
faceswap/lib/keypress.py,23,pylint: disable=import-error,
faceswap/lib/keypress.py,25,"Posix (Linux, OS X)",
faceswap/lib/keypress.py,40,Save the terminal settings,
faceswap/lib/keypress.py,45,New terminal setting unbuffered,
faceswap/lib/keypress.py,49,Support normal-terminal reset at exit,
faceswap/lib/keypress.py,79,skip 0xE0,
faceswap/lib/aligner.py,1,!/usr/bin/env python3,
faceswap/lib/aligner.py,11,pylint: disable=invalid-name,
faceswap/lib/aligner.py,84,TODO remove excessive reshapes and flattens,
faceswap/lib/serializer.py,1,!/usr/bin/env python3,
faceswap/lib/serializer.py,23,pylint: disable=invalid-name,
faceswap/lib/serializer.py,263,pylint: disable=protected-access,
faceswap/lib/serializer.py,269,pylint: disable=protected-access,
faceswap/lib/convert.py,1,!/usr/bin/env python3,
faceswap/lib/convert.py,11,pylint: disable=invalid-name,
faceswap/lib/convert.py,146,Signal EOF to other processes in pool,
faceswap/lib/convert.py,157,pylint: disable=broad-except,
faceswap/lib/convert.py,158,Log error and output original frame,
faceswap/lib/convert.py,162,UNCOMMENT THIS CODE BLOCK TO PRINT TRACEBACK ERRORS,
faceswap/lib/convert.py,163,import sys ; import traceback,
faceswap/lib/convert.py,164,exc_info = sys.exc_info() ; traceback.print_exception(*exc_info),
faceswap/lib/convert.py,236,Warp face with the mask,
faceswap/lib/convert.py,338,pylint:disable=unbalanced-tuple-unpacking,
faceswap/lib/vgg_face.py,1,!/usr/bin python3,
faceswap/lib/vgg_face.py,19,pylint: disable=invalid-name,
faceswap/lib/vgg_face.py,31,Average image provided in http://www.robots.ox.ac.uk/~vgg/software/vgg_face/,
faceswap/lib/vgg_face.py,37,<<< GET MODEL >>>,
faceswap/lib/utils.py,1,!/usr/bin python3,
faceswap/lib/utils.py,19,Global variables,
faceswap/lib/utils.py,20,pylint:disable=invalid-name,
faceswap/lib/utils.py,22,pylint:disable=invalid-name,
faceswap/lib/utils.py,44,Intercept for sphinx docs build,
faceswap/lib/utils.py,92,pylint:disable=invalid-name,
faceswap/lib/utils.py,105,pylint:disable=invalid-name,
faceswap/lib/utils.py,130,pylint:disable=invalid-name,
faceswap/lib/utils.py,145,pylint:disable=invalid-name,
faceswap/lib/utils.py,149,sentinel for absolute paths,
faceswap/lib/utils.py,152,sentinel for relative paths,
faceswap/lib/utils.py,164,pylint:disable=invalid-name,
faceswap/lib/utils.py,197,pylint:disable=invalid-name,
faceswap/lib/utils.py,210,pylint:disable=invalid-name,
faceswap/lib/utils.py,229,pylint:disable=invalid-name,
faceswap/lib/utils.py,239,pylint:disable=unnecessary-pass,
faceswap/lib/utils.py,266,pylint:disable=invalid-name,
faceswap/lib/utils.py,273,Chunk size for downloading and unzipping,
faceswap/lib/utils.py,424,pylint:disable=broad-except,
faceswap/lib/config.py,1,!/usr/bin/env python3,
faceswap/lib/config.py,13,pylint: disable=invalid-name,
faceswap/lib/config.py,75,Skip comments,
faceswap/lib/cli.py,1,!/usr/bin/env python3,
faceswap/lib/cli.py,4,pylint: disable=too-many-lines,
faceswap/lib/cli.py,20,pylint: disable=invalid-name,
faceswap/lib/cli.py,50,Ensure tensorflow doesn't pin all threads to one core when using Math Kernel Library,
faceswap/lib/cli.py,52,pylint:disable=import-outside-toplevel,
faceswap/lib/cli.py,58,pylint:disable=no-member,
faceswap/lib/cli.py,87,pylint: disable=unused-variable,
faceswap/lib/cli.py,88,"noqa pylint: disable=unused-import,import-outside-toplevel",
faceswap/lib/cli.py,136,pylint: disable=try-except-raise,
faceswap/lib/cli.py,140,pylint: disable=broad-except,
faceswap/lib/cli.py,156,"noqa pylint:disable=unused-import,import-outside-toplevel",
faceswap/lib/cli.py,160,pylint:disable=import-outside-toplevel,
faceswap/lib/cli.py,166,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,180,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,205,Tuple containing min and max values of scale,
faceswap/lib/cli.py,206,Decimal places to round floats to or step interval for ints,
faceswap/lib/cli.py,213,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,225,"pylint: disable=too-few-public-methods,unnecessary-pass",
faceswap/lib/cli.py,235,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,254,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,258,pylint: disable=unnecessary-pass,
faceswap/lib/cli.py,261,pylint: disable=too-few-public-methods,
faceswap/lib/cli.py,265,pylint: disable=unnecessary-pass,
faceswap/lib/cli.py,274,"pylint: disable=too-few-public-methods,unnecessary-pass",
faceswap/lib/cli.py,288,"pylint: disable=too-few-public-methods, too-many-arguments",
faceswap/lib/cli.py,428,"This is a hidden argument to indicate that the GUI is being used,",
faceswap/lib/cli.py,429,so the preview window should be redirected Accordingly,
faceswap/lib/sysinfo.py,1,!/usr/bin python3,
faceswap/lib/sysinfo.py,19,"pylint: disable=too-many-instance-attributes,too-many-public-methods",
faceswap/lib/sysinfo.py,174,Failed to load nvcc,
faceswap/lib/sysinfo.py,247,TODO A more reliable way of getting the windows location,
faceswap/lib/sysinfo.py,370,pylint: disable=broad-except,
faceswap/lib/sysinfo.py,468,pylint: disable=invalid-name,
faceswap/lib/alignments.py,1,!/usr/bin/env python3,
faceswap/lib/alignments.py,14,pylint: disable=invalid-name,
faceswap/lib/alignments.py,46,<< PROPERTIES >>,
faceswap/lib/alignments.py,129,<< INIT FUNCTIONS >>,
faceswap/lib/alignments.py,152,Reformat legacy alignments file,
faceswap/lib/alignments.py,163,Test for old format alignments files and reformat if they exist. This will be,
faceswap/lib/alignments.py,164,executed if an alignments file has not been explicitly provided therefore it will not,
faceswap/lib/alignments.py,165,have been picked up in the extension test,
faceswap/lib/alignments.py,170,<< I/O >>,
faceswap/lib/alignments.py,245,<< VALIDATION >>,
faceswap/lib/alignments.py,331,<< DATA >>,
faceswap/lib/alignments.py,368,<< MANIPULATION >>,
faceswap/lib/alignments.py,462,<< GENERATORS >>,
faceswap/lib/alignments.py,491,<< LEGACY FUNCTIONS >>,
faceswap/lib/alignments.py,511,<File Format>,
faceswap/lib/alignments.py,512,Serializer is now a compressed pickle custom format. This used to be any number,
faceswap/lib/alignments.py,513,of serializers,
faceswap/lib/alignments.py,564,<Structure>,
faceswap/lib/alignments.py,565,Alignments were structured: {frame_name: <list of faces>}. We need to be able to store,
faceswap/lib/alignments.py,566,"information at the frame level, so new structure is:  {frame_name: {faces: <list of faces>}}",
faceswap/lib/alignments.py,587,<landmarks>,
faceswap/lib/alignments.py,588,Landmarks renamed from landmarksXY to landmarks_xy for PEP compliance,
faceswap/lib/alignments.py,614,Landmarks stored as list instead of numpy array,
faceswap/lib/plaidml_tools.py,1,!/usr/bin python3,
faceswap/lib/plaidml_tools.py,22,"Logger is held internally, as we don't want to log",
faceswap/lib/plaidml_tools.py,23,when obtaining system stats on crash,
faceswap/lib/plaidml_tools.py,24,pylint:disable=global-statement,
faceswap/lib/plaidml_tools.py,25,pylint:disable=invalid-name,
faceswap/lib/plaidml_tools.py,37,PROPERTIES,
faceswap/lib/plaidml_tools.py,97,INITIALIZATION,
faceswap/lib/plaidml_tools.py,100,pylint:disable=global-statement,
faceswap/lib/plaidml_tools.py,133,DEBUG Logging,
faceswap/lib/plaidml_tools.py,134,pylint:disable=protected-access,
faceswap/lib/plaidml_tools.py,136,INFO Logging,
faceswap/lib/plaidml_tools.py,137,pylint:disable=protected-access,
faceswap/lib/plaidml_tools.py,139,WARNING Logging,
faceswap/lib/plaidml_tools.py,173,pylint:disable=no-member,
faceswap/lib/plaidml_tools.py,210,pylint:disable=invalid-name,
faceswap/lib/plaidml_utils.py,10,TODO: use / impl other padding method when required,
faceswap/lib/plaidml_utils.py,11,CONSTANT -> SpatialPadding ? | Doesn't support first and last axis +,
faceswap/lib/plaidml_utils.py,12,no support for constant_value,
faceswap/lib/plaidml_utils.py,13,SYMMETRIC -> Requires impl ?,
faceswap/lib/training_data.py,1,!/usr/bin/env python3,
faceswap/lib/training_data.py,16,pylint: disable=invalid-name,
faceswap/lib/training_data.py,83,Batchsize and processing class are set when this class is called by a batcher,
faceswap/lib/training_data.py,84,from lib.training_data,
faceswap/lib/training_data.py,157,<< INTERNAL METHODS >>,
faceswap/lib/training_data.py,201,Initialize processing training size on first image,
faceswap/lib/training_data.py,205,Get Landmarks prior to manipulating the image,
faceswap/lib/training_data.py,214,Color Augmentation of the image only,
faceswap/lib/training_data.py,218,Random Transform and flip,
faceswap/lib/training_data.py,223,Add samples to output if this is for display,
faceswap/lib/training_data.py,227,Get Targets,
faceswap/lib/training_data.py,230,Random Warp # TODO change masks to have a input mask and a warped target mask,
faceswap/lib/training_data.py,283,Raise error on missing alignments,
faceswap/lib/training_data.py,373,Set on first image load from initialize,
faceswap/lib/training_data.py,379,Transform and Warp args,
faceswap/lib/training_data.py,383,Warp args,
faceswap/lib/training_data.py,385,Normal random variable scale,
faceswap/lib/training_data.py,410,Color Aug,
faceswap/lib/training_data.py,412,Target Images,
faceswap/lib/training_data.py,416,Random Warp,
faceswap/lib/training_data.py,425,Random Warp Landmarks,
faceswap/lib/training_data.py,445,<<< TARGET IMAGES >>>,
faceswap/lib/training_data.py,502,<<< COLOR AUGMENTATION >>>,
faceswap/lib/training_data.py,543,pylint: disable=no-member,
faceswap/lib/training_data.py,570,<<< IMAGE AUGMENTATION >>>,
faceswap/lib/face_filter.py,1,!/usr/bin python3,
faceswap/lib/face_filter.py,10,pylint: disable=invalid-name,
faceswap/lib/face_filter.py,30,TODO Revert face-filter to use the selected detector and aligner.,
faceswap/lib/face_filter.py,31,Currently Tensorflow does not release vram after it has been allocated,
faceswap/lib/face_filter.py,32,"Whilst this vram can still be used, the pipeline for the extraction process can't see",
faceswap/lib/face_filter.py,33,it so thinks there is not enough vram available.,
faceswap/lib/face_filter.py,34,Either the pipeline will need to be changed to be re-usable by face-filter and extraction,
faceswap/lib/face_filter.py,35,Or another vram measurement technique will need to be implemented to for when TF has,
faceswap/lib/face_filter.py,36,already performed allocation. For now we force CPU detectors.,
faceswap/lib/face_filter.py,38,"self.align_faces(detector, aligner, multiprocess)",
faceswap/lib/face_filter.py,58,Extraction pipeline,
faceswap/lib/face_filter.py,128,Filter,
faceswap/lib/face_filter.py,132,nFilter no Filter,
faceswap/lib/face_filter.py,137,Filter with nFilter,
faceswap/lib/face_filter.py,147,k-nn classifier,
faceswap/lib/faces_detect.py,1,!/usr/bin python3,
faceswap/lib/faces_detect.py,12,pylint: disable=invalid-name,
faceswap/lib/faces_detect.py,83,pylint:disable=invalid-name,
faceswap/lib/faces_detect.py,84,pylint:disable=invalid-name,
faceswap/lib/faces_detect.py,85,pylint:disable=invalid-name,
faceswap/lib/faces_detect.py,86,pylint:disable=invalid-name,
faceswap/lib/faces_detect.py,198,Manual tool does not know the final hash so default to None,
faceswap/lib/faces_detect.py,200,Manual tool and legacy alignments will not have a mask,
faceswap/lib/faces_detect.py,218,<<< Aligned Face methods and properties >>>,
faceswap/lib/faces_detect.py,250,Don't reload an already aligned face,
faceswap/lib/faces_detect.py,799,pylint: disable = no-member,
faceswap/lib/faces_detect.py,800,pylint: disable = no-member,
faceswap/lib/gpu_stats.py,1,!/usr/bin python3,
faceswap/lib/gpu_stats.py,13,pylint: disable=import-error,
faceswap/lib/gpu_stats.py,19,Limited PlaidML/AMD Stats,
faceswap/lib/gpu_stats.py,21,pylint:disable=ungrouped-imports,
faceswap/lib/gpu_stats.py,31,"Logger is held internally, as we don't want to log",
faceswap/lib/gpu_stats.py,32,when obtaining system stats on crash,
faceswap/lib/gpu_stats.py,33,pylint: disable=invalid-name,
faceswap/lib/gpu_stats.py,86,pylint: disable=no-member,
faceswap/lib/gpu_stats.py,87,pylint: disable=no-member,
faceswap/lib/gpu_stats.py,88,pylint: disable=no-member,
faceswap/lib/gpu_stats.py,102,pylint: disable=broad-except,
faceswap/lib/gpu_stats.py,219,NB There is no useful way to get allocated VRAM on PlaidML.,
faceswap/lib/gpu_stats.py,220,"OpenCL loads and unloads VRAM as required, so this returns 0",
faceswap/lib/gpu_stats.py,221,It's not particularly useful,
faceswap/lib/gpu_stats.py,240,NB There is no useful way to get free VRAM on PlaidML.,
faceswap/lib/gpu_stats.py,241,"OpenCL loads and unloads VRAM as required, so this returns the total memory",
faceswap/lib/gpu_stats.py,242,It's not particularly useful,
faceswap/lib/gui/menu.py,1,!/usr/bin python3,
faceswap/lib/gui/menu.py,33,pylint: disable=invalid-name,
faceswap/lib/gui/menu.py,36,pylint:disable=too-many-ancestors,
faceswap/lib/gui/menu.py,53,pylint:disable=too-many-ancestors,
faceswap/lib/gui/menu.py,65,pylint:disable=global-statement,
faceswap/lib/gui/menu.py,87,Load config to generate default if doesn't exist,
faceswap/lib/gui/menu.py,96,pylint: disable=cell-var-from-loop,
faceswap/lib/gui/menu.py,114,pylint:disable=too-many-ancestors,
faceswap/lib/gui/menu.py,191,Legacy project files didn't have a command stored,
faceswap/lib/gui/menu.py,230,pylint:disable=too-many-ancestors,
faceswap/lib/gui/menu.py,363,pylint: disable=cell-var-from-loop,
faceswap/lib/gui/menu.py,391,pylint:disable=broad-except,
faceswap/lib/gui/menu.py,424,Do the check,
faceswap/lib/gui/menu.py,479,pylint: disable=too-many-ancestors,
faceswap/lib/gui/menu.py,546,pylint: disable=cell-var-from-loop,
faceswap/lib/gui/display_page.py,1,!/usr/bin python3,
faceswap/lib/gui/display_page.py,11,pylint: disable=invalid-name,
faceswap/lib/gui/display_page.py,14,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_page.py,150,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_page.py,186,INFO LABEL,
faceswap/lib/gui/display_page.py,198,DISPLAY OPTIONS BAR,
faceswap/lib/gui/options.py,1,!/usr/bin python3,
faceswap/lib/gui/options.py,16,pylint: disable=invalid-name,
faceswap/lib/gui/wrapper.py,1,!/usr/bin python3,
faceswap/lib/gui/wrapper.py,17,pylint: disable=import-error,
faceswap/lib/gui/wrapper.py,20,pylint: disable=invalid-name,
faceswap/lib/gui/wrapper.py,103,Indicate to Faceswap that we are running the GUI,
faceswap/lib/gui/wrapper.py,105,Delimit args with spaces,
faceswap/lib/gui/wrapper.py,149,Thread for LongRunningTask termination,
faceswap/lib/gui/wrapper.py,198,Don't initialize session until after the first save as state,
faceswap/lib/gui/wrapper.py,199,file must exist first,
faceswap/lib/gui/wrapper.py,268,Set initial timestamp,
faceswap/lib/gui/wrapper.py,360,Terminate the LongRunningTask object,
faceswap/lib/gui/wrapper.py,373,pylint:disable=c-extension-no-member,
faceswap/lib/gui/wrapper.py,374,pylint:disable=c-extension-no-member,
faceswap/lib/gui/wrapper.py,394,pylint:disable=c-extension-no-member,
faceswap/lib/gui/wrapper.py,395,pylint:disable=c-extension-no-member,
faceswap/lib/gui/display.py,1,!/usr/bin python3,
faceswap/lib/gui/display.py,15,pylint: disable=invalid-name,
faceswap/lib/gui/display.py,18,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display.py,45,Not yet implemented,
faceswap/lib/gui/display.py,101,returns the OptionalDisplayPage object,
faceswap/lib/gui/display.py,102,Call the OptionalDisplayPage close() method,
faceswap/lib/gui/display.py,105,pylint: disable=unused-argument,
faceswap/lib/gui/project.py,1,!/usr/bin/env python3,
faceswap/lib/gui/project.py,11,pylint: disable=invalid-name,
faceswap/lib/gui/project.py,14,pylint:disable=too-few-public-methods,
faceswap/lib/gui/project.py,26,NB file_handler has to be passed in to avoid circular imports,
faceswap/lib/gui/project.py,149,GUI STATE SETTING,
faceswap/lib/gui/project.py,233,RECENT FILE HANDLING,
faceswap/lib/gui/project.py,311,DISK IO,
faceswap/lib/gui/project.py,415,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,438,Option to load specific task from project files:,
faceswap/lib/gui/project.py,494,TODO remove this code after a period of time. Implemented November 2019,
faceswap/lib/gui/project.py,663,MODIFIED STATE CALLBACK,
faceswap/lib/gui/project.py,677,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,690,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,712,Legacy .fsw files could store projects or tasks. Check if this is a legacy file,
faceswap/lib/gui/project.py,713,and hand off file to Tasks if necessary,
faceswap/lib/gui/project.py,747,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,771,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,796,pylint:disable=unused-argument,
faceswap/lib/gui/project.py,826,pylint:disable=unused-argument,
faceswap/lib/gui/control_helper.py,1,!/usr/bin/env python3,
faceswap/lib/gui/control_helper.py,17,pylint: disable=invalid-name,
faceswap/lib/gui/control_helper.py,19,"We store Tooltips, ContextMenus and Commands globally when they are created",
faceswap/lib/gui/control_helper.py,20,Because we need to add them back to newly cloned widgets (they are not easily accessible from,
faceswap/lib/gui/control_helper.py,21,original config or are prone to getting destroyed when the original widget is destroyed),
faceswap/lib/gui/control_helper.py,114,pylint:disable=too-many-arguments,
faceswap/lib/gui/control_helper.py,306,pylint:disable=too-many-ancestors,
faceswap/lib/gui/control_helper.py,344,pylint:disable=too-many-arguments,
faceswap/lib/gui/control_helper.py,469,pylint: disable=unused-argument,
faceswap/lib/gui/control_helper.py,500,"self.columns = min(columns, self.max_columns)",
faceswap/lib/gui/control_helper.py,505,Master list of all children in order,
faceswap/lib/gui/control_helper.py,543,Only pack visible columns,
faceswap/lib/gui/control_helper.py,562,Reset counters,
faceswap/lib/gui/control_helper.py,625,"Some keys default to """" but tkinter doesn't like to set config to this value",
faceswap/lib/gui/control_helper.py,626,so skip them to use default value.,
faceswap/lib/gui/control_helper.py,630,Return correct command from master command dict,
faceswap/lib/gui/control_helper.py,669,Get the next sub-frame if this doesn't have a logged parent,
faceswap/lib/gui/control_helper.py,678,Re-initialize for new widget and bind,
faceswap/lib/gui/control_helper.py,709,pylint: disable=too-many-arguments,
faceswap/lib/gui/control_helper.py,729,"Frame, control type and variable",
faceswap/lib/gui/control_helper.py,745,Build the full control,
faceswap/lib/gui/control_helper.py,1025,pylint:disable=unused-argument,
faceswap/lib/gui/utils.py,1,!/usr/bin/env python3,
faceswap/lib/gui/utils.py,17,pylint: disable=invalid-name,
faceswap/lib/gui/utils.py,40,pylint: disable=global-statement,
faceswap/lib/gui/utils.py,66,pylint: disable=global-statement,
faceswap/lib/gui/utils.py,84,pylint:disable=too-few-public-methods,
faceswap/lib/gui/utils.py,166,Add in multi-select options,
faceswap/lib/gui/utils.py,307,pylint: disable=useless-return,
faceswap/lib/gui/utils.py,325,cache for extract and convert,
faceswap/lib/gui/utils.py,434,cache for extract and convert,
faceswap/lib/gui/utils.py,485,Filter to just the gui_preview if it exists in folder output,
faceswap/lib/gui/utils.py,495,Delete the preview image so that the main scripts know to output another,
faceswap/lib/gui/utils.py,562,Pad to square,
faceswap/lib/gui/utils.py,664,This is probably an error reading the file whilst it's,
faceswap/lib/gui/utils.py,665,being saved  so ignore it for now and only pick up if,
faceswap/lib/gui/utils.py,666,there have been multiple consecutive fails,
faceswap/lib/gui/utils.py,728,Hacky fix to force a reload if it happens to find corrupted,
faceswap/lib/gui/utils.py,729,"data, probably due to reading the image whilst it is partially",
faceswap/lib/gui/utils.py,730,"saved. If it continues to fail, then eventually raise.",
faceswap/lib/gui/utils.py,774,set in command.py,
faceswap/lib/gui/utils.py,780,Constants,
faceswap/lib/gui/utils.py,796,GUI Objects,
faceswap/lib/gui/utils.py,833,Convenience GUI Objects,
faceswap/lib/gui/utils.py,854,Config,
faceswap/lib/gui/utils.py,1118,pylint: disable=broad-except,
faceswap/lib/gui/utils.py,1124,Avoid a ref-cycle if the thread is running a function with,
faceswap/lib/gui/utils.py,1125,an argument that has a member that points to the thread.,
faceswap/lib/gui/display_analysis.py,1,!/usr/bin python3,
faceswap/lib/gui/display_analysis.py,17,pylint: disable=invalid-name,
faceswap/lib/gui/display_analysis.py,20,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_analysis.py,31,Thread for compiling stats data in background,
faceswap/lib/gui/display_analysis.py,42,pylint:disable=unused-argument,
faceswap/lib/gui/display_analysis.py,49,pylint:disable=unused-argument,
faceswap/lib/gui/display_analysis.py,84,pylint:disable=unused-argument,
faceswap/lib/gui/display_analysis.py,155,Reload the state file to get approx currently training iterations,
faceswap/lib/gui/display_analysis.py,262,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_analysis.py,269,set when loading or clearing from parent,
faceswap/lib/gui/display_analysis.py,270,Thread for loading data popup,
faceswap/lib/gui/display_analysis.py,346,Don't show graph icon for non-existent sessions,
faceswap/lib/gui/display_analysis.py,359,Catch non-existent tree view when rebuilding the GUI,
faceswap/lib/gui/display_analysis.py,401,pylint:disable=protected-access,
faceswap/lib/gui/display_analysis.py,456,Thread for loading data in a background task,
faceswap/lib/gui/display_analysis.py,609,Don't display if there's only one item,
faceswap/lib/gui/display_analysis.py,690,pylint: disable=unused-argument,
faceswap/lib/gui/display_analysis.py,704,pylint: disable=unused-argument,
faceswap/lib/gui/display_analysis.py,802,pylint:disable=len-as-condition,
faceswap/lib/gui/display_analysis.py,819,pylint:disable=unused-argument,
faceswap/lib/gui/custom_widgets.py,1,!/usr/bin/env python3,
faceswap/lib/gui/custom_widgets.py,13,pylint: disable=invalid-name,
faceswap/lib/gui/custom_widgets.py,16,pylint: disable=too-many-ancestors,
faceswap/lib/gui/custom_widgets.py,72,pylint: disable=too-many-ancestors,
faceswap/lib/gui/custom_widgets.py,88,TODO This should probably be merged with Context Menu,
faceswap/lib/gui/custom_widgets.py,118,pylint: disable=too-many-ancestors,
faceswap/lib/gui/custom_widgets.py,190,pylint: disable=unused-argument,
faceswap/lib/gui/custom_widgets.py,201,pylint: disable=too-many-ancestors,
faceswap/lib/gui/custom_widgets.py,239,Output all stderr in red,
faceswap/lib/gui/custom_widgets.py,300,widget instance,
faceswap/lib/gui/custom_widgets.py,301,widget's root,
faceswap/lib/gui/custom_widgets.py,302,pylint:disable=protected-access  # widget's (full) Tk pathname,
faceswap/lib/gui/custom_widgets.py,304,Rename the Tcl command within Tcl:,
faceswap/lib/gui/custom_widgets.py,306,"Create a new Tcl command whose name is the widget's path name, and",
faceswap/lib/gui/custom_widgets.py,307,whose action is to dispatch on the operation passed to the widget:,
faceswap/lib/gui/custom_widgets.py,313,pylint:disable=protected-access,
faceswap/lib/gui/custom_widgets.py,321,pylint:disable=protected-access,
faceswap/lib/gui/custom_widgets.py,322,Restore the original widget Tcl command.,
faceswap/lib/gui/custom_widgets.py,325,Should not be needed,
faceswap/lib/gui/custom_widgets.py,326,"if instance is deleted after close, as in Percolator.",
faceswap/lib/gui/custom_widgets.py,398,redundant with self.redir,
faceswap/lib/gui/custom_widgets.py,399,redundant with self.redir,
faceswap/lib/gui/custom_widgets.py,400,These two could be deleted after checking recipient code.,
faceswap/lib/gui/custom_widgets.py,412,pylint: disable=too-many-ancestors,
faceswap/lib/gui/custom_widgets.py,563,"in milliseconds, originally 500",
faceswap/lib/gui/custom_widgets.py,564,"in pixels, originally 180",
faceswap/lib/gui/custom_widgets.py,575,pylint:disable=unused-argument,
faceswap/lib/gui/custom_widgets.py,579,pylint:disable=unused-argument,
faceswap/lib/gui/custom_widgets.py,630,out on the top,
faceswap/lib/gui/custom_widgets.py,633,No further checks will be done.,
faceswap/lib/gui/custom_widgets.py,634,TIP:,
faceswap/lib/gui/custom_widgets.py,635,A further mod might auto-magically augment the wrap length when the tooltip is,
faceswap/lib/gui/custom_widgets.py,636,too high to be kept inside the screen.,
faceswap/lib/gui/custom_widgets.py,645,Creates a top level window,
faceswap/lib/gui/custom_widgets.py,648,For Mac OS,
faceswap/lib/gui/custom_widgets.py,650,pylint:disable=protected-access,
faceswap/lib/gui/custom_widgets.py,653,Leaves only the label and removes the app window,
faceswap/lib/gui/popup_configure.py,1,!/usr/bin python3,
faceswap/lib/gui/popup_configure.py,15,pylint: disable=invalid-name,
faceswap/lib/gui/popup_configure.py,95,Move global to first item,
faceswap/lib/gui/display_command.py,1,!/usr/bin python3,
faceswap/lib/gui/display_command.py,18,pylint: disable=invalid-name,
faceswap/lib/gui/display_command.py,21,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_command.py,70,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_command.py,127,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_command.py,150,Sometimes image is resized before frame is drawn,
faceswap/lib/gui/display_command.py,174,pylint: disable=too-many-ancestors,
faceswap/lib/gui/stats.py,1,!/usr/bin python3,
faceswap/lib/gui/stats.py,13,pylint:disable=no-name-in-module,
faceswap/lib/gui/stats.py,16,pylint: disable=invalid-name,
faceswap/lib/gui/stats.py,44,"Take the last logfile, in case of previous crash",
faceswap/lib/gui/stats.py,97,break after first file read,
faceswap/lib/gui/stats.py,112,Set and reset by wrapper for training sessions,
faceswap/lib/gui/stats.py,113,Set and reset by wrapper for training sessions,
faceswap/lib/gui/stats.py,116,Set to specific session_id or current training session,
faceswap/lib/gui/stats.py,404,Crop all losses to the same number of items,
faceswap/lib/gui/stats.py,410,Rate calulation,
faceswap/lib/gui/stats.py,514,First value in the plot (first timestep),
faceswap/lib/gui/stats.py,518,Calculate smoothed value,
faceswap/lib/gui/stats.py,519,Save it,
faceswap/lib/gui/stats.py,520,Anchor the last smoothed value,
faceswap/lib/gui/command.py,1,!/usr/bin python3,
faceswap/lib/gui/command.py,12,pylint:disable=invalid-name,
faceswap/lib/gui/command.py,15,pylint:disable=too-many-ancestors,
faceswap/lib/gui/command.py,101,pylint:disable=too-many-ancestors,
faceswap/lib/gui/command.py,108,pylint:disable=too-many-ancestors,
faceswap/lib/gui/command.py,146,pylint:disable=too-many-ancestors,
faceswap/lib/gui/display_graph.py,1,!/usr/bin python3,
faceswap/lib/gui/display_graph.py,12,pylint: disable=wrong-import-position,
faceswap/lib/gui/display_graph.py,15,noqa,
faceswap/lib/gui/display_graph.py,16,noqa,
faceswap/lib/gui/display_graph.py,18,noqa,
faceswap/lib/gui/display_graph.py,20,noqa,
faceswap/lib/gui/display_graph.py,21,noqa,
faceswap/lib/gui/display_graph.py,23,pylint: disable=invalid-name,
faceswap/lib/gui/display_graph.py,26,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_graph.py,34,pylint: disable=arguments-differ,
faceswap/lib/gui/display_graph.py,56,Make axes menu,
faceswap/lib/gui/display_graph.py,63,Add a spacer; return value is unused.,
faceswap/lib/gui/display_graph.py,77,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_graph.py,253,pylint: disable=too-many-ancestors,
faceswap/lib/gui/display_graph.py,258,Thread for LongRunningTask,
faceswap/lib/gui/display_graph.py,271,pylint: disable=unused-argument,
faceswap/lib/gui/display_graph.py,287,Terminate the LongRunningTask object,
faceswap/lib/gui/display_graph.py,309,pylint: disable=too-few-public-methods,
faceswap/lib/gui/display_graph.py,311,pylint: disable=unnecessary-pass,
faceswap/lib/gui/display_graph.py,314,pylint: disable=no-value-for-parameter,
faceswap/lib/gui/display_graph.py,317,pylint: disable=too-many-ancestors,
faceswap/lib/gui/_config.py,1,!/usr/bin/env python3,
faceswap/lib/gui/_config.py,11,pylint: disable=invalid-name,
faceswap/lib/gui/_config.py,16,pylint: disable=too-many-statements,
faceswap/lib/model/optimizers.py,1,!/usr/bin/env python3,
faceswap/lib/model/optimizers.py,3,Naming convention inherited from Keras so ignore invalid names,
faceswap/lib/model/optimizers.py,4,pylint:disable=invalid-name,
faceswap/lib/model/optimizers.py,11,pylint: disable=invalid-name,
faceswap/lib/model/optimizers.py,46,Pass off to CPU if requested,
faceswap/lib/model/optimizers.py,69,Apply constraints.,
faceswap/lib/model/session.py,1,!/usr/bin python3,
faceswap/lib/model/session.py,8,pylint:disable=no-name-in-module,
faceswap/lib/model/session.py,14,pylint:disable=invalid-name,
faceswap/lib/model/session.py,66,pylint: disable=not-context-manager,
faceswap/lib/model/session.py,89,Not much difference in BS < 4,
faceswap/lib/model/session.py,139,pylint: disable=not-context-manager,
faceswap/lib/model/session.py,159,pylint: disable=not-context-manager,
faceswap/lib/model/session.py,174,pylint: disable=not-context-manager,
faceswap/lib/model/initializers.py,1,!/usr/bin/env python3,
faceswap/lib/model/initializers.py,16,pylint: disable=invalid-name,
faceswap/lib/model/initializers.py,25,TODO Roll this into ICNR_init when porting GAN 2.2,
faceswap/lib/model/initializers.py,39,pylint: disable=invalid-name,
faceswap/lib/model/initializers.py,59,tf needs partition_info=None,
faceswap/lib/model/initializers.py,100,Convolutional Aware Initialization takes a long time.,
faceswap/lib/model/initializers.py,101,"Keras model loading loads a model, performs initialization and then",
faceswap/lib/model/initializers.py,102,"loads weights, which is an unnecessary waste of time.",
faceswap/lib/model/initializers.py,103,init defaults to False so that this is bypassed when loading a saved model,
faceswap/lib/model/initializers.py,104,passing zeros,
faceswap/lib/model/initializers.py,117,Dummy in he_uniform just in case there aren't any weighs being loaded,
faceswap/lib/model/initializers.py,118,and it needs some kind of initialization,
faceswap/lib/model/initializers.py,125,pylint:disable=protected-access,
faceswap/lib/model/initializers.py,133,noqa,
faceswap/lib/model/initializers.py,194,Update initializers into Keras custom objects,
faceswap/lib/model/nn_blocks.py,1,!/usr/bin/env python3,
faceswap/lib/model/nn_blocks.py,22,pylint: disable=invalid-name,
faceswap/lib/model/nn_blocks.py,62,Indicate the Convolutional Aware should be calculated on first run,
faceswap/lib/model/nn_blocks.py,63,pylint:disable=protected-access,
faceswap/lib/model/nn_blocks.py,93,<<< Original Model Blocks >>>,
faceswap/lib/model/nn_blocks.py,151,<<< DFaker Model Blocks >>>,
faceswap/lib/model/nn_blocks.py,189,<<< Unbalanced Model Blocks >>>,
faceswap/lib/model/nn_blocks.py,205,<<< GAN V2.2 Blocks >>>,
faceswap/lib/model/nn_blocks.py,206,TODO Merge these into NNBLock class when porting GAN2.2,
faceswap/lib/model/nn_blocks.py,209,Gan Constansts:,
faceswap/lib/model/nn_blocks.py,214,Gan Blocks:,
faceswap/lib/model/losses.py,1,!/usr/bin/env python3,
faceswap/lib/model/losses.py,22,pylint: disable=ungrouped-imports,
faceswap/lib/model/losses.py,25,pylint: disable=invalid-name,
faceswap/lib/model/losses.py,71,pylint: disable=C0103,
faceswap/lib/model/losses.py,101,There are additional parameters for this function,
faceswap/lib/model/losses.py,102,Note: some of the 'modes' for edge behavior do not yet have a,
faceswap/lib/model/losses.py,103,gradient definition in the Theano tree and cannot be used for,
faceswap/lib/model/losses.py,104,learning,
faceswap/lib/model/losses.py,121,Get mean,
faceswap/lib/model/losses.py,124,Get variance,
faceswap/lib/model/losses.py,127,Get std dev,
faceswap/lib/model/losses.py,135,"no need for clipping, c_1 + c_2 make the denom non-zero",
faceswap/lib/model/losses.py,180,<<< START: from Dfaker >>>,
faceswap/lib/model/losses.py,181,pylint: disable=invalid-name,
faceswap/lib/model/losses.py,211,Branching because tensorflows broadcasting is wonky and,
faceswap/lib/model/losses.py,212,plaidmls concatenate is implemented ineficient.,
faceswap/lib/model/losses.py,221,<<< END: from Dfaker >>>,
faceswap/lib/model/losses.py,224,<<< START: from DFL >>>,
faceswap/lib/model/losses.py,258,currently unused,
faceswap/lib/model/losses.py,279,<<< END: from DFL >>>,
faceswap/lib/model/losses.py,282,<<< START: from Shoanlu GAN >>>,
faceswap/lib/model/losses.py,308,fake2 ABGR,
faceswap/lib/model/losses.py,309,fake2 BGR,
faceswap/lib/model/losses.py,310,cyclic1 ABGR,
faceswap/lib/model/losses.py,311,cyclic1 BGR,
faceswap/lib/model/losses.py,401,channel order: BGR,
faceswap/lib/model/losses.py,408,use mixup trick here to reduce foward pass from 2 times to 1.,
faceswap/lib/model/losses.py,415,Apply instance norm on VGG(ResNet) features,
faceswap/lib/model/losses.py,416,From MUNIT https://github.com/NVlabs/MUNIT,
faceswap/lib/model/losses.py,431,<<< END: from Shoanlu GAN >>>,
faceswap/lib/model/losses.py,523,xout1,
faceswap/lib/model/losses.py,539,Xout2,
faceswap/lib/model/losses.py,568,TODO simplify to use MSE instead,
faceswap/lib/model/losses.py,585,Define vertical and horizontal Scharr filters.,
faceswap/lib/model/losses.py,589,"5x5 modified Scharr kernel ( reshape to (5,5,1,2) )",
faceswap/lib/model/losses.py,619,Use depth-wise convolution to calculate edge maps per channel.,
faceswap/lib/model/losses.py,620,"Output tensor has shape [batch_size, h, w, d * num_kernels].",
faceswap/lib/model/losses.py,625,direction of edges,
faceswap/lib/model/losses.py,626,"Reshape to [batch_size, h, w, d, num_kernels].",
faceswap/lib/model/losses.py,631,magnitude of edges -- unified x & y edges don't work well with NN,
faceswap/lib/model/losses.py,704,Now assign shape tensors.,
faceswap/lib/model/losses.py,707,TODO(sjhwang): Check if shape1[:-3] and shape2[:-3] are broadcastable.,
faceswap/lib/model/losses.py,747,For tf.nn.softmax().,
faceswap/lib/model/losses.py,788,SSIM luminance measure is,
faceswap/lib/model/losses.py,789,(2 * mu_x * mu_y + c_one) / (mu_x ** 2 + mu_y ** 2 + c_one).,
faceswap/lib/model/losses.py,796,SSIM contrast-structure measure is,
faceswap/lib/model/losses.py,797,(2 * cov_{xy} + c_two) / (cov_{xx} + cov_{yy} + c_two).,
faceswap/lib/model/losses.py,798,"Note that `reducer` is a weighted sum with weight w_k, \sum_i w_i = 1, then",
faceswap/lib/model/losses.py,799,cov_{xy} = \sum_i w_i (x_i - \mu_x) (y_i - \mu_y),
faceswap/lib/model/losses.py,800,= \sum_i w_i x_i y_i - (\sum_i w_i x_i) (\sum_j w_j y_j).,
faceswap/lib/model/losses.py,805,SSIM score is the product of the luminance and contrast-structure measures.,
faceswap/lib/model/losses.py,808,changed from 11 to 9 due,
faceswap/lib/model/losses.py,817,Enforce the check to run before computation.,
faceswap/lib/model/losses.py,821,TODO(sjhwang): Try to cache kernels and compensation factor.,
faceswap/lib/model/losses.py,825,"The correct compensation factor is `1.0 - tf.reduce_sum(tf.square(kernel))`,",
faceswap/lib/model/losses.py,826,"but to match MATLAB implementation of MS-SSIM, we use 1.0 instead.",
faceswap/lib/model/losses.py,829,TODO(sjhwang): Try FFT.,
faceswap/lib/model/losses.py,830,TODO(sjhwang): Gaussian kernel is separable in space. Consider applying,
faceswap/lib/model/losses.py,831,1-by-n and n-by-1 Gaussain filters instead of an n-by-n filter.,
faceswap/lib/model/losses.py,835,"Average over the second and the third from the last: height, width.",
faceswap/lib/model/losses.py,846,Shape checking.,
faceswap/lib/model/losses.py,856,Need to convert the images to float32.  Scale max_val accordingly so that,
faceswap/lib/model/losses.py,857,SSIM is computed correctly.,
faceswap/lib/model/losses.py,866,img1 and img2 are assumed to be a (multi-dimensional) batch of,
faceswap/lib/model/losses.py,867,"3-dimensional images (height, width, channels). `heads` contain the batch",
faceswap/lib/model/losses.py,868,"dimensions, and `tails` contain the image dimensions.",
faceswap/lib/model/losses.py,879,Avg pool takes rank 4 tensors. Flatten leading dimensions.,
faceswap/lib/model/losses.py,895,Overwrite previous ssim value since we only need the last one.,
faceswap/lib/model/losses.py,899,"Remove the c_s score for the last scale. In the MS-SSIM calculation,",
faceswap/lib/model/losses.py,900,we use the l(p) at the highest scale. l(p) * c_s(p) is ssim(p).,
faceswap/lib/model/losses.py,901,Remove the c_s score for the last scale.,
faceswap/lib/model/losses.py,903,Take weighted geometric mean across the scale axis.,
faceswap/lib/model/losses.py,906,Avg over color channels.,
faceswap/lib/model/losses.py,913,"need to expand to [1,height,width] dimensions for Keras. modify to not be hard-coded",
faceswap/lib/model/losses.py,917,Gaussian Blur is here as it is only used for losses.,
faceswap/lib/model/losses.py,918,It was previously kept in lib/model/masks but the import of keras backend,
faceswap/lib/model/losses.py,919,breaks plaidml,
faceswap/lib/model/normalization.py,1,!/usr/bin/env python3,
faceswap/lib/model/normalization.py,197,for i in self.axis:,
faceswap/lib/model/normalization.py,198,shape[i] = input_shape[i],
faceswap/lib/model/normalization.py,286,Update normalizations into Keras custom objects,
faceswap/lib/model/backup_restore.py,1,!/usr/bin/env python3,
faceswap/lib/model/backup_restore.py,13,pylint: disable=invalid-name,
faceswap/lib/model/backup_restore.py,30,Any filename that does not start with the model name are invalid,
faceswap/lib/model/backup_restore.py,31,for all operations,
faceswap/lib/model/backup_restore.py,34,Only filenames ending in .bk are valid for restoring,
faceswap/lib/model/backup_restore.py,39,Only filenames that do not end with .bk or folders that are the logs folder,
faceswap/lib/model/backup_restore.py,40,are valid for backup,
faceswap/lib/model/layers.py,1,!/usr/bin/env python3,
faceswap/lib/model/layers.py,29,pylint: disable=C0103,
faceswap/lib/model/layers.py,131,Compatibility with TensorFlow >= 1.0.0,
faceswap/lib/model/layers.py,149,pylint: disable=C0103,
faceswap/lib/model/layers.py,259,"TF uses the last dimension as channel dimension,",
faceswap/lib/model/layers.py,260,instead of the 2nd one.,
faceswap/lib/model/layers.py,261,"TH input shape: (samples, input_depth, rows, cols)",
faceswap/lib/model/layers.py,262,"TF input shape: (samples, rows, cols, input_depth)",
faceswap/lib/model/layers.py,437,Update layers into Keras custom objects,
faceswap/lib/model/memory_saving_gradients.py,1,!/usr/bin/env python3,
faceswap/lib/model/memory_saving_gradients.py,35,pylint: disable=no-name-in-module,
faceswap/lib/model/memory_saving_gradients.py,39,pylint: disable=invalid-name,
faceswap/lib/model/memory_saving_gradients.py,41,refers back to current module if we decide to split helpers out,
faceswap/lib/model/memory_saving_gradients.py,44,"getting rid of ""WARNING:tensorflow:VARIABLES collection name is deprecated""",
faceswap/lib/model/memory_saving_gradients.py,47,save original gradients since tf.gradient could be monkey-patched to point,
faceswap/lib/model/memory_saving_gradients.py,48,to our version,
faceswap/lib/model/memory_saving_gradients.py,49,pylint: disable=no-name-in-module,
faceswap/lib/model/memory_saving_gradients.py,52,use lower value during testing,
faceswap/lib/model/memory_saving_gradients.py,55,specific versions we can use to do process-wide replacement of tf.gradients,
faceswap/lib/model/memory_saving_gradients.py,68,"pylint: disable: too-many-statements, too-many-branches",
faceswap/lib/model/memory_saving_gradients.py,95,"print(""Calling memsaving gradients with"", checkpoints)",
faceswap/lib/model/memory_saving_gradients.py,106,forward ops are all ops that are candidates for recomputation,
faceswap/lib/model/memory_saving_gradients.py,112,exclude ops with no inputs,
faceswap/lib/model/memory_saving_gradients.py,115,"don't recompute xs, remove variables",
faceswap/lib/model/memory_saving_gradients.py,121,get the tensors,
faceswap/lib/model/memory_saving_gradients.py,125,"construct list of tensors to checkpoint during forward pass, if not",
faceswap/lib/model/memory_saving_gradients.py,126,given as input,
faceswap/lib/model/memory_saving_gradients.py,132,checkpoint all expensive ops to maximize running speed,
faceswap/lib/model/memory_saving_gradients.py,137,remove very small tensors and some weird ops,
faceswap/lib/model/memory_saving_gradients.py,138,"tf.Dimension values are not compatible with int, convert manually",
faceswap/lib/model/memory_saving_gradients.py,142,unknown shape,
faceswap/lib/model/memory_saving_gradients.py,149,DV: FP16_FIX - need to add 'Cast' layer here to make it work for FP16,
faceswap/lib/model/memory_saving_gradients.py,152,filter out all tensors that are inputs of the backward graph,
faceswap/lib/model/memory_saving_gradients.py,157,list of tensors in forward graph that is in input to bwd graph,
faceswap/lib/model/memory_saving_gradients.py,161,try two slightly different ways of getting bottlenecks tensors,
faceswap/lib/model/memory_saving_gradients.py,162,to checkpoint,
faceswap/lib/model/memory_saving_gradients.py,165,get all bottlenecks in the graph,
faceswap/lib/model/memory_saving_gradients.py,170,check that there are not shortcuts,
faceswap/lib/model/memory_saving_gradients.py,174,we have a bottleneck!,
faceswap/lib/model/memory_saving_gradients.py,179,success? or try again without filtering?,
faceswap/lib/model/memory_saving_gradients.py,180,enough bottlenecks found!,
faceswap/lib/model/memory_saving_gradients.py,187,sort the bottlenecks,
faceswap/lib/model/memory_saving_gradients.py,191,save an approximately optimal number ~ sqrt(N),
faceswap/lib/model/memory_saving_gradients.py,204,at this point automatic selection happened and checkpoints is list of nodes,
faceswap/lib/model/memory_saving_gradients.py,208,better error handling of special cases,
faceswap/lib/model/memory_saving_gradients.py,209,"xs are already handled as checkpoint nodes, so no need to include them",
faceswap/lib/model/memory_saving_gradients.py,217,saving an output node (ys) gives no benefit in memory while creating,
faceswap/lib/model/memory_saving_gradients.py,218,"new edge cases, exclude them",
faceswap/lib/model/memory_saving_gradients.py,223,remove initial and terminal nodes from checkpoints list if present,
faceswap/lib/model/memory_saving_gradients.py,226,check that we have some nodes to checkpoint,
faceswap/lib/model/memory_saving_gradients.py,230,disconnect dependencies between checkpointed tensors,
faceswap/lib/model/memory_saving_gradients.py,239,partial derivatives to the checkpointed tensors and xs,
faceswap/lib/model/memory_saving_gradients.py,257,get gradients with respect to current boundary + original x's,
faceswap/lib/model/memory_saving_gradients.py,271,partial derivatives to the checkpointed nodes,
faceswap/lib/model/memory_saving_gradients.py,272,"dictionary of ""node: backprop"" for nodes in the boundary",
faceswap/lib/model/memory_saving_gradients.py,275,partial derivatives to xs (usually the params of the neural net),
faceswap/lib/model/memory_saving_gradients.py,278,incorporate derivatives flowing through the checkpointed nodes,
faceswap/lib/model/memory_saving_gradients.py,285,"copy part of the graph below current checkpoint node, stopping at",
faceswap/lib/model/memory_saving_gradients.py,286,other checkpoints nodes,
faceswap/lib/model/memory_saving_gradients.py,293,we're done!,
faceswap/lib/model/memory_saving_gradients.py,304,gradient flowing through the checkpointed node,
faceswap/lib/model/memory_saving_gradients.py,319,partial derivatives to the checkpointed nodes,
faceswap/lib/model/memory_saving_gradients.py,337,partial derivatives to xs (usually the params of the neural net),
faceswap/lib/model/memory_saving_gradients.py,359,only keep the tensors from our original list,
faceswap/lib/model/memory_saving_gradients.py,411,pylint: disable=broad-except,
faceswap/tools/effmpeg/effmpeg.py,1,!/usr/bin/env python3,
faceswap/tools/effmpeg/effmpeg.py,2,vim: set fileencoding=utf-8 :,
faceswap/tools/effmpeg/effmpeg.py,19,faceswap imports,
faceswap/tools/effmpeg/effmpeg.py,22,pylint: disable=invalid-name,
faceswap/tools/effmpeg/effmpeg.py,31,future option in effmpeg to use audio file for muxing,
faceswap/tools/effmpeg/effmpeg.py,137,Class variable that stores the target executable (ffmpeg or ffplay),
faceswap/tools/effmpeg/effmpeg.py,140,Class variable that stores the common ffmpeg arguments based on verbosity,
faceswap/tools/effmpeg/effmpeg.py,145,_common_ffmpeg_args is the class variable that will get used by various,
faceswap/tools/effmpeg/effmpeg.py,146,actions and it will be set by the process_arguments() method based on,
faceswap/tools/effmpeg/effmpeg.py,147,passed verbosity,
faceswap/tools/effmpeg/effmpeg.py,166,Format action to match the method name,
faceswap/tools/effmpeg/effmpeg.py,170,Instantiate input DataItem object,
faceswap/tools/effmpeg/effmpeg.py,173,Instantiate output DataItem object,
faceswap/tools/effmpeg/effmpeg.py,187,Instantiate ref_vid DataItem object,
faceswap/tools/effmpeg/effmpeg.py,190,Check that correct input and output arguments were provided,
faceswap/tools/effmpeg/effmpeg.py,208,Check that ref_vid is a video when it needs to be,
faceswap/tools/effmpeg/effmpeg.py,221,Process start and duration arguments,
faceswap/tools/effmpeg/effmpeg.py,228,"If fps was left blank in gui, set it to default -1.0 value",
faceswap/tools/effmpeg/effmpeg.py,232,Try to set fps automatically if needed and not supplied by user,
faceswap/tools/effmpeg/effmpeg.py,247,Processing transpose,
faceswap/tools/effmpeg/effmpeg.py,254,Processing degrees,
faceswap/tools/effmpeg/effmpeg.py,267,Set verbosity of output,
faceswap/tools/effmpeg/effmpeg.py,270,Set self.print_ to True if output needs to be printed to stdout,
faceswap/tools/effmpeg/effmpeg.py,296,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,313,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,366,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,376,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,400,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,411,pylint:disable=unused-argument,
faceswap/tools/effmpeg/effmpeg.py,421,Various helper methods,
faceswap/tools/effmpeg/effmpeg.py,439,Using the same extension as input leads to very poor,
faceswap/tools/effmpeg/effmpeg.py,440,"output quality, hence the default is mkv for now",
faceswap/tools/effmpeg/effmpeg.py,441,+ self.input.ext),
faceswap/tools/effmpeg/effmpeg.py,442,case if input was a directory,
faceswap/tools/effmpeg/effmpeg.py,469,After receiving SIGINT ffmpeg has a 255 exit code,
faceswap/tools/effmpeg/effmpeg.py,476,Do nothing if voluntary interruption,
faceswap/tools/effmpeg/cli.py,1,!/usr/bin/env python3,
faceswap/tools/mask/cli.py,1,!/usr/bin/env python3,
faceswap/tools/mask/mask.py,1,!/usr/bin/env python3,
faceswap/tools/mask/mask.py,20,pylint:disable=invalid-name,
faceswap/tools/mask/mask.py,23,pylint:disable=too-few-public-methods,
faceswap/tools/mask/mask.py,159,Filter the output by filename in case of multiple frames with the same face,
faceswap/tools/mask/mask.py,208,To keep face indexes correct/cover off where only one face in an image is missing a,
faceswap/tools/mask/mask.py,209,mask where there are multiple faces we process all faces again for any frames which,
faceswap/tools/mask/mask.py,210,have missing masks.,
faceswap/tools/restore/cli.py,1,!/usr/bin/env python3,
faceswap/tools/restore/restore.py,1,!/usr/bin/env python3,
faceswap/tools/restore/restore.py,10,pylint: disable=invalid-name,
faceswap/tools/alignments/jobs_manual.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/jobs_manual.py,16,pylint: disable=invalid-name,
faceswap/tools/alignments/jobs_manual.py,140,See lib_alignments/annotate.py for color mapping,
faceswap/tools/alignments/jobs_manual.py,154,pylint: disable=unused-argument,
faceswap/tools/alignments/jobs_manual.py,164,pylint: disable=unused-argument,
faceswap/tools/alignments/jobs_manual.py,175,pylint: disable=unused-argument,
faceswap/tools/alignments/jobs_manual.py,385,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,396,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,429,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,459,Tidy up cli output,
faceswap/tools/alignments/jobs_manual.py,472,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,528,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,655,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,740,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,785,Set the batchsize to 1,
faceswap/tools/alignments/jobs_manual.py,791,"pylint: disable=unused-argument,invalid-name",
faceswap/tools/alignments/jobs_manual.py,793,pylint: disable=no-member,
faceswap/tools/alignments/jobs_manual.py,924,Mask will now be incorrect for updated landmarks so delete,
faceswap/tools/alignments/annotate.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/annotate.py,11,pylint: disable=invalid-name,
faceswap/tools/alignments/cli.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/cli.py,49,TODO - Remove the fix job after a period of time. Implemented 2019/12/07,
faceswap/tools/alignments/alignments.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/alignments.py,7,noqa pylint: disable=unused-import,
faceswap/tools/alignments/alignments.py,9,noqa pylint: disable=unused-import,
faceswap/tools/alignments/alignments.py,11,pylint: disable=invalid-name,
faceswap/tools/alignments/media.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/media.py,13,TODO imageio single frame seek seems slow. Look into this,
faceswap/tools/alignments/media.py,14,import imageio,
faceswap/tools/alignments/media.py,23,pylint: disable=invalid-name,
faceswap/tools/alignments/media.py,32,Tidy up cli output,
faceswap/tools/alignments/media.py,153,pylint: disable=no-member,
faceswap/tools/alignments/media.py,154,TODO ImageIO single frame seek seems slow. Look into this,
faceswap/tools/alignments/media.py,155,"retval = imageio.get_reader(self.folder, ""ffmpeg"")",
faceswap/tools/alignments/media.py,199,pylint: disable=no-member,
faceswap/tools/alignments/media.py,201,TODO imageio single frame seek seems slow. Look into this,
faceswap/tools/alignments/media.py,202,self.vid_reader.set_image_index(frame_no),
faceswap/tools/alignments/media.py,203,"image = self.vid_reader.get_next_data()[:, :, ::-1]",
faceswap/tools/alignments/media.py,235,pylint: disable=no-member,
faceswap/tools/alignments/media.py,307,Keep filename format for outputted face,
faceswap/tools/alignments/jobs.py,1,!/usr/bin/env python3,
faceswap/tools/alignments/jobs.py,20,pylint: disable=invalid-name,
faceswap/tools/alignments/jobs.py,30,Set when getting items,
faceswap/tools/alignments/jobs.py,126,"If the same hash exists in multiple frames, select arbitrary frame",
faceswap/tools/alignments/jobs.py,127,and add to seen_hash_dupes so it is not selected again,
faceswap/tools/alignments/jobs.py,184,Strip the index for printed/file output,
faceswap/tools/alignments/jobs.py,274,Tidy up cli output,
faceswap/tools/alignments/jobs.py,304,comes as non-JSONable np.int32,
faceswap/tools/alignments/jobs.py,372,Tidy up cli output,
faceswap/tools/alignments/jobs.py,404,pylint:disable=too-few-public-methods,
faceswap/tools/alignments/jobs.py,428,Tidy up cli output,
faceswap/tools/alignments/jobs.py,615,Tidy up cli output,
faceswap/tools/alignments/jobs.py,655,Remove frames with no faces,
faceswap/tools/alignments/jobs.py,722,Tidy up cli output,
faceswap/tools/alignments/jobs.py,790,Tidy up cli output,
faceswap/tools/alignments/jobs.py,884,Force deterministic order on alignments dict for multi hash faces,
faceswap/tools/alignments/jobs.py,943,"This should never happen, but is a safety measure to prevent deletion of faces",
faceswap/tools/alignments/jobs.py,944,when multiple files have the same hash.,
faceswap/tools/alignments/jobs.py,972,Tidy up cli output,
faceswap/tools/alignments/jobs.py,1016,Tidy up cli output,
faceswap/tools/alignments/jobs.py,1033,Define shape normalization utility functions,
faceswap/tools/alignments/jobs.py,1040,Calculate mean coordinates and subtract from shapes,
faceswap/tools/alignments/jobs.py,1045,Calculate scale factors and divide shapes,
faceswap/tools/alignments/jobs.py,1060,move back to the correct scale,
faceswap/tools/alignments/jobs.py,1062,move back to the correct location,
faceswap/tools/alignments/jobs.py,1079,"We should only be normalizing a single face, so just take",
faceswap/tools/alignments/jobs.py,1080,the first landmarks found,
faceswap/tools/alignments/jobs.py,1084,Store in one big array,
faceswap/tools/alignments/jobs.py,1086,Make sure we keep track of the mapping to the original frame,
faceswap/tools/alignments/jobs.py,1089,Normalize shapes,
faceswap/tools/alignments/jobs.py,1115,Convert to matrix form,
faceswap/tools/alignments/jobs.py,1117,Project onto shapes model and reconstruct,
faceswap/tools/alignments/jobs.py,1120,"Convert back to shapes (numKeypoint, num_dims, numFrames)",
faceswap/tools/alignments/jobs.py,1123,Transform back to image co-ordinates,
faceswap/tools/alignments/jobs.py,1170,Tidy up cli output,
faceswap/tools/preview/preview.py,1,!/usr/bin/env python3,
faceswap/tools/preview/preview.py,34,pylint: disable=invalid-name,
faceswap/tools/preview/preview.py,37,pylint:disable=too-few-public-methods,
faceswap/tools/preview/preview.py,76,cli frame holds cli options,
faceswap/tools/preview/preview.py,97,pylint:disable=protected-access,
faceswap/tools/preview/preview.py,274,Remove start and end values to get a list divisible by self.sample_size,
faceswap/tools/preview/preview.py,279,Partition the indices,
faceswap/tools/preview/preview.py,315,Get first face only,
faceswap/tools/preview/preview.py,394,Updated converter arguments dict,
faceswap/tools/preview/preview.py,448,Skip options without a default value,
faceswap/tools/preview/preview.py,455,Skip options already in arguments,
faceswap/tools/preview/preview.py,458,Add option to arguments,
faceswap/tools/preview/preview.py,490,Clear trigger so calling process can set it during this run,
faceswap/tools/preview/preview.py,600,Set from Samples,
faceswap/tools/preview/preview.py,602,"Source images, filenames + detected faces",
faceswap/tools/preview/preview.py,603,Set from Patch,
faceswap/tools/preview/preview.py,604,Swapped + patched images,
faceswap/tools/preview/preview.py,738,Get size of placed text for positioning,
faceswap/tools/preview/preview.py,744,Get X and Y co-ordinates for each text item,
faceswap/tools/preview/preview.py,791,Holds currently saved config,
faceswap/tools/preview/preview.py,824,"When manually filling in text fields, blank values will",
faceswap/tools/preview/preview.py,825,raise an error on numeric data types so return 0,
faceswap/tools/preview/preview.py,931,Keep saved item for other sections,
faceswap/tools/preview/preview.py,936,Set config_dicts value to new saved value,
faceswap/tools/preview/preview.py,946,pylint:disable=too-many-ancestors,
faceswap/tools/preview/preview.py,994,pylint: disable=too-many-ancestors,
faceswap/tools/preview/preview.py,1302,pylint:disable=too-many-ancestors,
faceswap/tools/preview/preview.py,1363,pylint: disable=too-many-ancestors,
faceswap/tools/preview/cli.py,1,!/usr/bin/env python3,
faceswap/tools/sort/cli.py,1,!/usr/bin/env python3,
faceswap/tools/sort/sort.py,1,!/usr/bin/env python3,
faceswap/tools/sort/sort.py,16,faceswap imports,
faceswap/tools/sort/sort.py,23,pylint: disable=invalid-name,
faceswap/tools/sort/sort.py,28,pylint: disable=no-member,
faceswap/tools/sort/sort.py,34,TODO set this as ImagesLoader in init. Need to move all processes to use it,
faceswap/tools/sort/sort.py,40,Setting default argument values that cannot be set by argparse,
faceswap/tools/sort/sort.py,42,Set output dir to the same value as input dir,
faceswap/tools/sort/sort.py,43,if the user didn't specify it.,
faceswap/tools/sort/sort.py,48,Assigning default threshold values based on grouping method,
faceswap/tools/sort/sort.py,57,Load VGG Face if sorting by face,
faceswap/tools/sort/sort.py,61,"If logging is enabled, prepare container",
faceswap/tools/sort/sort.py,65,Assign default sort_log.json value if user didn't specify one,
faceswap/tools/sort/sort.py,70,Set serializer based on logfile extension,
faceswap/tools/sort/sort.py,73,"Prepare sort, group and final process method names",
faceswap/tools/sort/sort.py,109,TODO thread the put to queue so we don't have to put and get at the same time,
faceswap/tools/sort/sort.py,110,"Or even better, set up a proper background loader from disk (i.e. use lib.image.ImageIO)",
faceswap/tools/sort/sort.py,141,Check if non-dissim sort method and group method are not the same,
faceswap/tools/sort/sort.py,152,Methods for sorting,
faceswap/tools/sort/sort.py,170,TODO This should be set in init,
faceswap/tools/sort/sort.py,317,Methods for grouping,
faceswap/tools/sort/sort.py,320,Starting the binning process,
faceswap/tools/sort/sort.py,323,The last bin will get all extra images if it's,
faceswap/tools/sort/sort.py,324,not possible to distribute them evenly,
faceswap/tools/sort/sort.py,336,"If remainder is 0, nothing gets added to the last bin.",
faceswap/tools/sort/sort.py,346,Groups are of the form: group_num -> reference faces,
faceswap/tools/sort/sort.py,349,"Bins array, where index is the group number and value is",
faceswap/tools/sort/sort.py,350,an array containing the file paths to the images in that group.,
faceswap/tools/sort/sort.py,353,Comparison threshold used to decide how similar,
faceswap/tools/sort/sort.py,354,faces have to be to be grouped together.,
faceswap/tools/sort/sort.py,355,It is multiplied by 1000 here to allow the cli option to use smaller,
faceswap/tools/sort/sort.py,356,numbers.,
faceswap/tools/sort/sort.py,389,Starting the binning process,
faceswap/tools/sort/sort.py,392,The last bin will get all extra images if it's,
faceswap/tools/sort/sort.py,393,not possible to distribute them evenly,
faceswap/tools/sort/sort.py,405,"If remainder is 0, nothing gets added to the last bin.",
faceswap/tools/sort/sort.py,415,Groups are of the form: group_num -> reference histogram,
faceswap/tools/sort/sort.py,418,"Bins array, where index is the group number and value is",
faceswap/tools/sort/sort.py,419,an array containing the file paths to the images in that group,
faceswap/tools/sort/sort.py,446,Final process methods,
faceswap/tools/sort/sort.py,454,Make sure output directory exists,
faceswap/tools/sort/sort.py,500,First create new directories to avoid checking,
faceswap/tools/sort/sort.py,501,for directory existence in the moving loop,
faceswap/tools/sort/sort.py,529,Various helper methods,
faceswap/tools/sort/sort.py,604,Make new list of just image paths to serve as an index,
faceswap/tools/sort/sort.py,681,pylint: disable=unused-argument,
faceswap/tools/sort/sort.py,687,pylint: disable=unused-argument,
faceswap/tools/sort/sort.py,709,pylint: disable=unused-argument,
faceswap/scripts/fsmedia.py,1,!/usr/bin/env python3,
faceswap/scripts/fsmedia.py,22,pylint: disable=invalid-name,
faceswap/scripts/fsmedia.py,143,Remove items from alignments that have no faces so they will,
faceswap/scripts/fsmedia.py,144,be re-detected,
faceswap/scripts/fsmedia.py,281,Convert to BGR for cv2 compatibility,
faceswap/scripts/fsmedia.py,335,pylint:disable=too-few-public-methods,
faceswap/scripts/fsmedia.py,392,Debug Landmarks,
faceswap/scripts/fsmedia.py,396,Face Filter post processing,
faceswap/scripts/fsmedia.py,445,pylint: disable=too-few-public-methods,
faceswap/scripts/fsmedia.py,461,Set to False if invalid parameters passed in to disable,
faceswap/scripts/fsmedia.py,482,pylint: disable=too-few-public-methods,
faceswap/scripts/extract.py,1,!/usr/bin python3,
faceswap/scripts/extract.py,16,workaround for TqdmSynchronisationWarning,
faceswap/scripts/extract.py,17,pylint: disable=invalid-name,
faceswap/scripts/extract.py,20,pylint:disable=too-few-public-methods,
faceswap/scripts/extract.py,95,Items may be in the alignments file if skip-existing[-faces] is selected,
faceswap/scripts/extract.py,112,from lib.queue_manager import queue_manager ; queue_manager.debug_monitor(3),
faceswap/scripts/extract.py,219,cache extract_media for next run,
faceswap/scripts/convert.py,1,!/usr/bin python3,
faceswap/scripts/convert.py,29,pylint: disable=invalid-name,
faceswap/scripts/convert.py,32,pylint:disable=too-few-public-methods,
faceswap/scripts/convert.py,155,queue_manager.debug_monitor(5),
faceswap/scripts/convert.py,234,For frame skipping,
faceswap/scripts/convert.py,239,Extractor for on the fly detection,
faceswap/scripts/convert.py,295,Initialization,
faceswap/scripts/convert.py,439,Loading tasks,
faceswap/scripts/convert.py,440,pylint: disable=unused-argument,
faceswap/scripts/convert.py,458,All black frames will return not numpy.any() so check dims too,
faceswap/scripts/convert.py,599,Saving tasks,
faceswap/scripts/convert.py,624,Write out preview image for the GUI every 10 frames if writing to stream,
faceswap/scripts/convert.py,746,pylint: disable=no-member,
faceswap/scripts/convert.py,840,"Safety measure. If a large stream of frames appear that do not have faces,",
faceswap/scripts/convert.py,841,these will stack up into RAM. Keep a count of consecutive frames with no faces.,
faceswap/scripts/convert.py,842,"If self._batchsize number of frames appear, force the current batch through",
faceswap/scripts/convert.py,843,to clear RAM.,
faceswap/scripts/convert.py,964,Compile masks into alpha channel or keep raw faces,
faceswap/scripts/convert.py,1026,pylint:disable=too-few-public-methods,
faceswap/scripts/convert.py,1051,SKIP FACES,
faceswap/scripts/gui.py,1,!/usr/bin python3,
faceswap/scripts/gui.py,13,pylint: disable=invalid-name,
faceswap/scripts/gui.py,149,pylint: disable=unused-argument,
faceswap/scripts/gui.py,188,pylint: disable=too-few-public-methods,
faceswap/scripts/train.py,1,!/usr/bin python3,
faceswap/scripts/train.py,22,pylint: disable=invalid-name,
faceswap/scripts/train.py,147,TODO Move these args to config and remove these deprecation warnings,
faceswap/scripts/train.py,157,from lib.queue_manager import queue_manager; queue_manager.debug_monitor(1),
faceswap/scripts/train.py,208,Let preview instructions flush out to logger,
faceswap/scripts/train.py,352,pylint: disable=no-member,
faceswap/scripts/train.py,353,pylint: disable=no-member,
faceswap/scripts/train.py,365,Preview Monitor,
faceswap/scripts/train.py,373,Console Monitor,
faceswap/scripts/train.py,397,pylint: disable=no-member,
faceswap/scripts/train.py,425,pylint: disable=no-member,
faceswap/scripts/train.py,432,pylint: disable=no-member,
faceswap/docs/conf.py,1,Configuration file for the Sphinx documentation builder.,
faceswap/docs/conf.py,2,,
faceswap/docs/conf.py,3,This file only contains a selection of the most common options. For a full,
faceswap/docs/conf.py,4,list see the documentation:,
faceswap/docs/conf.py,5,https://www.sphinx-doc.org/en/master/usage/configuration.html,
faceswap/docs/conf.py,7,-- Path setup --------------------------------------------------------------,
faceswap/docs/conf.py,9,"If extensions (or modules to document with autodoc) are in another directory,",
faceswap/docs/conf.py,10,add these directories to sys.path here. If the directory is relative to the,
faceswap/docs/conf.py,11,"documentation root, use os.path.abspath to make it absolute, like shown here.",
faceswap/docs/conf.py,12,,
faceswap/docs/conf.py,18,-- Project information -----------------------------------------------------,
faceswap/docs/conf.py,24,"The full version, including alpha/beta/rc tags",
faceswap/docs/conf.py,28,-- General configuration ---------------------------------------------------,
faceswap/docs/conf.py,30,"Add any Sphinx extension module names here, as strings. They can be",
faceswap/docs/conf.py,31,extensions coming with Sphinx (named 'sphinx.ext.*') or your custom,
faceswap/docs/conf.py,32,ones.,
faceswap/docs/conf.py,35,"Add any paths that contain templates here, relative to this directory.",
faceswap/docs/conf.py,38,"List of patterns, relative to source directory, that match files and",
faceswap/docs/conf.py,39,directories to ignore when looking for source files.,
faceswap/docs/conf.py,40,This pattern also affects html_static_path and html_extra_path.,
faceswap/docs/conf.py,44,-- Options for HTML output -------------------------------------------------,
faceswap/docs/conf.py,46,The theme to use for HTML and HTML Help pages.  See the documentation for,
faceswap/docs/conf.py,47,a list of builtin themes.,
faceswap/docs/conf.py,48,,
faceswap/docs/conf.py,53,Toc options,
faceswap/docs/conf.py,59,"Add any paths that contain custom static files (such as style sheets) here,",
faceswap/docs/conf.py,60,"relative to this directory. They are copied after the builtin static files,",
faceswap/docs/conf.py,61,"so a file named ""default.css"" will overwrite the builtin ""default.css"".",
faceswap/docs/conf.py,66,override wide tables in RTD theme,
faceswap/plugins/plugin_loader.py,1,!/usr/bin/env python3,
faceswap/plugins/plugin_loader.py,8,pylint: disable=invalid-name,
faceswap/plugins/extract/pipeline.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/pipeline.py,22,pylint:disable=invalid-name,
faceswap/plugins/extract/pipeline.py,23,Tracking for multiple instances of pipeline,
faceswap/plugins/extract/pipeline.py,28,pylint:disable=global-statement,
faceswap/plugins/extract/pipeline.py,87,We only ever need 1 item in each queue. This is 2 items cached (1 in queue 1 waiting,
faceswap/plugins/extract/pipeline.py,88,for queue) at each point. Adding more just stacks RAM with no speed benefit.,
faceswap/plugins/extract/pipeline.py,223,"If not multiprocessing, intercept the align in queue for",
faceswap/plugins/extract/pipeline.py,224,detection phase,
faceswap/plugins/extract/pipeline.py,239,Cleanup queues,
faceswap/plugins/extract/pipeline.py,247,<<< INTERNAL METHODS >>>,
faceswap/plugins/extract/pipeline.py,396,Limit queue size to avoid stacking ram,
faceswap/plugins/extract/pipeline.py,411,Leave a buffer for VRAM allocation,
faceswap/plugins/extract/pipeline.py,481,Amount of VRAM required to run a single plugin is greater than available. We add,
faceswap/plugins/extract/pipeline.py,482,"it anyway, and hope it will run with warnings, as the alternative is to not run",
faceswap/plugins/extract/pipeline.py,483,at all.,
faceswap/plugins/extract/pipeline.py,484,This will also run if forcing single process,
faceswap/plugins/extract/pipeline.py,499,<< INTERNAL PLUGIN HANDLING >>,
faceswap/plugins/extract/pipeline.py,579,Hacky split across plugins that use vram,
faceswap/plugins/extract/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/_base.py,9,pylint:disable=no-name-in-module,
faceswap/plugins/extract/_base.py,17,pylint: disable=invalid-name,
faceswap/plugins/extract/_base.py,19,TODO CPU mode,
faceswap/plugins/extract/_base.py,20,TODO Run with warnings mode,
faceswap/plugins/extract/_base.py,117,<< SET THE FOLLOWING IN PLUGINS __init__ IF DIFFERENT FROM DEFAULT >>,
faceswap/plugins/extract/_base.py,122,Will run at this with warnings,
faceswap/plugins/extract/_base.py,125,<< THE FOLLOWING ARE SET IN self.initialize METHOD >>,
faceswap/plugins/extract/_base.py,133,"For detectors that support batching, this should be set to  the calculated batch size",
faceswap/plugins/extract/_base.py,134,that the amount of available VRAM will support.,
faceswap/plugins/extract/_base.py,149,<< THE FOLLOWING PROTECTED ATTRIBUTES ARE SET IN PLUGIN TYPE _base.py >>>,
faceswap/plugins/extract/_base.py,156,<<< OVERIDABLE METHODS >>>,
faceswap/plugins/extract/_base.py,276,<<< THREADING METHODS >>>,
faceswap/plugins/extract/_base.py,306,<<< PROTECTED ACCESS METHODS >>>,
faceswap/plugins/extract/_base.py,307,<<< INIT METHODS >>>,
faceswap/plugins/extract/_base.py,325,<<< PLUGIN INITIALIZATION >>>,
faceswap/plugins/extract/_base.py,368,<<< THREAD METHODS >>>,
faceswap/plugins/extract/_base.py,405,Process input items to batches,
faceswap/plugins/extract/_base.py,409,Put the final batch,
faceswap/plugins/extract/_base.py,432,Process output items to individual items from batch,
faceswap/plugins/extract/_base.py,440,<<< QUEUE METHODS >>>,
faceswap/plugins/extract/_config.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/_config.py,12,pylint: disable=invalid-name,
faceswap/plugins/extract/_config.py,41,pylint:disable=protected-access,
faceswap/plugins/extract/_config.py,42,pylint:disable=protected-access,
faceswap/plugins/extract/align/fan.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/align/fan.py,25,Will run at this with warnings,
faceswap/plugins/extract/align/fan.py,38,Feed a placeholder so Aligner is primed for Manual tool,
faceswap/plugins/extract/align/fan.py,67,pylint:disable=too-many-locals,
faceswap/plugins/extract/align/fan.py,79,TODO second pass .. convert to matrix,
faceswap/plugins/extract/align/fan.py,113,x scale,
faceswap/plugins/extract/align/fan.py,114,y scale,
faceswap/plugins/extract/align/fan.py,115,x translation,
faceswap/plugins/extract/align/fan.py,116,y translation,
faceswap/plugins/extract/align/fan.py,153,TODO improve rudimentary sub-pixel logic to centroid of 3x3 window algorithm,
faceswap/plugins/extract/align/fan.py,162,pylint:disable=too-many-instance-attributes,
faceswap/plugins/extract/align/fan_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/align/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/align/_base.py,23,pylint:disable=abstract-method,
faceswap/plugins/extract/align/_base.py,64,Tracking for recompiling face batches,
faceswap/plugins/extract/align/_base.py,65,Items that are rolled over from the previous batch in get_batch,
faceswap/plugins/extract/align/_base.py,80,<< QUEUE METHODS >>>,
faceswap/plugins/extract/align/_base.py,124,Put frames with no faces into the out queue to keep TQDM consistent,
faceswap/plugins/extract/align/_base.py,170,<<< FINALIZE METHODS >>>,
faceswap/plugins/extract/align/_base.py,213,<<< PROTECTED METHODS >>>,
faceswap/plugins/extract/align/_base.py,214,<<< PREDICT WRAPPER >>>,
faceswap/plugins/extract/align/_base.py,219,<<< FACE NORMALIZATION METHODS >>>,
faceswap/plugins/extract/align/cv2_dnn.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/align/cv2_dnn.py,43,Doesn't use GPU,
faceswap/plugins/extract/align/cv2_dnn.py,49,pylint: disable=no-member,
faceswap/plugins/extract/align/cv2_dnn.py,50,pylint: disable=no-member,
faceswap/plugins/extract/align/cv2_dnn.py,74,Make box square.,
faceswap/plugins/extract/align/cv2_dnn.py,77,Pad the image and adjust roi if face is outside of boundaries,
faceswap/plugins/extract/align/cv2_dnn.py,108,"Check if box is already a square. If not, make it a square.",
faceswap/plugins/extract/align/cv2_dnn.py,112,Already a square.,
faceswap/plugins/extract/align/cv2_dnn.py,114,"Height > width, a slim box.",
faceswap/plugins/extract/align/cv2_dnn.py,119,"Width > height, a short box.",
faceswap/plugins/extract/align/cv2_dnn.py,125,Make sure box is always square.,
faceswap/plugins/extract/mask/vgg_obstructed_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/vgg_clear.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/vgg_clear.py,31,at BS 1. OOMs at higher batch sizes,
faceswap/plugins/extract/mask/unet_dfl_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/components.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/components.py,17,Doesn't use GPU,
faceswap/plugins/extract/mask/vgg_clear_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/extended.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/extended.py,17,Doesn't use GPU,
faceswap/plugins/extract/mask/extended.py,48,mid points between the side of face and eye point,
faceswap/plugins/extract/mask/extended.py,52,mid points between the mid points and eye,
faceswap/plugins/extract/mask/extended.py,56,Top of the eye arrays,
faceswap/plugins/extract/mask/extended.py,60,Eyebrow arrays,
faceswap/plugins/extract/mask/extended.py,64,Adjust eyebrow arrays,
faceswap/plugins/extract/mask/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/_base.py,22,pylint:disable=abstract-method,
faceswap/plugins/extract/mask/_base.py,59,Override for model specific input_size,
faceswap/plugins/extract/mask/_base.py,60,Override for model specific coverage_ratio,
faceswap/plugins/extract/mask/_base.py,65,Size to store masks at. Leave this at default,
faceswap/plugins/extract/mask/_base.py,66,Tracking for recompiling face batches,
faceswap/plugins/extract/mask/_base.py,67,Items that are rolled over from the previous batch in get_batch,
faceswap/plugins/extract/mask/_base.py,113,Put frames with no faces into the out queue to keep TQDM consistent,
faceswap/plugins/extract/mask/_base.py,207,<<< PROTECTED ACCESS METHODS >>>,
faceswap/plugins/extract/mask/_base.py,216,pylint: disable=no-member,
faceswap/plugins/extract/mask/vgg_obstructed.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/mask/vgg_obstructed.py,31,at BS 1. OOMs at higher batch sizes,
faceswap/plugins/extract/mask/unet_dfl.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/s3fd.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/s3fd.py,27,Will run at this with warnings,
faceswap/plugins/extract/detect/s3fd.py,60,,
faceswap/plugins/extract/detect/s3fd.py,61,CUSTOM KERAS LAYERS,
faceswap/plugins/extract/detect/s3fd.py,62,generated by onnx2keras,
faceswap/plugins/extract/detect/s3fd.py,63,,
faceswap/plugins/extract/detect/s3fd.py,72,TODO: do this nicer,
faceswap/plugins/extract/detect/s3fd.py,193,pylint:disable=arguments-differ,
faceswap/plugins/extract/detect/s3fd.py,210,pylint:disable=arguments-differ,
faceswap/plugins/extract/detect/s3fd.py,252,"4,8,16,32,64,128",
faceswap/plugins/extract/detect/mtcnn_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/cv2_dnn_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/mtcnn.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/mtcnn.py,24,Will run at this with warnings,
faceswap/plugins/extract/detect/mtcnn.py,48,minimum size of face,
faceswap/plugins/extract/detect/mtcnn.py,49,three steps threshold,
faceswap/plugins/extract/detect/mtcnn.py,50,scale factor,
faceswap/plugins/extract/detect/mtcnn.py,77,MTCNN Detector,
faceswap/plugins/extract/detect/mtcnn.py,78,Code adapted from: https://github.com/xiangrufan/keras-mtcnn,
faceswap/plugins/extract/detect/mtcnn.py,79,,
faceswap/plugins/extract/detect/mtcnn.py,80,Keras implementation of the face detection / alignment algorithm,
faceswap/plugins/extract/detect/mtcnn.py,81,found at,
faceswap/plugins/extract/detect/mtcnn.py,82,https://github.com/kpzhang93/MTCNN_face_detection_alignment,
faceswap/plugins/extract/detect/mtcnn.py,83,,
faceswap/plugins/extract/detect/mtcnn.py,84,MIT License,
faceswap/plugins/extract/detect/mtcnn.py,85,,
faceswap/plugins/extract/detect/mtcnn.py,86,Copyright (c) 2016 Kaipeng Zhang,
faceswap/plugins/extract/detect/mtcnn.py,87,,
faceswap/plugins/extract/detect/mtcnn.py,88,"Permission is hereby granted, free of charge, to any person obtaining a copy",
faceswap/plugins/extract/detect/mtcnn.py,89,"of this software and associated documentation files (the ""Software""), to deal",
faceswap/plugins/extract/detect/mtcnn.py,90,"in the Software without restriction, including without limitation the rights",
faceswap/plugins/extract/detect/mtcnn.py,91,"to use, copy, modify, merge, publish, distribute, sublicense, and/or sell",
faceswap/plugins/extract/detect/mtcnn.py,92,"copies of the Software, and to permit persons to whom the Software is",
faceswap/plugins/extract/detect/mtcnn.py,93,"furnished to do so, subject to the following conditions:",
faceswap/plugins/extract/detect/mtcnn.py,94,,
faceswap/plugins/extract/detect/mtcnn.py,95,The above copyright notice and this permission notice shall be included in all,
faceswap/plugins/extract/detect/mtcnn.py,96,copies or substantial portions of the Software.,
faceswap/plugins/extract/detect/mtcnn.py,97,,
faceswap/plugins/extract/detect/mtcnn.py,98,"THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR",
faceswap/plugins/extract/detect/mtcnn.py,99,"IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,",
faceswap/plugins/extract/detect/mtcnn.py,100,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE,
faceswap/plugins/extract/detect/mtcnn.py,101,"AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER",
faceswap/plugins/extract/detect/mtcnn.py,102,"LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,",
faceswap/plugins/extract/detect/mtcnn.py,103,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE,
faceswap/plugins/extract/detect/mtcnn.py,104,SOFTWARE.,
faceswap/plugins/extract/detect/mtcnn.py,195,TODO Batching for rnet and onet,
faceswap/plugins/extract/detect/mtcnn.py,240,pylint: disable=too-many-locals,
faceswap/plugins/extract/detect/mtcnn.py,259,"first index 0 = class score, 1 = one hot repr",
faceswap/plugins/extract/detect/mtcnn.py,273,TODO: batching,
faceswap/plugins/extract/detect/mtcnn.py,300,TODO: batching,
faceswap/plugins/extract/detect/mtcnn.py,317,index,
faceswap/plugins/extract/detect/mtcnn.py,331,"pylint: disable=too-many-locals, too-many-arguments",
faceswap/plugins/extract/detect/mtcnn.py,373,"pylint: disable=too-many-locals, too-many-arguments",
faceswap/plugins/extract/detect/mtcnn.py,418,"pylint: disable=too-many-locals, too-many-arguments",
faceswap/plugins/extract/detect/mtcnn.py,476,pylint:disable=too-many-locals,
faceswap/plugins/extract/detect/mtcnn.py,495,"s_sort[-1] have highest prob score, s_sort[0:-1]->others",
faceswap/plugins/extract/detect/mtcnn.py,527,create scale pyramid,
faceswap/plugins/extract/detect/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/_base.py,26,pylint:disable=abstract-method,
faceswap/plugins/extract/detect/_base.py,75,<<< QUEUE METHODS >>>,
faceswap/plugins/extract/detect/_base.py,131,<<< FINALIZE METHODS>>>,
faceswap/plugins/extract/detect/_base.py,159,Rotations,
faceswap/plugins/extract/detect/_base.py,165,Remove zero sized faces,
faceswap/plugins/extract/detect/_base.py,168,Scale back out to original frame,
faceswap/plugins/extract/detect/_base.py,198,<<< PROTECTED ACCESS METHODS >>>,
faceswap/plugins/extract/detect/_base.py,199,<<< PREDICT WRAPPER >>>,
faceswap/plugins/extract/detect/_base.py,205,Rotate the batch and insert placeholders for already found faces,
faceswap/plugins/extract/detect/_base.py,224,<<< DETECTION IMAGE COMPILATION METHODS >>>,
faceswap/plugins/extract/detect/_base.py,284,<<< FINALIZE METHODS >>>,
faceswap/plugins/extract/detect/_base.py,312,<<< IMAGE ROTATION METHODS >>>,
faceswap/plugins/extract/detect/_base.py,349,Set the initial batch so we always rotate from zero,
faceswap/plugins/extract/detect/_base.py,394,"Bounding box should follow x, y planes, so get min/max for non-90 degree rotations",
faceswap/plugins/extract/detect/cv2_dnn.py,1,!/usr/bin/env python3,
faceswap/plugins/extract/detect/cv2_dnn.py,17,CPU Only. Doesn't use VRAM,
faceswap/plugins/extract/detect/cv2_dnn.py,24,pylint: disable=no-member,
faceswap/plugins/extract/detect/cv2_dnn.py,26,pylint: disable=no-member,
faceswap/plugins/extract/detect/cv2_dnn.py,30,pylint: disable=no-member,
faceswap/plugins/extract/detect/s3fd_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/_config.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/_config.py,13,pylint: disable=invalid-name,
faceswap/plugins/convert/_config.py,41,pylint:disable=protected-access,
faceswap/plugins/convert/_config.py,42,pylint:disable=protected-access,
faceswap/plugins/convert/scaling/sharpen.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/scaling/sharpen.py,37,pylint: disable=no-member,
faceswap/plugins/convert/scaling/sharpen.py,44,pylint: disable=no-member,
faceswap/plugins/convert/scaling/sharpen.py,45,pylint: disable=no-member,
faceswap/plugins/convert/scaling/sharpen.py,56,pylint: disable=no-member,
faceswap/plugins/convert/scaling/sharpen_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/scaling/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/scaling/_base.py,9,pylint: disable=invalid-name,
faceswap/plugins/convert/scaling/_base.py,47,Remove Mask for processing,
faceswap/plugins/convert/scaling/_base.py,56,Reinsert Mask,
faceswap/plugins/convert/color/manual_balance_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/color_transfer.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/color_transfer.py,70,"convert the images from the RGB to L*ab* color space, being",
faceswap/plugins/convert/color/color_transfer.py,71,sure to utilizing the floating point data type (note: OpenCV,
faceswap/plugins/convert/color/color_transfer.py,72,"expects floats to be 32-bit, so use that instead of 64-bit)",
faceswap/plugins/convert/color/color_transfer.py,73,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,75,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,76,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,78,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,79,compute color statistics for the source and target images,
faceswap/plugins/convert/color/color_transfer.py,87,subtract the means from the target image,
faceswap/plugins/convert/color/color_transfer.py,88,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,94,scale by the standard deviations using paper proposed factor,
faceswap/plugins/convert/color/color_transfer.py,99,scale by the standard deviations using reciprocal of paper proposed factor,
faceswap/plugins/convert/color/color_transfer.py,104,add in the source mean,
faceswap/plugins/convert/color/color_transfer.py,109,"clip/scale the pixel intensities to [0, 255] if they fall",
faceswap/plugins/convert/color/color_transfer.py,110,outside this range,
faceswap/plugins/convert/color/color_transfer.py,115,merge the channels together and convert back to the RGB color,
faceswap/plugins/convert/color/color_transfer.py,116,"space, being sure to utilize the 8-bit unsigned integer data",
faceswap/plugins/convert/color/color_transfer.py,117,type,
faceswap/plugins/convert/color/color_transfer.py,118,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,119,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,121,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,124,return the color transferred image,
faceswap/plugins/convert/color/color_transfer.py,140,compute the mean and standard deviation of each channel,
faceswap/plugins/convert/color/color_transfer.py,141,pylint: disable=no-member,
faceswap/plugins/convert/color/color_transfer.py,146,return the color statistics,
faceswap/plugins/convert/color/color_transfer.py,165,get array's current min and max,
faceswap/plugins/convert/color/color_transfer.py,169,check if scaling needs to be done to be in new_range,
faceswap/plugins/convert/color/color_transfer.py,171,perform min-max scaling,
faceswap/plugins/convert/color/color_transfer.py,175,return array if already in range,
faceswap/plugins/convert/color/color_transfer_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/manual_balance.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/manual_balance.py,47,pylint: disable=no-member,
faceswap/plugins/convert/color/match_hist.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/match_hist.py,37,cdf,
faceswap/plugins/convert/color/match_hist.py,38,cdf,
faceswap/plugins/convert/color/match_hist_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/seamless_clone.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/seamless_clone.py,38,pylint: disable=no-member,
faceswap/plugins/convert/color/seamless_clone.py,42,pylint: disable=no-member,
faceswap/plugins/convert/color/avg_color.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/color/_base.py,9,pylint: disable=invalid-name,
faceswap/plugins/convert/color/_base.py,45,Remove Mask for processing,
faceswap/plugins/convert/color/_base.py,54,Reinsert Mask,
faceswap/plugins/convert/mask/mask_blend_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/mask/mask_blend.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/mask/mask_blend.py,30,pylint:disable=arguments-differ,
faceswap/plugins/convert/mask/mask_blend.py,72,Return a dummy mask if not using a mask,
faceswap/plugins/convert/mask/mask_blend.py,117,MASK MANIPULATIONS,
faceswap/plugins/convert/mask/box_blend.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/mask/box_blend.py,55,pylint:disable=arguments-differ,
faceswap/plugins/convert/mask/box_blend_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/mask/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/mask/_base.py,10,pylint: disable=invalid-name,
faceswap/plugins/convert/writer/gif_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/gif.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/gif.py,17,Fix dims of 1st frame in case of different sized images,
faceswap/plugins/convert/writer/gif.py,18,"Need to know dimensions of first frame, so set writer then",
faceswap/plugins/convert/writer/gif.py,19,Set filename based on first file seen,
faceswap/plugins/convert/writer/gif.py,56,pylint: disable=no-member,
faceswap/plugins/convert/writer/opencv.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/opencv.py,32,pylint: disable=no-member,
faceswap/plugins/convert/writer/opencv.py,35,pylint: disable=no-member,
faceswap/plugins/convert/writer/opencv.py,46,pylint: disable=broad-except,
faceswap/plugins/convert/writer/opencv.py,52,pylint: disable=no-member,
faceswap/plugins/convert/writer/pillow.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/pillow.py,15,Correct format namings for writing to byte stream,
faceswap/plugins/convert/writer/pillow.py,49,pylint: disable=broad-except,
faceswap/plugins/convert/writer/pillow_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/ffmpeg.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/ffmpeg.py,23,Fix dims of 1st frame in case of different sized images,
faceswap/plugins/convert/writer/ffmpeg.py,24,"Need to know dimensions of first frame, so set writer then",
faceswap/plugins/convert/writer/ffmpeg.py,65,Force all frames to the same size,
faceswap/plugins/convert/writer/ffmpeg.py,167,"Sometimes ffmpy exits for no discernible reason, but then works on a later attempt,",
faceswap/plugins/convert/writer/ffmpeg.py,168,so take 5 shots at this,
faceswap/plugins/convert/writer/opencv_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/convert/writer/_base.py,10,pylint: disable=invalid-name,
faceswap/plugins/convert/writer/_base.py,28,Methods for making sure frames are written out in frame order,
faceswap/plugins/convert/writer/_base.py,29,Identify frame numbers,
faceswap/plugins/convert/writer/_base.py,30,Cache for when frames must be written in correct order,
faceswap/plugins/convert/writer/_base.py,62,"pylint: disable=unused-argument,no-self-use",
faceswap/plugins/convert/writer/ffmpeg_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/_config.py,1,!/usr/bin/env python3,
faceswap/plugins/train/_config.py,14,pylint: disable=invalid-name,
faceswap/plugins/train/_config.py,22,pylint: disable=too-many-statements,
faceswap/plugins/train/_config.py,208,pylint:disable=protected-access,
faceswap/plugins/train/_config.py,211,pylint:disable=protected-access,
faceswap/plugins/train/trainer/original_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/trainer/original.py,1,!/usr/bin/env python3,
faceswap/plugins/train/trainer/original.py,9,pylint:disable=useless-super-delegation,
faceswap/plugins/train/trainer/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/train/trainer/_base.py,53,pylint:disable=no-name-in-module,
faceswap/plugins/train/trainer/_base.py,63,pylint: disable=invalid-name,
faceswap/plugins/train/trainer/_base.py,193,"Currently TensorBoard uses the tf.session, meaning that VRAM does not",
faceswap/plugins/train/trainer/_base.py,194,get cleared when model switching,
faceswap/plugins/train/trainer/_base.py,195,TODO find a fix for this,
faceswap/plugins/train/trainer/_base.py,221,Must be 0 or hangs,
faceswap/plugins/train/trainer/_base.py,329,Either only loss or total loss,
faceswap/plugins/train/trainer/_base.py,704,Get the returned largest image from predictors that emit multiple items,
faceswap/plugins/train/trainer/_base.py,1059,Get landmarks,
faceswap/plugins/train/trainer/_base.py,1090,Get masks,
faceswap/plugins/train/trainer/_base.py,1127,Pre flight checks,
faceswap/plugins/train/trainer/_base.py,1140,Hashes for image folders,
faceswap/plugins/train/trainer/_base.py,1170,Hashes for Detected Faces,
faceswap/plugins/train/trainer/_base.py,1232,Validation,
faceswap/plugins/train/trainer/_base.py,1314,Utils,
faceswap/plugins/train/model/unbalanced.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/villain_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/original_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/realface.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfl_h128_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/unbalanced_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfl_sae_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dlight_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfaker.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/villain.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/villain.py,43,consider adding scale before this layer to scale the residual chain,
faceswap/plugins/train/model/dlight.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dlight.py,28,[P] TODO Move upscale2x_hyb to nnblocks.py (after testing),
faceswap/plugins/train/model/dlight.py,29,<<< DeLight Model Blocks >>>,
faceswap/plugins/train/model/dlight.py,129,monkey patch-in nn_blocks,
faceswap/plugins/train/model/dlight.py,224,mask decoder,
faceswap/plugins/train/model/dlight.py,260,mask decoder,
faceswap/plugins/train/model/dlight.py,307,mask decoder,
faceswap/plugins/train/model/dfl_sae.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfl_sae.py,53,Encoder,
faceswap/plugins/train/model/dfl_sae.py,56,Intermediate,
faceswap/plugins/train/model/dfl_sae.py,61,Decoder,
faceswap/plugins/train/model/iae.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/lightweight.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/original.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/_base.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/_base.py,30,pylint: disable=invalid-name,
faceswap/plugins/train/model/_base.py,77,Load config if plugin has not already referenced it,
faceswap/plugins/train/model/_base.py,96,Networks for the model,
faceswap/plugins/train/model/_base.py,97,Predictors for model,
faceswap/plugins/train/model/_base.py,98,Loss history per save iteration),
faceswap/plugins/train/model/_base.py,100,Training information specific to the model should be placed in this,
faceswap/plugins/train/model/_base.py,101,dict for reference by the trainer.,
faceswap/plugins/train/model/_base.py,139,pylint: disable=global-statement,
faceswap/plugins/train/model/_base.py,181,Only get output from one autoencoder. Shapes are the same,
faceswap/plugins/train/model/_base.py,227,pylint: disable=global-statement,
faceswap/plugins/train/model/_base.py,268,"TODO penalized mask doesn't have a mask output, so we can't use output shapes",
faceswap/plugins/train/model/_base.py,269,mask should always be last output..this needs to be a rule,
faceswap/plugins/train/model/_base.py,338,Make sure they are all ints so that it can be json serialized,
faceswap/plugins/train/model/_base.py,347,Clear models and graph,
faceswap/plugins/train/model/_base.py,351,Load Models for current training run,
faceswap/plugins/train/model/_base.py,375,pylint: disable=invalid-name,
faceswap/plugins/train/model/_base.py,380,"NB: Clipnorm is ballooning VRAM usage, which is not expected behavior",
faceswap/plugins/train/model/_base.py,381,and may be a bug in Keras/TF.,
faceswap/plugins/train/model/_base.py,382,PlaidML has a bug regarding the clipnorm parameter,
faceswap/plugins/train/model/_base.py,383,See: https://github.com/plaidml/plaidml/issues/228,
faceswap/plugins/train/model/_base.py,384,Workaround by simply removing it.,
faceswap/plugins/train/model/_base.py,385,TODO: Remove this as soon it is fixed in PlaidML.,
faceswap/plugins/train/model/_base.py,396,Must compile the model to be thread safe,
faceswap/plugins/train/model/_base.py,397,pylint: disable=protected-access,
faceswap/plugins/train/model/_base.py,467,Insert a new line to avoid spamming the same row as loss output,
faceswap/plugins/train/model/_base.py,478,call result() to capture errors,
faceswap/plugins/train/model/_base.py,498,Reset historical loss,
faceswap/plugins/train/model/_base.py,523,Only run this if backup is true. All losses must have dropped for a valid backup,
faceswap/plugins/train/model/_base.py,529,Update lowest loss values to the state,
faceswap/plugins/train/model/_base.py,732,Handle incorrectly named/legacy outputs,
faceswap/plugins/train/model/_base.py,795,For pingpong restore,
faceswap/plugins/train/model/_base.py,796,For pingpong restore,
faceswap/plugins/train/model/_base.py,816,"Saved models break if their layer names are changed, so dummy",
faceswap/plugins/train/model/_base.py,817,in correct output names for legacy models,
faceswap/plugins/train/model/_base.py,844,pylint: disable=broad-except,
faceswap/plugins/train/model/_base.py,849,Update network with saved model,
faceswap/plugins/train/model/_base.py,990,pylint: disable=global-statement,
faceswap/plugins/train/model/_base.py,992,Add any new items to state config for legacy purposes,
faceswap/plugins/train/model/_base.py,1035,dssim_loss > loss_function,
faceswap/plugins/train/model/_base.py,1044,"Add learn mask option and set to True if model has ""penalized_mask_loss"" specified",
faceswap/plugins/train/model/_base.py,1052,Replace removed masks with most similar equivalent,
faceswap/plugins/train/model/realface_defaults.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfl_h128.py,1,!/usr/bin/env python3,
faceswap/plugins/train/model/dfl_h128.py,42,Face,
faceswap/_travis/simple_tests.py,56,pylint:disable=global-statement,
faceswap/_travis/simple_tests.py,70,TODO: retry,
faceswap/_travis/simple_tests.py,113,Don't use pathes with spaces ;),
