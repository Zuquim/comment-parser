file path,line #,comment,satd
sanic/setup.py,129,'nt' means windows OS,
sanic/tests/test_routes.py,12,------------------------------------------------------------,
sanic/tests/test_routes.py,13,UTF-8,
sanic/tests/test_routes.py,14,------------------------------------------------------------,
sanic/tests/test_routes.py,169,Part of regression test for issue #1120,
sanic/tests/test_routes.py,174,"before fix, this raises a RouteExists error",
sanic/tests/test_blueprint_group.py,56,Dummy auth check. We can have anything here and it's fine.,
sanic/tests/test_keep_alive_timeout.py,15,test_keep_alive_timeout_reuse doesn't work with random port,
sanic/tests/test_keep_alive_timeout.py,90,"Copied from SanicTestClient, but with some changes to reuse the",
sanic/tests/test_keep_alive_timeout.py,91,same loop for the same app.,
sanic/tests/test_keep_alive_timeout.py,187,"Copied from SanicTestClient, but with some changes to reuse the",
sanic/tests/test_keep_alive_timeout.py,188,same TCPConnection and the sane ClientSession more than once.,
sanic/tests/test_keep_alive_timeout.py,189,"Note, you cannot use the same session if you are in a _different_",
sanic/tests/test_keep_alive_timeout.py,190,"loop, so the changes above are required too.",
sanic/tests/test_request_cancel.py,16,at this point client is already disconnected,
sanic/tests/test_request_cancel.py,20,schedule client call,
sanic/tests/test_request_cancel.py,26,cancelling request and closing connection after 0.5 sec,
sanic/tests/test_request_cancel.py,32,Wait for server and check if it's still serving the cancelled request,
sanic/tests/test_request_cancel.py,54,at this point client is already disconnected,
sanic/tests/test_request_cancel.py,59,schedule client call,
sanic/tests/test_request_cancel.py,65,cancelling request and closing connection after 0.5 sec,
sanic/tests/test_request_cancel.py,71,Wait for server and check if it's still serving the cancelled request,
sanic/tests/test_request_stream.py,329,404,
sanic/tests/test_request_stream.py,334,405,
sanic/tests/test_request_stream.py,621,This should do nothing,
sanic/tests/test_request_stream.py,636,"We should have no b"""" or None, just proper chunks",
sanic/tests/test_utf8.py,6,------------------------------------------------------------,
sanic/tests/test_utf8.py,7,UTF-8,
sanic/tests/test_utf8.py,8,------------------------------------------------------------,
sanic/tests/test_utf8.py,34,UTF-8 Paths are not supported,
sanic/tests/test_blueprints.py,16,------------------------------------------------------------,
sanic/tests/test_blueprints.py,17,GET,
sanic/tests/test_blueprints.py,18,------------------------------------------------------------,
sanic/tests/test_blueprints.py,360,"This is done here, since no other test loads a file here",
sanic/tests/conftest.py,99,noinspection PyProtectedMember,
sanic/tests/test_url_building.py,38,this is the easiest way to generate functions with dynamic names,
sanic/tests/test_url_building.py,239,"For ``number``, it has been cast to a float - so a ``3`` becomes a ``3.0``",
sanic/tests/test_url_building.py,274,noqa,
sanic/tests/test_url_building.py,278,noqa,
sanic/tests/test_worker.py,152,exceeding request count,
sanic/tests/test_worker.py,184,close worker,
sanic/tests/test_headers.py,38,cgi.parse_header:,
sanic/tests/test_headers.py,39,"('form-data', {'name': 'files', 'filename': 'fo""o;bar\\'})",
sanic/tests/test_headers.py,40,werkzeug.parse_options_header:,
sanic/tests/test_headers.py,41,"('form-data', {'name': 'files', 'filename': '""fo\\""o', 'bar\\""': None})",
sanic/tests/test_headers.py,43,"<input type=file name=""foo&quot;;bar\""> with Unicode filename!",
sanic/tests/test_headers.py,45,Chrome:,
sanic/tests/test_headers.py,46,"Content-Disposition: form-data; name=""foo%22;bar\""; filename=""ðŸ˜€""",
sanic/tests/test_headers.py,49,"cgi: ('form-data', {'name': 'foo%22;bar""; filename=""ðŸ˜€'})",
sanic/tests/test_headers.py,50,"werkzeug: ('form-data', {'name': 'foo%22;bar""; filename='})",
sanic/tests/test_headers.py,53,Firefox:,
sanic/tests/test_headers.py,54,"Content-Disposition: form-data; name=""foo\"";bar\""; filename=""ðŸ˜€""",
sanic/tests/test_headers.py,57,"cgi: ('form-data', {'name': 'foo"";bar""; filename=""ðŸ˜€'})",
sanic/tests/test_headers.py,58,"werkzeug: ('form-data', {'name': 'foo"";bar""; filename='})",
sanic/tests/test_requests.py,18,------------------------------------------------------------,
sanic/tests/test_requests.py,19,GET,
sanic/tests/test_requests.py,20,------------------------------------------------------------,
sanic/tests/test_requests.py,324,uuid4 generated token.,
sanic/tests/test_requests.py,355,no Authorization headers,
sanic/tests/test_requests.py,369,uuid4 generated token.,
sanic/tests/test_requests.py,400,no Authorization headers,
sanic/tests/test_requests.py,444,"Without configured FORWARDED_SECRET, x-headers should be respected",
sanic/tests/test_requests.py,478,Empty Forwarded header -> use X-headers,
sanic/tests/test_requests.py,483,Header present but not matching anything,
sanic/tests/test_requests.py,487,Forwarded header present but no matching secret -> use X-headers,
sanic/tests/test_requests.py,496,Different formatting and hitting both ends of the header,
sanic/tests/test_requests.py,505,Test escapes (modify this if you see anyone implementing quoted-pairs),
sanic/tests/test_requests.py,514,Secret insulated by malformed field #1,
sanic/tests/test_requests.py,519,Secret insulated by malformed field #2,
sanic/tests/test_requests.py,524,Unexpected termination should not lose existing acceptable values,
sanic/tests/test_requests.py,529,Field normalization,
sanic/tests/test_requests.py,543,"Using ""by"" field as secret",
sanic/tests/test_requests.py,556,"Without configured FORWARDED_SECRET, x-headers should be respected",
sanic/tests/test_requests.py,590,Empty Forwarded header -> use X-headers,
sanic/tests/test_requests.py,595,Header present but not matching anything,
sanic/tests/test_requests.py,601,Forwarded header present but no matching secret -> use X-headers,
sanic/tests/test_requests.py,610,Different formatting and hitting both ends of the header,
sanic/tests/test_requests.py,619,Test escapes (modify this if you see anyone implementing quoted-pairs),
sanic/tests/test_requests.py,628,Secret insulated by malformed field #1,
sanic/tests/test_requests.py,633,Secret insulated by malformed field #2,
sanic/tests/test_requests.py,638,Unexpected termination should not lose existing acceptable values,
sanic/tests/test_requests.py,643,Field normalization,
sanic/tests/test_requests.py,657,"Using ""by"" field as secret",
sanic/tests/test_requests.py,887,------------------------------------------------------------,
sanic/tests/test_requests.py,888,POST,
sanic/tests/test_requests.py,889,------------------------------------------------------------,
sanic/tests/test_requests.py,905,for request.parsed_json,
sanic/tests/test_requests.py,923,for request.parsed_json,
sanic/tests/test_requests.py,940,For request.parsed_form,
sanic/tests/test_requests.py,957,For request.parsed_form,
sanic/tests/test_requests.py,1611,test multiple params with the same key,
sanic/tests/test_requests.py,1622,test cached value,
sanic/tests/test_requests.py,1628,test params directly in the url,
sanic/tests/test_requests.py,1633,test unique params,
sanic/tests/test_requests.py,1640,test no params,
sanic/tests/test_requests.py,1648,test multiple params with the same key,
sanic/tests/test_requests.py,1659,test cached value,
sanic/tests/test_requests.py,1665,test params directly in the url,
sanic/tests/test_requests.py,1670,test unique params,
sanic/tests/test_requests.py,1677,test no params,
sanic/tests/test_requests.py,1761,For request._cookies,
sanic/tests/test_requests.py,1776,For request._cookies,
sanic/tests/test_requests.py,1869,For now (later maybe 127.0.0.1),
sanic/tests/test_logo.py,9,noqa,
sanic/tests/test_middleware.py,10,------------------------------------------------------------,
sanic/tests/test_middleware.py,11,GET,
sanic/tests/test_middleware.py,12,------------------------------------------------------------,
sanic/tests/test_middleware.py,108,404 errors are not logged,
sanic/tests/test_middleware.py,114,Middleware exception ignored but logged,
sanic/tests/test_named_routes.py,1,!/usr/bin/env python3,
sanic/tests/test_named_routes.py,2,-*- coding: utf-8 -*-,
sanic/tests/test_named_routes.py,14,------------------------------------------------------------,
sanic/tests/test_named_routes.py,15,UTF-8,
sanic/tests/test_named_routes.py,16,------------------------------------------------------------,
sanic/tests/test_app.py,16,noqa,
sanic/tests/test_app.py,76,Looks like we can't easily test `serve_forever()`,
sanic/tests/test_app.py,119,"Not sure how to make app.router.get() return None, so use mock here.",
sanic/tests/test_app.py,150,"Not sure how to raise an exception in app.error_handler.response(), use mock here",
sanic/tests/test_app.py,171,"Not sure how to raise an exception in app.error_handler.response(), use mock here",
sanic/tests/test_app.py,192,"Not sure how to raise an exception in app.error_handler.response(), use mock here",
sanic/tests/test_multiprocessing.py,20,Selects a number at random so we can spot check,
sanic/tests/test_multiprocessing.py,41,Selects a number at random so we can spot check,
sanic/tests/test_multiprocessing.py,60,this function must be outside a test function so that it can be,
sanic/tests/test_multiprocessing.py,61,able to be pickled (local functions cannot be pickled).,
sanic/tests/test_multiprocessing.py,66,Multiprocessing on Windows requires app to be able to be pickled,
sanic/tests/test_signal_handlers.py,77,"At least some code coverage, even though this test doesn't work on",
sanic/tests/test_signal_handlers.py,78,Windows...,
sanic/tests/test_signal_handlers.py,99,First Ctrl+C: should call app.stop() within 0.1 seconds,
sanic/tests/test_signal_handlers.py,104,Second Ctrl+C should raise,
sanic/tests/test_signal_handlers.py,109,Run in our private loop,
sanic/tests/test_url_for_static.py,82,test for other parameters,
sanic/tests/test_url_for_static.py,94,test for defined name,
sanic/tests/test_url_for_static.py,200,blueprint,
sanic/tests/test_url_for_static.py,248,blueprint,
sanic/tests/test_url_for_static.py,304,blueprint,
sanic/tests/test_url_for_static.py,360,blueprint,
sanic/tests/test_url_for_static.py,416,blueprint,
sanic/tests/test_url_for_static.py,471,blueprint,
sanic/tests/test_cookies.py,10,------------------------------------------------------------,
sanic/tests/test_cookies.py,11,GET,
sanic/tests/test_cookies.py,12,------------------------------------------------------------,
sanic/tests/test_cookies.py,191,Grabbing utcnow after the response may lead to it being off slightly.,
sanic/tests/test_cookies.py,192,"Therefore, we 0 out the microseconds, and accept the test if there",
sanic/tests/test_cookies.py,193,is a 1 second difference.,
sanic/tests/test_config.py,269,use defaults,
sanic/tests/test_logging.py,50,reset_logging(),
sanic/tests/test_logging.py,77,reset_logging(),
sanic/tests/test_logging.py,118,catch ValueError: Exception during request,
sanic/tests/test_logging.py,144,Note: testing with random port doesn't show the banner because it doesn't,
sanic/tests/test_logging.py,145,define host and port. This test supports both modes.,
sanic/tests/test_logging.py,167,"Same as test_logger, except for more coverage:",
sanic/tests/test_logging.py,168,- test_client initialised separately for static port,
sanic/tests/test_logging.py,169,- using ssl,
sanic/tests/test_logging.py,213,reset_logging(),
sanic/tests/test_dynamic_routes.py,38,"if this doesn't raise an error, than at least the below should happen:",
sanic/tests/test_dynamic_routes.py,39,assert response.text == 'Duplicated',
sanic/tests/test_response_timeout.py,51,"If we get a CancelledError, it means sanic has already sent a response,",
sanic/tests/test_response_timeout.py,52,we should not ever have to handle a CancelledError.,
sanic/tests/test_response_timeout.py,55,"The client will never receive this response, because the socket",
sanic/tests/test_response_timeout.py,56,is already closed when we get a CancelledError.,
sanic/tests/test_server_events.py,51,Register listener,
sanic/tests/test_server_events.py,65,Register listener,
sanic/tests/test_server_events.py,125,Use random port for tests,
sanic/tests/test_server_events.py,138,Run the on_stop function if provided,
sanic/tests/test_server_events.py,141,Wait for server to close,
sanic/tests/test_server_events.py,145,Complete all tasks on the loop,
sanic/tests/test_request_data.py,20,Accessing non-existant key should fail with AttributeError,
sanic/tests/test_exceptions_handler.py,29,noqa -- F821 undefined name 'bar' is done to throw exception,
sanic/tests/test_exceptions_handler.py,153,once again to ensure there is no caching bug,
sanic/tests/test_response.py,128,Indentation issues in the Response is intentional. Please do not fix,
sanic/tests/test_response.py,227,Content-Length is not allowed by HTTP/1.1 specification,
sanic/tests/test_response.py,228,"when ""Transfer-Encoding: chunked"" is used",
sanic/tests/test_response.py,527,"Return a normal HTTPResponse, not a",
sanic/tests/test_response.py,528,StreamingHTTPResponse for a HEAD request,
sanic/tests/test_response.py,545,A HEAD request should never be streamed/chunked.,
sanic/tests/test_response.py,549,A HEAD request should get the Content-Length too,
sanic/tests/test_test_client_port.py,5,------------------------------------------------------------,
sanic/tests/test_test_client_port.py,6,UTF-8,
sanic/tests/test_test_client_port.py,7,------------------------------------------------------------,
sanic/tests/test_test_client_port.py,30,Can be None before request,
sanic/tests/test_asgi.py,44,@pytest.mark.asyncio,
sanic/tests/performance/tornado/simple_server.py,1,Run with: python simple_server.py,
sanic/tests/performance/bottle/simple_server.py,1,Run with: gunicorn --workers=1 --worker-class=meinheld.gmeinheld.MeinheldWorker -b :8000 simple_server:app,
sanic/tests/performance/aiohttp/simple_server.py,1,Run with python3 simple_server.py PORT,
sanic/tests/performance/falcon/simple_server.py,1,Run with: gunicorn --workers=1 --worker-class=meinheld.gmeinheld.MeinheldWorker falc:app,
sanic/tests/performance/kyoukai/simple_server.py,1,Run with: python3 -O simple_server.py,
sanic/tests/performance/,64,import asyncio_redis,
sanic/tests/performance/,65,import asyncpg,
sanic/tests/performance/,66,"async def setup(sanic, loop):",
sanic/tests/performance/,67,sanic.conn = [],
sanic/tests/performance/,68,sanic.redis = [],
sanic/tests/performance/,69,for x in range(10):,
sanic/tests/performance/,70,"sanic.conn.append(await asyncpg.connect(user='postgres', password='zomgdev', database='postgres', host='192.168.99.100'))",
sanic/tests/performance/,71,for n in range(30):,
sanic/tests/performance/,72,"connection = await asyncio_redis.Connection.create(host='192.168.99.100', port=6379)",
sanic/tests/performance/,73,sanic.redis.append(connection),
sanic/tests/performance/,76,c=0,
sanic/tests/performance/,77,"@app.route(""/postgres"")",
sanic/tests/performance/,78,async def postgres(request):,
sanic/tests/performance/,79,global c,
sanic/tests/performance/,80,values = await app.conn[c].fetch('''SELECT * FROM players'''),
sanic/tests/performance/,81,c += 1,
sanic/tests/performance/,82,if c == 10:,
sanic/tests/performance/,83,c = 0,
sanic/tests/performance/,84,"return text(""yep"")",
sanic/tests/performance/,86,r=0,
sanic/tests/performance/,87,"@app.route(""/redis"")",
sanic/tests/performance/,88,async def redis(request):,
sanic/tests/performance/,89,global r,
sanic/tests/performance/,90,try:,
sanic/tests/performance/,91,values = await app.redis[r].get('my_key'),
sanic/tests/performance/,92,except asyncio_redis.exceptions.ConnectionLostError:,
sanic/tests/performance/,93,"app.redis[r] = await asyncio_redis.Connection.create(host='127.0.0.1', port=6379)",
sanic/tests/performance/,94,values = await app.redis[r].get('my_key'),
sanic/tests/performance/,96,r += 1,
sanic/tests/performance/,97,if r == 30:,
sanic/tests/performance/,98,r = 0,
sanic/tests/performance/,99,return text(values),
sanic/tests/performance/wheezy/simple_server.py,1,Run with: gunicorn --workers=1 --worker-class=meinheld.gmeinheld.MeinheldWorker simple_server:main,
sanic/tests/performance/wheezy/simple_server.py,26,"url('', welcome, name='welcome')",
sanic/tests/benchmark/test_route_resolution_benchmark.py,10,Disable Caching for testing purpose,
sanic/,6,type: ignore,
sanic/,17,type: ignore,
sanic/,24,type: ignore,
sanic/,25,type: ignore  # noqa: F401,
sanic/,35,"If someone else stopped the app, just exit",
sanic/,38,Windows Python blocks signal handlers while the event loop is,
sanic/,39,waiting for I/O. Frequent wakeups keep interrupts flowing.,
sanic/,41,"Can't be called from signal handler, so call it from here",
sanic/,9,type: ignore,
sanic/,22,type: ignore,
sanic/,24,type: ignore,
sanic/,29,HTTP/1.1: https://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1,
sanic/,30,"> If the media type remains unknown, the recipient SHOULD treat it",
sanic/,31,"> as type ""application/octet-stream""",
sanic/,109,TODO: Content-Encoding detection,
sanic/,118,Init but do not inhale,
sanic/,212,TODO: Stream this instead of reading to/from memory,
sanic/,225,compute form to get files,
sanic/,513,Full URL SERVER_NAME can only be handled in app.url_for,
sanic/,575,"non-ASCII filenames in RFC2231, ""filename*"" format",
sanic/,15,type: ignore,
sanic/,16,type: ignore,
sanic/,33,type: ignore,
sanic/,53,app,
sanic/,55,"event loop, connection",
sanic/,60,request params,
sanic/,65,request config,
sanic/,75,enable or disable access log purpose,
sanic/,77,connection management,
sanic/,160,--------------------------------------------,
sanic/,161,Connection,
sanic/,162,--------------------------------------------,
sanic/,192,"See the docstring in the RequestTimeout exception, to see",
sanic/,193,exactly what this timeout is checking for.,
sanic/,194,Check if elapsed time since request initiated exceeds our,
sanic/,195,configured maximum request timeout value,
sanic/,210,Check if elapsed time since response was initiated exceeds our,
sanic/,211,configured maximum request timeout value,
sanic/,244,--------------------------------------------,
sanic/,245,Parsing,
sanic/,246,--------------------------------------------,
sanic/,249,Check for the request itself getting too large and exceeding,
sanic/,250,memory limits,
sanic/,255,Create parser if this is the first time we're receiving data,
sanic/,261,requests count,
sanic/,264,Parse request chunk or close connection,
sanic/,307,"Remove any existing KeepAlive handler here,",
sanic/,308,It will be recreated if required on the new request.,
sanic/,341,body chunks can be put into asyncio.Queue out of order if,
sanic/,342,multiple tasks put concurrently and the queue is full in python,
sanic/,343,3.7. so we should not create more than one task putting into the,
sanic/,344,queue simultaneously.,
sanic/,382,Entire request (headers and whole body) is received.,
sanic/,383,We can cancel and remove the request timeout handler now.,
sanic/,417,--------------------------------------------,
sanic/,418,Responding,
sanic/,419,--------------------------------------------,
sanic/,546,An error _is_ a response.,
sanic/,547,"Don't throw a response timeout, when a response _is_ given.",
sanic/,676,"Note, Sanic already called ""before_server_start"" events",
sanic/,677,before this helper was even created. So we don't need it here.,
sanic/,790,create new event_loop after fork,
sanic/,842,Ignore SIGINT when run_multiple,
sanic/,846,Register signals for graceful termination,
sanic/,860,Run the on_stop function if provided,
sanic/,863,Wait for event loop to finish and all connections to drain,
sanic/,867,Complete all tasks on the loop,
sanic/,872,Gracefully shutdown timeout.,
sanic/,873,"We should provide graceful_shutdown_timeout,",
sanic/,874,instead of letting connection hangs forever.,
sanic/,875,Let's roughly calcucate time.,
sanic/,882,Force close non-idle connection after waiting for,
sanic/,883,graceful_shutdown_timeout,
sanic/,911,Handling when custom socket is not provided.,
sanic/,941,the above processes will block this until they're stopped,
sanic/,9,------------------------------------------------------------,
sanic/,10,SimpleCookie,
sanic/,11,------------------------------------------------------------,
sanic/,13,Straight up copied this section of dark magic from SimpleCookie,
sanic/,38,------------------------------------------------------------,
sanic/,39,Custom SimpleCookie,
sanic/,40,------------------------------------------------------------,
sanic/,56,"If this cookie doesn't exist, add it to the header keys",
sanic/,72,remove it from header,
sanic/,109,Routes,
sanic/,111,attach the blueprint name to the handler so that it can be,
sanic/,112,prefixed properly in the router,
sanic/,114,Prepend the blueprint URI prefix if available,
sanic/,132,attach the blueprint name to the handler so that it can be,
sanic/,133,prefixed properly in the router,
sanic/,135,Prepend the blueprint URI prefix if available,
sanic/,147,Middleware,
sanic/,159,Exceptions,
sanic/,163,Static Files,
sanic/,165,Prepend the blueprint URI prefix if available,
sanic/,171,Event listeners,
sanic/,244,Handle HTTPMethodView differently,
sanic/,255,handle composition view differently,
sanic/,337,"Detect which way this was called, @middleware or @middleware('AT')",
sanic/,389,Shorthand method decorators,
sanic/,105,We could receive NAME or NAME:PATTERN,
sanic/,116,Pull from pre-configured types,
sanic/,147,add regular version,
sanic/,154,we have gotten back to the top of the recursion tree where the,
sanic/,155,"host was originally a list. By now, we've processed the strict",
sanic/,156,slashes logic on the leaf nodes (the individual host strings in,
sanic/,157,the list of host),
sanic/,160,Add versions with and without trailing /,
sanic/,178,add version with trailing slash,
sanic/,181,add version without trailing slash,
sanic/,214,Dict for faster lookups of if method allowed,
sanic/,235,Mark the whole route as unhashable if it has the hash key in it,
sanic/,238,Mark the route as unhashable if it matches the hash key,
sanic/,248,merge to the existing route when possible.,
sanic/,250,method-unspecified routes are not mergeable.,
sanic/,253,already existing method is not overloadable.,
sanic/,272,"TODO: This is too complex, we need to reduce the complexity",
sanic/,284,"Pop the ndx of the route, no dups of the same route",
sanic/,289,prefix the handler name with the blueprint name,
sanic/,290,if available,
sanic/,291,special prefix for static files,
sanic/,377,No virtual hosts specified; default behavior,
sanic/,380,virtual hosts specified; try to match route to the host header,
sanic/,386,try default hosts,
sanic/,397,if methods are None then this logic will prevent an error,
sanic/,410,Check against known static routes,
sanic/,424,Move on to testing all regex routes,
sanic/,428,Do early method checking,
sanic/,432,"Lastly, check against all regex routes that cannot be hashed",
sanic/,436,Do early method checking,
sanic/,440,Route was found but the methods didn't match,
sanic/,17,The list call is necessary on Python 3 in case the module,
sanic/,18,dictionary modifies during iteration.,
sanic/,42,Parent exe was launched as a module rather than a script,
sanic/,121,should signal error here,
sanic/,42,"type: Optional[Dict[str, Any]]",
sanic/,70,According to https://tools.ietf.org/html/rfc2616#section-7.1,
sanic/,87,According to https://tools.ietf.org/html/rfc2616#section-13.5.1,
sanic/,18,noqa,
sanic/,108,TODO:,
sanic/,109,- Validation on data and that it is formatted properly and is valid,
sanic/,246,TODO:,
sanic/,247,- close connection,
sanic/,10,"Here, There Be Dragons (custom HTML formatting to follow)",
sanic/,46,Keeping it minimal with trailing newline for pretty curl/console output,
sanic/,195,this case represents `Content-Range: bytes 5-`,
sanic/,199,this case represents `Content-Range: bytes -5`,
sanic/,11,type: ignore,
sanic/,12,type: ignore,
sanic/,41,self.app = None,
sanic/,48,timeouts make no sense for websocket routes,
sanic/,68,pass the data to the websocket protocol,
sanic/,74,"this is okay, it just indicates we've got an upgrade request",
sanic/,79,websocket requests do not write a response,
sanic/,85,let the websockets package do the handshake with the client,
sanic/,96,select a subprotocol,
sanic/,107,write the 101 response back to the client,
sanic/,114,hook up the websocket protocol,
sanic/,122,Following two lines are required for websockets 8.x,
sanic/,133,TODO,
sanic/,134,- Implement ping/pong,
sanic/,19,This is done in order to ensure that the JSON response is,
sanic/,20,kept consistent across both ujson and inbuilt json usage.,
sanic/,47,self.headers get priority over content_type,
sanic/,122,"no need to await drain here after this write, because it is the",
sanic/,123,very last thing we write and nothing needs to wait for it.,
sanic/,220,Type conversions are deprecated and quite b0rked but still supported for,
sanic/,221,text() until applications get fixed. This try-except should be removed.,
sanic/,223,Avoid repr(body).encode() b0rkage for body that is already encoded.,
sanic/,224,memoryview used only to test bytes-ishness.,
sanic/,228,no-op if body is already str,
sanic/,426,URL Quote the URL before redirecting,
sanic/,429,"According to RFC 7231, a relative URI is now permitted.",
sanic/,17,100 megabytes,
sanic/,19,60 seconds,
sanic/,20,60 seconds,
sanic/,22,5 seconds,
sanic/,23,1 megabyte,
sanic/,27,15 sec,
sanic/,84,nosec,
sanic/,53,Get name from previous stack frame,
sanic/,65,logging,
sanic/,91,Register alternative method names,
sanic/,107,--------------------------------------------------------------------,
sanic/,108,Registration,
sanic/,109,--------------------------------------------------------------------,
sanic/,139,Decorator,
sanic/,163,Decorator,
sanic/,186,Fix case where the user did not prefix the URL with a /,
sanic/,187,and will probably get confused as to why it's not working,
sanic/,199,"if a handler fn is already wrapped in a route, the handler",
sanic/,200,"variable will be a tuple of (existing routes, handler fn)",
sanic/,232,Shorthand method decorators,
sanic/,430,Handle HTTPMethodView differently,
sanic/,441,handle composition view differently,
sanic/,463,Decorator,
sanic/,481,Fix case where the user did not prefix the URL with a /,
sanic/,482,and will probably get confused as to why it's not working,
sanic/,491,"if a handler fn is already wrapped in a route, the handler",
sanic/,492,"variable will be a tuple of (existing routes, handler fn)",
sanic/,519,schedule the application handler,
sanic/,520,its future is kept in self.websocket_tasks in case it,
sanic/,521,needs to be cancelled due to the server being stopped,
sanic/,590,"if the server is stopped, we want to cancel any ongoing",
sanic/,591,"websocket tasks, to allow the server to exit promptly",
sanic/,599,Decorator,
sanic/,658,Decorator,
sanic/,668,"Detect which way this was called, @middleware or @middleware('AT')",
sanic/,677,Static Files,
sanic/,793,find the route by the supplied view name,
sanic/,795,special static files url_for,
sanic/,798,blueprint.static,
sanic/,808,"If the route has host defined, split that off",
sanic/,809,TODO: Retain netloc and path separately in Route objects,
sanic/,818,it's static folder,
sanic/,834,find all the parameters we will need to build in the URL,
sanic/,837,"_method is only a placeholder now, don't know how to support it",
sanic/,840,_external need SERVER_NAME in config or pass _server arg,
sanic/,862,we only want to match against each individual parameter,
sanic/,875,determine if the parameter supplied by the caller passes the test,
sanic/,876,in the URL,
sanic/,895,replace the parameter in the URL with the supplied value,
sanic/,900,parse the remainder of the keyword arguments into a querystring,
sanic/,902,scheme://netloc/path;parameters?query#fragment,
sanic/,907,--------------------------------------------------------------------,
sanic/,908,Request Handling,
sanic/,909,--------------------------------------------------------------------,
sanic/,930,Define `response` var here to remove warnings about,
sanic/,931,allocation before assignment below.,
sanic/,936,Fetch handler from router,
sanic/,939,--------------------------------------------,
sanic/,940,Request Middleware,
sanic/,941,--------------------------------------------,
sanic/,945,No middleware results,
sanic/,947,--------------------------------------------,
sanic/,948,Execute Handler,
sanic/,949,--------------------------------------------,
sanic/,970,Run response handler,
sanic/,975,"If response handler times out, the server handles the error",
sanic/,976,and cancels the handle_request job.,
sanic/,977,"In this case, the transport is already closed and we cannot",
sanic/,978,issue a response.,
sanic/,982,--------------------------------------------,
sanic/,983,Response Generation Failed,
sanic/,984,--------------------------------------------,
sanic/,1006,--------------------------------------------,
sanic/,1007,Response Middleware,
sanic/,1008,--------------------------------------------,
sanic/,1009,Don't run response middleware if response is None,
sanic/,1016,"Response middleware can timeout too, as above.",
sanic/,1027,pass the response to the correct callback,
sanic/,1034,Should only end here IF it is an ASGI websocket.,
sanic/,1035,TODO:,
sanic/,1036,- Add exception handling,
sanic/,1041,--------------------------------------------------------------------,
sanic/,1042,Testing,
sanic/,1043,--------------------------------------------------------------------,
sanic/,1053,--------------------------------------------------------------------,
sanic/,1054,Execution,
sanic/,1055,--------------------------------------------------------------------,
sanic/,1110,Default auto_reload to false,
sanic/,1112,"If debug is set, default it to true (unless on windows)",
sanic/,1115,Allow for overriding either of the defaults,
sanic/,1132,if access_log is passed explicitly change config.ACCESS_LOG,
sanic/,1160,This condition must be removed after implementing,
sanic/,1161,auto reloader for other operating systems.,
sanic/,1258,if access_log is passed explicitly change config.ACCESS_LOG,
sanic/,1274,Trigger before_start events,
sanic/,1295,The if improves speed.  I don't know why,
sanic/,1344,try common aliaseses,
sanic/,1382,--------------------------------------------,
sanic/,1383,Register start/stop events,
sanic/,1384,--------------------------------------------,
sanic/,1395,Prepend sanic to the arguments when listeners are triggered,
sanic/,1415,Serve,
sanic/,1428,--------------------------------------------------------------------,
sanic/,1429,ASGI,
sanic/,1430,--------------------------------------------------------------------,
sanic/,29,quiet=None/False/True with None meaning choose by status,
sanic/,168,"if auth-scheme is specified, set ""WWW-Authenticate"" header",
sanic/,189,These are stored as bytes in the STATUS_CODES dict,
sanic/,31,"TODO: Though sanic is not a file server, I feel like we should at least",
sanic/,32,"make a good effort here.  Modified-since is nice, but we could",
sanic/,33,"also look into etags, expires, and caching",
sanic/,54,"If we're not trying to match a file directly,",
sanic/,55,serve from the folder,
sanic/,60,Using this to determine if the URL is trying to break out of the path,
sanic/,61,served.  os.path.realpath seems to be very slow,
sanic/,64,Merge served directory and requested file if provided,
sanic/,65,Strip all / that in the beginning of the URL to help prevent python,
sanic/,66,from herping a derp and treating the uri as an absolute path,
sanic/,73,URL decode the path sent by the browser otherwise we won't be able to,
sanic/,74,match filenames which got encoded (filenames with spaces etc),
sanic/,82,Check if the client has been sent this file before,
sanic/,83,and it has not been modified since,
sanic/,135,special prefix for static files,
sanic/,8,type: ignore,
sanic/,15,type: ignore,
sanic/,17,type: ignore,
sanic/,20,type: ignore,
sanic/,32,pragma: no cover,
sanic/,45,create new event_loop after fork,
sanic/,103,stop accepting connections,
sanic/,114,prepare connections for closing,
sanic/,119,gracefully shutdown timeout,
sanic/,128,Force close non-idle connection after waiting for,
sanic/,129,graceful_shutdown_timeout,
sanic/,153,If our parent changed then we shut down.,
sanic/,190,Set up signals through the event loop API.,
sanic/,216,Don't let SIGTERM and SIGUSR1 disturb active requests,
sanic/,217,by interrupting system calls,
sanic/,9,Values convertible to str,
sanic/,10,key=value fields in various headers,
sanic/,11,May contain duplicate keys,
sanic/,22,"RFC's quoted-pair escapes are mostly ignored by browsers. Chrome, Firefox and",
sanic/,23,"curl all have different escaping, that we try to handle as well as possible,",
sanic/,24,even though no client espaces in a way that would allow perfect handling.,
sanic/,26,"For more information, consult ../tests/test_requests.py",
sanic/,51,https://tools.ietf.org/html/rfc7230#section-3.2.6 and,
sanic/,52,https://tools.ietf.org/html/rfc7239#section-4,
sanic/,53,This regex is for *reversed* strings because that works much faster for,
sanic/,54,right-to-left matching than the other way around. Be wary that all things are,
sanic/,55,"a bit backwards! _rparam matches forwarded pairs alike "";key=value""",
sanic/,68,Join multiple header lines,
sanic/,71,Loop over <separator><key>=<value> elements from right to left,
sanic/,76,Start of new element? (on parser skips and non-semicolon right sep),
sanic/,78,Was the previous element (from right) what we wanted?,
sanic/,81,Clear values and parse as new element,
sanic/,90,"Check if we would return on next round, to avoid useless parse",
sanic/,93,"If secret was found, return the matching options in left-to-right order",
sanic/,105,"Combine, split and filter multiple headers' entries",
sanic/,117,No processing of other headers if no address is found,
sanic/,125,Overrides X-Scheme if present,
sanic/,159,omit unknown value identifiers,
sanic/,161,do not lower-case obfuscated strings,
sanic/,163,bracket IPv6,
sanic/,50,response can be decoded as json after response._content,
sanic/,51,is set by response.aread(),
sanic/,116,"Tests construct URLs using PORT = None, which means random port not",
sanic/,117,"known until this function is called, so fix that here",
sanic/,142,noqa,
sanic/,149,noqa,
sanic/scripts/changelog.py,1,!/usr/bin/env python,
sanic/scripts/release.py,1,!/usr/bin/env python,
sanic/examples/run_async_advanced.py,31,Wait for server to close,
sanic/examples/run_async_advanced.py,35,Complete all tasks on the loop,
sanic/examples/sentry_example.py,17,noinspection PyUnusedLocal,
sanic/examples/sentry_example.py,25,noinspection PyUnusedLocal,
sanic/examples/exception_monitoring.py,21,"Here, we have access to the exception object",
sanic/examples/exception_monitoring.py,22,"and can do anything with it (log, send to external service, etc)",
sanic/examples/exception_monitoring.py,24,"Some exceptions are trivial and built into Sanic (404s, etc)",
sanic/examples/exception_monitoring.py,28,"Then, we must finish handling the exception by returning",
sanic/examples/exception_monitoring.py,29,our response to the client,
sanic/examples/exception_monitoring.py,30,For this we can just call the super class' default handler,
sanic/examples/exception_monitoring.py,49,"Here, something occurs which causes an unexpected exception",
sanic/examples/exception_monitoring.py,50,This exception will flow to our custom handler.,
sanic/examples/amending_request_object.py,10,Add new key with random value,
sanic/examples/amending_request_object.py,16,Pop key from request object,
sanic/examples/amending_request_object.py,23,Check the key is exist or not,
sanic/examples/override_logging.py,15,Set logger to override default basicConfig,
sanic/examples/url_for_example.py,9,generate a URL for the endpoint `post_handler`,
sanic/examples/url_for_example.py,11,"the URL is `/posts/5`, redirect to it",
sanic/examples/vhosts.py,5,Usage,
sanic/examples/vhosts.py,6,"curl -H ""Host: example.com"" localhost:8000",
sanic/examples/vhosts.py,7,"curl -H ""Host: sub.example.com"" localhost:8000",
sanic/examples/vhosts.py,8,"curl -H ""Host: bp.example.com"" localhost:8000/question",
sanic/examples/vhosts.py,9,"curl -H ""Host: bp.example.com"" localhost:8000/answer",
sanic/examples/unix_socket.py,15,Make sure the socket does not already exist,
sanic/examples/authorized_,1,-*- coding: utf-8 -*-,
sanic/examples/authorized_,11,"Note: Define your check, for instance cookie, session.",
sanic/examples/authorized_,19,run some method that checks the request,
sanic/examples/authorized_,20,for the client's authorization status,
sanic/examples/authorized_,24,the user is authorized.,
sanic/examples/authorized_,25,run the handler method and return the response,
sanic/examples/authorized_,29,the user is not authorized.,
sanic/examples/try_everything.py,48,-----------------------------------------------,
sanic/examples/try_everything.py,49,Exceptions,
sanic/examples/try_everything.py,50,-----------------------------------------------,
sanic/examples/try_everything.py,59,-----------------------------------------------,
sanic/examples/try_everything.py,60,Read from request,
sanic/examples/try_everything.py,61,-----------------------------------------------,
sanic/examples/try_everything.py,79,-----------------------------------------------,
sanic/examples/try_everything.py,80,Run Server,
sanic/examples/try_everything.py,81,-----------------------------------------------,
sanic/examples/add_task_,1,-*- coding: utf-8 -*-,
sanic/examples/run_asgi.py,57,await response.write(body),
sanic/examples/request_stream/client.py,3,Warning: This is a heavy process.,
sanic/docs/conf.py,1,!/usr/bin/env python3,
sanic/docs/conf.py,2,-*- coding: utf-8 -*-,
sanic/docs/conf.py,3,,
sanic/docs/conf.py,4,"Sanic documentation build configuration file, created by",
sanic/docs/conf.py,5,sphinx-quickstart on Sun Dec 25 18:07:21 2016.,
sanic/docs/conf.py,6,,
sanic/docs/conf.py,7,This file is execfile()d with the current directory set to its,
sanic/docs/conf.py,8,containing dir.,
sanic/docs/conf.py,13,Add support for auto-doc,
sanic/docs/conf.py,17,"Ensure that sanic is present in the path, to allow sphinx-apidoc to",
sanic/docs/conf.py,18,autogenerate documentation from docstrings,
sanic/docs/conf.py,24,-- General configuration ------------------------------------------------,
sanic/docs/conf.py,30,Enable support for both Restructured Text and Markdown,
sanic/docs/conf.py,33,The master toctree document.,
sanic/docs/conf.py,36,General information about the project.,
sanic/docs/conf.py,41,"The version info for the project you're documenting, acts as replacement for",
sanic/docs/conf.py,42,"|version| and |release|, also used in various other places throughout the",
sanic/docs/conf.py,43,built documents.,
sanic/docs/conf.py,44,,
sanic/docs/conf.py,45,The short X.Y version.,
sanic/docs/conf.py,47,"The full version, including alpha/beta/rc tags.",
sanic/docs/conf.py,50,The language for content autogenerated by Sphinx. Refer to documentation,
sanic/docs/conf.py,51,for a list of supported languages.,
sanic/docs/conf.py,52,,
sanic/docs/conf.py,53,This is also used if you do content translation via gettext catalogs.,
sanic/docs/conf.py,54,"Usually you set ""language"" from the command line for these cases.",
sanic/docs/conf.py,57,"List of patterns, relative to source directory, that match files and",
sanic/docs/conf.py,58,directories to ignore when looking for source files.,
sanic/docs/conf.py,59,This patterns also effect to html_static_path and html_extra_path,
sanic/docs/conf.py,60,,
sanic/docs/conf.py,61,modules.rst is generated by sphinx-apidoc but is unused. This suppresses,
sanic/docs/conf.py,62,a warning about it.,
sanic/docs/conf.py,65,The name of the Pygments (syntax highlighting) style to use.,
sanic/docs/conf.py,68,"If true, `todo` and `todoList` produce output, else they produce nothing.",
sanic/docs/conf.py,71,-- Options for HTML output ----------------------------------------------,
sanic/docs/conf.py,73,The theme to use for HTML and HTML Help pages.  See the documentation for,
sanic/docs/conf.py,74,a list of builtin themes.,
sanic/docs/conf.py,77,"Add any paths that contain custom static files (such as style sheets) here,",
sanic/docs/conf.py,78,"relative to this directory. They are copied after the builtin static files,",
sanic/docs/conf.py,79,"so a file named ""default.css"" will overwrite the builtin ""default.css"".",
sanic/docs/conf.py,82,-- Options for HTMLHelp output ------------------------------------------,
sanic/docs/conf.py,84,Output file base name for HTML help builder.,
sanic/docs/conf.py,87,-- Options for LaTeX output ---------------------------------------------,
sanic/docs/conf.py,90,The paper size ('letterpaper' or 'a4paper').,
sanic/docs/conf.py,91,,
sanic/docs/conf.py,92,"'papersize': 'letterpaper',",
sanic/docs/conf.py,94,"The font size ('10pt', '11pt' or '12pt').",
sanic/docs/conf.py,95,,
sanic/docs/conf.py,96,"'pointsize': '10pt',",
sanic/docs/conf.py,98,Additional stuff for the LaTeX preamble.,
sanic/docs/conf.py,99,,
sanic/docs/conf.py,100,"'preamble': '',",
sanic/docs/conf.py,102,Latex figure (float) alignment,
sanic/docs/conf.py,103,,
sanic/docs/conf.py,104,"'figure_align': 'htbp',",
sanic/docs/conf.py,107,Grouping the document tree into LaTeX files. List of tuples,
sanic/docs/conf.py,108,"(source start file, target name, title,",
sanic/docs/conf.py,109,"author, documentclass [howto, manual, or own class]).",
sanic/docs/conf.py,113,-- Options for manual page output ---------------------------------------,
sanic/docs/conf.py,115,One entry per manual page. List of tuples,
sanic/docs/conf.py,116,"(source start file, name, description, authors, manual section).",
sanic/docs/conf.py,119,-- Options for Texinfo output -------------------------------------------,
sanic/docs/conf.py,121,Grouping the document tree into Texinfo files. List of tuples,
sanic/docs/conf.py,122,"(source start file, target name, title, author,",
sanic/docs/conf.py,123,"dir menu entry, description, category)",
sanic/docs/conf.py,129,-- Options for Epub output ----------------------------------------------,
sanic/docs/conf.py,131,Bibliographic Dublin Core info.,
sanic/docs/conf.py,137,A list of files that should not be packed into the epub file.,
sanic/docs/conf.py,140,-- Custom Settings -------------------------------------------------------,
sanic/docs/conf.py,145,app setup hook,
